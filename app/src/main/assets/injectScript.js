/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={22:(e,t,r)=>{"use strict";const n=r(8341).v4,i=r(3289),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=s,s.prototype.request=function(e,t,r,n){const s=this;let o=null;const a=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof t)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);const s="function"==typeof n;try{o=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return n(e);throw e}if(!s)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(c,function(e,t){s._parseResponse(e,t,n)}),o},s.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)}},213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,o),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},229:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ethereumAPIs=void 0;const i=r(6619),s=r(5104),o=r(6228);t.ethereumAPIs={on:(e,t)=>{const r=r=>{var i,s,a,c,u,l,d,h;(null===(i=r.data)||void 0===i?void 0:i.isCosmostation)&&(null===(s=r.data)||void 0===s?void 0:s.type)===e&&("accountsChanged"===e&&Array.isArray(null===(c=null===(a=r.data)||void 0===a?void 0:a.message)||void 0===c?void 0:c.result)&&0===(null===(l=null===(u=r.data)||void 0===u?void 0:u.message)||void 0===l?void 0:l.result.length)?n(void 0,void 0,void 0,function*(){try{const e=yield(0,o.request)({method:"eth_requestAccounts",params:{}});t(e)}catch(e){t([])}}):t(null===(h=null===(d=r.data)||void 0===d?void 0:d.message)||void 0===h?void 0:h.result))};return window.addEventListener("message",r),window.cosmostation.handlerInfos.push({eventName:e,originHandler:t,handler:r}),r},off:(e,t)=>{if(void 0===t)window.removeEventListener("message",e);else{const r=window.cosmostation.handlerInfos.filter(r=>r.eventName===e&&r.originHandler===t),n=window.cosmostation.handlerInfos.filter(r=>!(r.eventName===e&&r.originHandler===t));r.forEach(e=>{window.removeEventListener("message",e.handler)}),window.cosmostation.handlerInfos=n}},send:(e,t)=>{const r=(0,s.uuidv4)();if("string"==typeof e)return new Promise((n,s)=>{const o=e=>{var t,i,a;if((null===(t=e.data)||void 0===t?void 0:t.isCosmostation)&&(null===(i=e.data)||void 0===i?void 0:i.messageId)===r){window.removeEventListener("message",o);const{data:t}=e;(null===(a=t.response)||void 0===a?void 0:a.error)?s(t.response):n({result:t.response.result,jsonrpc:"2.0",id:void 0})}};window.addEventListener("message",o),(0,i.sendMessageWebToApp)({method:e,params:t},r)});const n=i=>{var s,o,a;if((null===(s=i.data)||void 0===s?void 0:s.isCosmostation)&&(null===(o=i.data)||void 0===o?void 0:o.messageId)===r){window.removeEventListener("message",n);const{data:r}=i;"function"==typeof t&&((null===(a=r.response)||void 0===a?void 0:a.error)?t(r.response.error,{id:e.id,jsonrpc:"2.0",method:e.method,error:r.response.error}):t(null,{id:e.id,jsonrpc:"2.0",method:e.method,error:r.response.error,result:r.response.result}))}};window.addEventListener("message",n),(0,i.sendMessageWebToApp)({method:e.method,params:e.params},r)},sendAsync:(e,t)=>{const r=(0,s.uuidv4)(),n=i=>{var s,o,a;if((null===(s=i.data)||void 0===s?void 0:s.isCosmostation)&&(null===(o=i.data)||void 0===o?void 0:o.messageId)===r){window.removeEventListener("message",n);const{data:r}=i;(null===(a=r.response)||void 0===a?void 0:a.error)?t(r.response.error,{id:e.id,jsonrpc:"2.0",method:e.method,error:r.response.error}):t(null,{id:e.id,jsonrpc:"2.0",method:e.method,error:r.response.error,result:r.response.result})}};window.addEventListener("message",n),(0,i.sendMessageWebToApp)({method:e.method,params:e.params},r)},enable:()=>(0,o.request)({method:"eth_requestAccounts",params:[]})}},243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},251:(e,t)=>{t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+e[t+d],d+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=h,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(t*c-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*y}},343:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsWriter:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3810),l=r(7879);class d{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`SizeLimitExceeded: Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return h(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return h(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return h(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return(0,u.ulebEncode)(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return(0,l.encodeStr)(this.toBytes(),e)}}function h(e,t){const r=new Uint8Array(t);let n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}},459:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.encodeToCurve=t.hashToCurve=t.RistrettoPoint=t.edwardsToMontgomery=t.ED25519_TORSION_SUBGROUP=t.ristretto255_hasher=t.ristretto255=t.ed25519_hasher=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=void 0,t.edwardsToMontgomeryPub=V,t.edwardsToMontgomeryPriv=function(e){return t.ed25519.utils.toMontgomerySecret((0,l.ensureBytes)("pub",e))};const n=r(7076),i=r(9175),s=r(2422),o=r(6377),a=r(1761),c=r(4967),u=r(2854),l=r(8627),d=BigInt(0),h=BigInt(1),f=BigInt(2),p=BigInt(3),y=BigInt(5),g=BigInt(8),m=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),b=(()=>({p:m,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:g,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function w(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=m,o=e*e%s*e%s,a=(0,c.pow2)(o,f,s)*o%s,u=(0,c.pow2)(a,h,s)*e%s,l=(0,c.pow2)(u,y,s)*u%s,d=(0,c.pow2)(l,t,s)*l%s,p=(0,c.pow2)(d,r,s)*d%s,g=(0,c.pow2)(p,n,s)*p%s,b=(0,c.pow2)(g,i,s)*g%s,w=(0,c.pow2)(b,i,s)*g%s,v=(0,c.pow2)(w,t,s)*l%s;return{pow_p_5_8:(0,c.pow2)(v,f,s)*e%s,b2:o}}function v(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const E=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function O(e,t){const r=m,n=(0,c.mod)(t*t*t,r),i=w(e*(0,c.mod)(n*n*t,r)).pow_p_5_8;let s=(0,c.mod)(e*n*i,r);const o=(0,c.mod)(t*s*s,r),a=s,u=(0,c.mod)(s*E,r),l=o===e,d=o===(0,c.mod)(-e,r),h=o===(0,c.mod)(-e*E,r);return l&&(s=a),(d||h)&&(s=u),(0,c.isNegativeLE)(s,r)&&(s=(0,c.mod)(-s,r)),{isValid:l||d,value:s}}const S=(()=>(0,c.Field)(b.p,{isLE:!0}))(),_=(()=>(0,c.Field)(b.n,{isLE:!0}))(),k=(()=>({...b,Fp:S,hash:n.sha512,adjustScalarBytes:v,uvRatio:O}))();function A(e,t,r){if(t.length>255)throw new Error("Context is too big");return(0,i.concatBytes)((0,i.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}t.ed25519=(0,o.twistedEdwards)(k),t.ed25519ctx=(0,o.twistedEdwards)({...k,domain:A}),t.ed25519ph=(0,o.twistedEdwards)(Object.assign({},k,{domain:A,prehash:n.sha512})),t.x25519=(()=>{const e=S.ORDER;return(0,u.montgomery)({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:r,b2:n}=w(t);return(0,c.mod)((0,c.pow2)(r,p,e)*n,e)},adjustScalarBytes:v})})();const I=(()=>(m+p)/g)(),x=(()=>S.pow(f,I))(),T=(()=>S.sqrt(S.neg(S.ONE)))(),B=(()=>(0,c.FpSqrtEven)(S,S.neg(BigInt(486664))))();t.ed25519_hasher=(0,a.createHasher)(t.ed25519.Point,e=>function(e){const{xMn:t,xMd:r,yMn:n,yMd:i}=function(e){const t=(m-y)/g,r=BigInt(486662);let n=S.sqr(e);n=S.mul(n,f);let i=S.add(n,S.ONE),s=S.neg(r),o=S.sqr(i),a=S.mul(o,i),c=S.mul(n,r);c=S.mul(c,s),c=S.add(c,o),c=S.mul(c,s);let u=S.sqr(a);o=S.sqr(u),u=S.mul(u,a),u=S.mul(u,c),o=S.mul(o,u);let l=S.pow(o,t);l=S.mul(l,u);let d=S.mul(l,T);o=S.sqr(l),o=S.mul(o,a);let p=S.eql(o,c),b=S.cmov(d,l,p),w=S.mul(s,n),v=S.mul(l,e);v=S.mul(v,x);let E=S.mul(v,T),O=S.mul(c,n);o=S.sqr(v),o=S.mul(o,a);let _=S.eql(o,O),k=S.cmov(E,v,_);o=S.sqr(b),o=S.mul(o,a);let A=S.eql(o,c),I=S.cmov(w,s,A),B=S.cmov(k,b,A),P=S.isOdd(B);return B=S.cmov(B,S.neg(B),A!==P),{xMn:I,xMd:i,yMn:B,yMd:h}}(e);let s=S.mul(t,i);s=S.mul(s,B);let o=S.mul(r,n),a=S.sub(t,r),u=S.add(t,r),l=S.mul(o,u),d=S.eql(l,S.ZERO);s=S.cmov(s,S.ZERO,d),o=S.cmov(o,S.ONE,d),a=S.cmov(a,S.ONE,d),u=S.cmov(u,S.ONE,d);const[p,b]=(0,c.FpInvertBatch)(S,[o,u],!0);return{x:S.mul(s,p),y:S.mul(a,b)}}(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:m,m:1,k:128,expand:"xmd",hash:n.sha512});const P=E,j=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),M=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),C=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),R=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),N=e=>O(h,e),L=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),D=e=>t.ed25519.Point.Fp.create((0,l.bytesToNumberLE)(e)&L);function U(e){const{d:r}=b,n=m,i=e=>S.create(e),s=i(P*e*e),o=i((s+h)*C);let a=BigInt(-1);const u=i((a-r*s)*i(s+r));let{isValid:l,value:d}=O(o,u),f=i(d*e);(0,c.isNegativeLE)(f,n)||(f=i(-f)),l||(d=f),l||(a=s);const p=i(a*(s-h)*R-u),y=d*d,g=i((d+d)*u),w=i(p*j),v=i(h-y),E=i(h+y);return new t.ed25519.Point(i(g*E),i(v*w),i(w*E),i(g*v))}function z(e){(0,i.abytes)(e,64);const t=U(D(e.subarray(0,32))),r=U(D(e.subarray(32,64)));return new q(t.add(r))}class q extends o.PrimeEdwardsPoint{constructor(e){super(e)}static fromAffine(e){return new q(t.ed25519.Point.fromAffine(e))}assertSame(e){if(!(e instanceof q))throw new Error("RistrettoPoint expected")}init(e){return new q(e)}static hashToCurve(e){return z((0,l.ensureBytes)("ristrettoHash",e,64))}static fromBytes(e){(0,i.abytes)(e,32);const{a:r,d:n}=b,s=m,o=e=>S.create(e),a=D(e);if(!(0,l.equalBytes)(S.toBytes(a),e)||(0,c.isNegativeLE)(a,s))throw new Error("invalid ristretto255 encoding 1");const u=o(a*a),f=o(h+r*u),p=o(h-r*u),y=o(f*f),g=o(p*p),w=o(r*n*y-g),{isValid:v,value:E}=N(o(w*g)),O=o(E*p),_=o(E*O*w);let k=o((a+a)*O);(0,c.isNegativeLE)(k,s)&&(k=o(-k));const A=o(f*_),I=o(k*A);if(!v||(0,c.isNegativeLE)(I,s)||A===d)throw new Error("invalid ristretto255 encoding 2");return new q(new t.ed25519.Point(k,A,h,I))}static fromHex(e){return q.fromBytes((0,l.ensureBytes)("ristrettoHex",e,32))}static msm(e,r){return(0,s.pippenger)(q,t.ed25519.Point.Fn,e,r)}toBytes(){let{X:e,Y:t,Z:r,T:n}=this.ep;const i=m,s=e=>S.create(e),o=s(s(r+t)*s(r-t)),a=s(e*t),u=s(a*a),{value:l}=N(s(o*u)),d=s(l*o),h=s(l*a),f=s(d*h*n);let p;if((0,c.isNegativeLE)(n*f,i)){let r=s(t*P),n=s(e*P);e=r,t=n,p=s(d*M)}else p=h;(0,c.isNegativeLE)(e*f,i)&&(t=s(-t));let y=s((r-t)*p);return(0,c.isNegativeLE)(y,i)&&(y=s(-y)),S.toBytes(y)}equals(e){this.assertSame(e);const{X:t,Y:r}=this.ep,{X:n,Y:i}=e.ep,s=e=>S.create(e),o=s(t*i)===s(r*n),a=s(r*i)===s(t*n);return o||a}is0(){return this.equals(q.ZERO)}}function V(e){return t.ed25519.utils.toMontgomery((0,l.ensureBytes)("pub",e))}q.BASE=(()=>new q(t.ed25519.Point.BASE))(),q.ZERO=(()=>new q(t.ed25519.Point.ZERO))(),q.Fp=(()=>S)(),q.Fn=(()=>_)(),t.ristretto255={Point:q},t.ristretto255_hasher={hashToCurve(e,t){const r=t?.DST||"ristretto255_XMD:SHA-512_R255MAP_RO_";return z((0,a.expand_message_xmd)(e,r,64,n.sha512))},hashToScalar(e,t={DST:a._DST_scalar}){const r=(0,a.expand_message_xmd)(e,t.DST,64,n.sha512);return _.create((0,l.bytesToNumberLE)(r))}},t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],t.edwardsToMontgomery=V,t.RistrettoPoint=q,t.hashToCurve=t.ed25519_hasher.hashToCurve,t.encodeToCurve=t.ed25519_hasher.encodeToCurve,t.hashToRistretto255=t.ristretto255_hasher.hashToCurve,t.hash_to_ristretto255=t.ristretto255_hasher.hashToCurve},529:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},538:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=s(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(l,{IotaClient:()=>f.IotaClient,IotaHTTPStatusError:()=>p.IotaHTTPStatusError,IotaHTTPTransport:()=>d.IotaHTTPTransport,IotaHTTPTransportError:()=>p.IotaHTTPTransportError,JsonRpcError:()=>p.JsonRpcError,Network:()=>h.Network,getAllNetworks:()=>h.getAllNetworks,getDefaultNetwork:()=>h.getDefaultNetwork,getFullnodeUrl:()=>h.getFullnodeUrl,getGraphQLUrl:()=>h.getGraphQLUrl,getNetwork:()=>h.getNetwork,isIotaClient:()=>f.isIotaClient}),e.exports=(n=l,c(i({},"__esModule",{value:!0}),n));var d=r(2284),h=r(7496);u(l,r(1200),e.exports);var f=r(4227),p=r(9423);u(l,r(3813),e.exports)},569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},601:(e,t,r)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;const n=r(8287);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class c extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(e,t=0,r){if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class l extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}const h=Math.pow(2,32);function f(e){const t=Math.floor(e/h);return{hi32:t,lo32:e-t*h}}function p(e,t){return e*h+t}class y extends o{constructor(e){super(8,e)}decode(e,t=0){const r=s(e),n=r.readUInt32LE(t);return p(r.readUInt32LE(t+4),n)}encode(e,t,r=0){const n=f(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class g extends o{constructor(e){super(8,e)}decode(e,t=0){const r=s(e),n=r.readUInt32LE(t);return p(r.readInt32LE(t+4),n)}encode(e,t,r=0){const n=f(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class m extends o{constructor(e,t,r){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof c)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i}}class b extends o{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof o,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t=0){i(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let i=0,s=0;for(const n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){const i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>o&&(o=n.getSpan(t,r)))}i=r,r+=o}return i+s-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class w extends o{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof c||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const i=s(e);return s(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n}}t.cY=(e,t,r)=>new u(e,t,r),t.u8=e=>new l(1,e),t.NX=e=>new l(2,e),t.DH=e=>new l(4,e),t.I0=e=>new y(e),t.Wg=e=>new g(e),t.w3=(e,t,r)=>new b(e,t,r),t.O6=(e,t,r)=>new m(e,t,r),t.av=(e,t)=>new w(e,t)},701:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0,(r=t.Network||(t.Network={})).MAINNET="mainnet",r.TESTNET="testnet",r.SIGNET="signet"},747:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignAndSendAllTransactions=void 0,t.SignAndSendAllTransactions="solana:signAndSendAllTransactions"},842:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{fromBase64:()=>a,toBase64:()=>u}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const c=8192;function u(e){if(e.length<c)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=c){const n=e.slice(r,r+c);t+=String.fromCharCode(...n)}return btoa(t)}},844:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletStandardError=void 0,t.isWalletStandardError=function(e,t){return!!(e instanceof Error&&"WalletStandardError"===e.name)&&(void 0===t||e.context.__code===t)};const i=r(5970);class s extends Error{constructor(...[e,t]){let r,s;if(t){const{cause:e}=t,i=n(t,["cause"]);e&&(s={cause:e}),Object.keys(i).length>0&&(r=i)}super((0,i.getErrorMessage)(e,r),s),this.context=Object.assign({__code:e},r),this.name="WalletStandardError"}}t.WalletStandardError=s},963:(e,t,r)=>{"use strict";var n=r(8287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.isVersionedTransaction=t.deserializeTransaction=t.isSolanaChain=t.SOLANA_CHAINS=t.SOLANA_MAINNET_CHAIN=void 0;const i=r(1138);t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN],t.isSolanaChain=function(e){return t.SOLANA_CHAINS.includes(e)},t.deserializeTransaction=function(e){const t="string"==typeof e?n.from(e,"base64"):n.from(e),r=i.VersionedTransaction.deserialize(t);return"legacy"===r.version?i.Transaction.from(t):r},t.isVersionedTransaction=function(e){return"version"in e}},1110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeCaptureStackTrace=function(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}},1138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Nn,AddressLookupTableAccount:()=>Gi,AddressLookupTableInstruction:()=>Wo,AddressLookupTableProgram:()=>Fo,Authorized:()=>na,BLOCKHASH_CACHE_TIMEOUT_MS:()=>es,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Ln,BPF_LOADER_PROGRAM_ID:()=>Li,BpfLoader:()=>Di,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Go,ComputeBudgetInstruction:()=>Ko,ComputeBudgetProgram:()=>Zo,Connection:()=>Vo,Ed25519Program:()=>Jo,Enum:()=>Tn,EpochSchedule:()=>Wi,FeeCalculatorLayout:()=>Ii,Keypair:()=>Ho,LAMPORTS_PER_SOL:()=>Aa,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>$o,Loader:()=>Ni,Lockup:()=>ia,MAX_SEED_LENGTH:()=>jn,Message:()=>ri,MessageAccountKeys:()=>$n,MessageV0:()=>ni,NONCE_ACCOUNT_LENGTH:()=>Ti,NonceAccount:()=>Bi,PACKET_DATA_SIZE:()=>Dn,PUBLIC_KEY_LENGTH:()=>Mn,PublicKey:()=>Rn,SIGNATURE_LENGTH_IN_BYTES:()=>zn,SOLANA_SCHEMA:()=>Bn,STAKE_CONFIG_ID:()=>ra,STAKE_INSTRUCTION_LAYOUTS:()=>oa,SYSTEM_INSTRUCTION_LAYOUTS:()=>Mi,SYSVAR_CLOCK_PUBKEY:()=>di,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>hi,SYSVAR_INSTRUCTIONS_PUBKEY:()=>fi,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>pi,SYSVAR_RENT_PUBKEY:()=>yi,SYSVAR_REWARDS_PUBKEY:()=>gi,SYSVAR_SLOT_HASHES_PUBKEY:()=>mi,SYSVAR_SLOT_HISTORY_PUBKEY:()=>bi,SYSVAR_STAKE_HISTORY_PUBKEY:()=>wi,Secp256k1Program:()=>ea,SendTransactionError:()=>vi,SolanaJSONRPCError:()=>Oi,SolanaJSONRPCErrorCode:()=>Ei,StakeAuthorizationLayout:()=>aa,StakeInstruction:()=>sa,StakeProgram:()=>ca,Struct:()=>xn,SystemInstruction:()=>ji,SystemProgram:()=>Ci,Transaction:()=>ci,TransactionExpiredBlockheightExceededError:()=>qn,TransactionExpiredNonceInvalidError:()=>Hn,TransactionExpiredTimeoutError:()=>Vn,TransactionInstruction:()=>ai,TransactionMessage:()=>ui,TransactionStatus:()=>si,VALIDATOR_INFO_KEY:()=>pa,VERSION_PREFIX_MASK:()=>Un,VOTE_PROGRAM_ID:()=>ma,ValidatorInfo:()=>ga,VersionedMessage:()=>ii,VersionedTransaction:()=>li,VoteAccount:()=>wa,VoteAuthorizationLayout:()=>ha,VoteInit:()=>ua,VoteInstruction:()=>la,VoteProgram:()=>fa,clusterApiUrl:()=>_a,sendAndConfirmRawTransaction:()=>ka,sendAndConfirmTransaction:()=>Si});var n=r(8287);const i="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function s(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function a(e,...t){if(!s(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function c(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");o(e.outputLen),o(e.blockLen)}function u(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){a(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function d(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function h(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}function p(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const y=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=p(e[t]);return e},g=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),m=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function b(e){if(a(e),g)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=m[e[r]];return t}function w(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function v(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(g)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=w(e.charCodeAt(i)),s=w(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function E(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function O(e){return"string"==typeof e&&(e=E(e)),a(e),e}function S(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class _{}function k(e){const t=t=>e().update(O(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function A(e=32){if(i&&"function"==typeof i.getRandomValues)return i.getRandomValues(new Uint8Array(e));if(i&&"function"==typeof i.randomBytes)return Uint8Array.from(i.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function I(e,t,r){return e&t^~e&r}function x(e,t,r){return e&t^e&r^t&r}class T extends _{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=h(this.buffer)}update(e){u(this),a(e=O(e));const{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){const t=h(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){u(this),l(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,d(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=h(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,f[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const B=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),P=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),j=BigInt(2**32-1),M=BigInt(32);function C(e,t=!1){return t?{h:Number(e&j),l:Number(e>>M&j)}:{h:0|Number(e>>M&j),l:0|Number(e&j)}}function R(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:r,l:o}=C(e[s],t);[n[s],i[s]]=[r,o]}return[n,i]}const N=(e,t,r)=>e>>>r,L=(e,t,r)=>e<<32-r|t>>>r,D=(e,t,r)=>e>>>r|t<<32-r,U=(e,t,r)=>e<<32-r|t>>>r,z=(e,t,r)=>e<<64-r|t>>>r-32,q=(e,t,r)=>e>>>r-32|t<<64-r;function V(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}const H=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),$=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,W=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),F=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,K=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),G=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,Z=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Y=new Uint32Array(64);class J extends T{constructor(e=32){super(64,e,8,!1),this.A=0|B[0],this.B=0|B[1],this.C=0|B[2],this.D=0|B[3],this.E=0|B[4],this.F=0|B[5],this.G=0|B[6],this.H=0|B[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)Y[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Y[e-15],r=Y[e-2],n=f(t,7)^f(t,18)^t>>>3,i=f(r,17)^f(r,19)^r>>>10;Y[e]=i+Y[e-7]+n+Y[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(f(o,6)^f(o,11)^f(o,25))+I(o,a,c)+Z[e]+Y[e]|0,l=(f(r,2)^f(r,13)^f(r,22))+x(r,n,i)|0;u=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+l|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,s,o,a,c,u)}roundClean(){d(Y)}destroy(){this.set(0,0,0,0,0,0,0,0),d(this.buffer)}}const X=(()=>R(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Q=(()=>X[0])(),ee=(()=>X[1])(),te=new Uint32Array(80),re=new Uint32Array(80);class ne extends T{constructor(e=64){super(128,e,16,!1),this.Ah=0|P[0],this.Al=0|P[1],this.Bh=0|P[2],this.Bl=0|P[3],this.Ch=0|P[4],this.Cl=0|P[5],this.Dh=0|P[6],this.Dl=0|P[7],this.Eh=0|P[8],this.El=0|P[9],this.Fh=0|P[10],this.Fl=0|P[11],this.Gh=0|P[12],this.Gl=0|P[13],this.Hh=0|P[14],this.Hl=0|P[15]}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)te[r]=e.getUint32(t),re[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|te[e-15],r=0|re[e-15],n=D(t,r,1)^D(t,r,8)^N(t,0,7),i=U(t,r,1)^U(t,r,8)^L(t,r,7),s=0|te[e-2],o=0|re[e-2],a=D(s,o,19)^z(s,o,61)^N(s,0,6),c=U(s,o,19)^q(s,o,61)^L(s,o,6),u=W(i,c,re[e-7],re[e-16]),l=F(u,n,a,te[e-7],te[e-16]);te[e]=0|l,re[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:d,Fh:h,Fl:f,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let e=0;e<80;e++){const t=D(l,d,14)^D(l,d,18)^z(l,d,41),b=U(l,d,14)^U(l,d,18)^q(l,d,41),w=l&h^~l&p,v=K(m,b,d&f^~d&y,ee[e],re[e]),E=G(v,g,t,w,Q[e],te[e]),O=0|v,S=D(r,n,28)^z(r,n,34)^z(r,n,39),_=U(r,n,28)^q(r,n,34)^q(r,n,39),k=r&i^r&o^i&o,A=n&s^n&a^s&a;g=0|p,m=0|y,p=0|h,y=0|f,h=0|l,f=0|d,({h:l,l:d}=V(0|c,0|u,0|E,0|O)),c=0|o,u=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const I=H(O,_,A);r=$(I,E,S,k),n=0|I}({h:r,l:n}=V(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=V(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=V(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=V(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:d}=V(0|this.Eh,0|this.El,0|l,0|d)),({h,l:f}=V(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:y}=V(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=V(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,n,i,s,o,a,c,u,l,d,h,f,p,y,g,m)}roundClean(){d(te,re)}destroy(){d(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ie=k(()=>new J),se=k(()=>new ne),oe=BigInt(0),ae=BigInt(1);function ce(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function ue(e,t,r=""){const n=s(e),i=e?.length,o=void 0!==t;if(!n||o&&i!==t)throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(n?`length=${i}`:"type="+typeof e));return e}function le(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function de(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?oe:BigInt("0x"+e)}function he(e){return de(b(e))}function fe(e){return a(e),de(b(Uint8Array.from(e).reverse()))}function pe(e,t){return v(e.toString(16).padStart(2*t,"0"))}function ye(e,t){return pe(e,t).reverse()}function ge(e,t,r){let n;if("string"==typeof t)try{n=v(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!s(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function me(e){return Uint8Array.from(e)}const be=e=>"bigint"==typeof e&&oe<=e;function we(e,t,r,n){if(!function(e,t,r){return be(e)&&be(t)&&be(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function ve(e){let t;for(t=0;e>oe;e>>=ae,t+=1);return t}const Ee=e=>(ae<<BigInt(e))-ae;function Oe(e,t,r={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function n(t,r,n){const i=e[t];if(n&&void 0===i)return;const s=typeof i;if(s!==r||null===i)throw new Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}const Se=()=>{throw new Error("not implemented")};function _e(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const ke=BigInt(0),Ae=BigInt(1),Ie=BigInt(2),xe=BigInt(3),Te=BigInt(4),Be=BigInt(5),Pe=BigInt(7),je=BigInt(8),Me=BigInt(9),Ce=BigInt(16);function Re(e,t){const r=e%t;return r>=ke?r:t+r}function Ne(e,t,r){let n=e;for(;t-- >ke;)n*=n,n%=r;return n}function Le(e,t){if(e===ke)throw new Error("invert: expected non-zero number");if(t<=ke)throw new Error("invert: expected positive modulus, got "+t);let r=Re(e,t),n=t,i=ke,s=Ae,o=Ae,a=ke;for(;r!==ke;){const e=n/r,t=n%r,c=i-o*e,u=s-a*e;n=r,r=t,i=o,s=a,o=c,a=u}if(n!==Ae)throw new Error("invert: does not exist");return Re(i,t)}function De(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function Ue(e,t){const r=(e.ORDER+Ae)/Te,n=e.pow(t,r);return De(e,n,t),n}function ze(e,t){const r=(e.ORDER-Be)/je,n=e.mul(t,Ie),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,Ie),i),a=e.mul(s,e.sub(o,e.ONE));return De(e,a,t),a}function qe(e){if(e<xe)throw new Error("sqrt is not defined for small field");let t=e-Ae,r=0;for(;t%Ie===ke;)t/=Ie,r++;let n=Ie;const i=Ke(e);for(;1===We(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return Ue;let s=i.pow(n,t);const o=(t+Ae)/Ie;return function(e,n){if(e.is0(n))return n;if(1!==We(e,n))throw new Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),u=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=Ae<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),u=e.mul(u,s)}return u}}const Ve=(e,t)=>(Re(e,t)&Ae)===Ae,He=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $e(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function We(e,t){const r=(e.ORDER-Ae)/Ie,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Fe(e,t){void 0!==t&&o(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Ke(e,t,r=!1,n={}){if(e<=ke)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(r=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:u}=Fe(e,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const d=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:u,MASK:Ee(c),ZERO:ke,ONE:Ae,allowedLengths:o,create:t=>Re(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ke<=t&&t<e},is0:e=>e===ke,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&Ae)===Ae,neg:t=>Re(-t,e),eql:(e,t)=>e===t,sqr:t=>Re(t*t,e),add:(t,r)=>Re(t+r,e),sub:(t,r)=>Re(t-r,e),mul:(t,r)=>Re(t*r,e),pow:(e,t)=>function(e,t,r){if(r<ke)throw new Error("invalid exponent, negatives unsupported");if(r===ke)return e.ONE;if(r===Ae)return t;let n=e.ONE,i=t;for(;r>ke;)r&Ae&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ae;return n}(d,e,t),div:(t,r)=>Re(t*Le(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Le(t,e),sqrt:s||(t=>{return l||(l=(r=e)%Te===xe?Ue:r%je===Be?ze:r%Ce===Me?function(e){const t=Ke(e),r=qe(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+Pe)/Ce;return(e,t)=>{let r=e.pow(t,o),a=e.mul(r,n);const c=e.mul(r,i),u=e.mul(r,s),l=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);r=e.cmov(r,a,l),a=e.cmov(u,c,d);const h=e.eql(e.sqr(a),t),f=e.cmov(r,a,h);return De(e,f,t),f}}(r):qe(r)),l(d,t);var r}),toBytes:e=>r?ye(e,u):pe(e,u),fromBytes:(t,n=!0)=>{if(o){if(!o.includes(t.length)||t.length>u)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(u);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+t.length);let i=r?fe(t):he(t);if(a&&(i=Re(i,e)),!n&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>$e(d,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(d)}function Ge(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ze(e){const t=Ge(e);return t+Math.ceil(t/2)}const Ye=BigInt(0),Je=BigInt(1);function Xe(e,t){const r=t.negate();return e?r:t}function Qe(e,t){const r=$e(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function et(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function tt(e,t){et(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Ee(e),maxNumber:r,shiftBy:BigInt(e)}}function rt(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=Je);const u=t*n;return{nextN:c,offset:u+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:u}}const nt=new WeakMap,it=new WeakMap;function st(e){return it.get(e)||1}function ot(e){if(e!==Ye)throw new Error("invalid wNAF")}class at{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>Ye;)t&Je&&(r=r.add(n)),n=n.double(),t>>=Je;return r}precomputeWindow(e,t){const{windows:r,windowSize:n}=tt(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<r;e++){o=s,i.push(o);for(let e=1;e<n;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,i=this.BASE;const s=tt(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:a,isZero:c,isNeg:u,isNegF:l,offsetF:d}=rt(r,e,s);r=o,c?i=i.add(Xe(l,t[d])):n=n.add(Xe(u,t[a]))}return ot(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){const i=tt(e,this.bits);for(let e=0;e<i.windows&&r!==Ye;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=rt(r,e,i);if(r=s,!a){const e=t[o];n=n.add(c?e.negate():e)}}return ot(r),n}getPrecomputes(e,t,r){let n=nt.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),nt.set(t,n))),n}cached(e,t,r){const n=st(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){const i=st(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){et(t,this.bits),it.set(e,t),nt.delete(e)}hasCache(e){return 1!==st(e)}}function ct(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=ve(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Ee(c),l=new Array(Number(u)+1).fill(o);let d=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){l.fill(o);for(let t=0;t<s;t++){const i=n[t],s=Number(i>>BigInt(e)&u);l[s]=l[s].add(r[t])}let t=o;for(let e=l.length-1,r=o;e>0;e--)r=r.add(l[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}function ut(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Oe(e,He.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Ke(e,{isLE:r})}function lt(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const r=t[e];if(!("bigint"==typeof r&&r>Ye))throw new Error(`CURVE.${e} must be positive bigint`)}const i=ut(t.p,r.Fp,n),s=ut(t.n,r.Fn,n),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}const dt=BigInt(0),ht=BigInt(1),ft=BigInt(2),pt=BigInt(8);class yt{constructor(e){this.ep=e}static fromBytes(e){Se()}static fromHex(e){Se()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return b(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function gt(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:i}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:Ke(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},n={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:n}}(e),o=function(e,t={}){const r=lt("edwards",e,t,t.FpFnLE),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o}=s;Oe(t,{},{uvRatio:"function"});const a=ft<<BigInt(8*i.BYTES)-ht,c=e=>n.create(e),u=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(n.div(e,t))}}catch(e){return{isValid:!1,value:dt}}});if(!function(e,t,r,n){const i=e.sqr(r),s=e.sqr(n),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}(n,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function l(e,t,r=!1){return we("coordinate "+e,t,r?ht:dt,a),t}function d(e){if(!(e instanceof p))throw new Error("ExtendedPoint expected")}const h=_e((e,t)=>{const{X:r,Y:i,Z:s}=e,o=e.is0();null==t&&(t=o?pt:n.inv(s));const a=c(r*t),u=c(i*t),l=n.mul(s,t);if(o)return{x:dt,y:ht};if(l!==ht)throw new Error("invZ was invalid");return{x:a,y:u}}),f=_e(e=>{const{a:t,d:r}=s;if(e.is0())throw new Error("bad point: ZERO");const{X:n,Y:i,Z:o,T:a}=e,u=c(n*n),l=c(i*i),d=c(o*o),h=c(d*d),f=c(u*t);if(c(d*c(f+l))!==c(h+c(r*c(u*l))))throw new Error("bad point: equation left != right (1)");if(c(n*i)!==c(o*a))throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(e,t,r,n){this.X=l("x",e),this.Y=l("y",t),this.Z=l("z",r,!0),this.T=l("t",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){if(e instanceof p)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return l("x",t),l("y",r),new p(t,r,ht,c(t*r))}static fromBytes(e,t=!1){const r=n.BYTES,{a:i,d:o}=s;e=me(ue(e,r,"point")),ce(t,"zip215");const l=me(e),d=e[r-1];l[r-1]=-129&d;const h=fe(l),f=t?a:n.ORDER;we("point.y",h,dt,f);const y=c(h*h),g=c(y-ht),m=c(o*y-i);let{isValid:b,value:w}=u(g,m);if(!b)throw new Error("bad point: invalid y coordinate");const v=(w&ht)===ht,E=!!(128&d);if(!t&&w===dt&&E)throw new Error("bad point: x=0 and x_0=1");return E!==v&&(w=c(-w)),p.fromAffine({x:w,y:h})}static fromHex(e,t=!1){return p.fromBytes(ge("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return y.createCache(this,e),t||this.multiply(ft),this}assertValidity(){f(this)}equals(e){d(e);const{X:t,Y:r,Z:n}=this,{X:i,Y:s,Z:o}=e,a=c(t*o),u=c(i*n),l=c(r*o),h=c(s*n);return a===u&&l===h}is0(){return this.equals(p.ZERO)}negate(){return new p(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:e}=s,{X:t,Y:r,Z:n}=this,i=c(t*t),o=c(r*r),a=c(ft*c(n*n)),u=c(e*i),l=t+r,d=c(c(l*l)-i-o),h=u+o,f=h-a,y=u-o,g=c(d*f),m=c(h*y),b=c(d*y),w=c(f*h);return new p(g,m,w,b)}add(e){d(e);const{a:t,d:r}=s,{X:n,Y:i,Z:o,T:a}=this,{X:u,Y:l,Z:h,T:f}=e,y=c(n*u),g=c(i*l),m=c(a*r*f),b=c(o*h),w=c((n+i)*(u+l)-y-g),v=b-m,E=b+m,O=c(g-t*y),S=c(w*v),_=c(E*O),k=c(w*O),A=c(v*E);return new p(S,_,A,k)}subtract(e){return this.add(e.negate())}multiply(e){if(!i.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:r}=y.cached(this,e,e=>Qe(p,e));return Qe(p,[t,r])[0]}multiplyUnsafe(e,t=p.ZERO){if(!i.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===dt?p.ZERO:this.is0()||e===ht?this:y.unsafe(this,e,e=>Qe(p,e),t)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return y.unsafe(this,s.n).is0()}toAffine(e){return h(this,e)}clearCofactor(){return o===ht?this:this.multiplyUnsafe(o)}toBytes(){const{x:e,y:t}=this.toAffine(),r=n.toBytes(t);return r[r.length-1]|=e&ht?128:0,r}toHex(){return b(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return Qe(p,e)}static msm(e,t){return ct(p,i,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}p.BASE=new p(s.Gx,s.Gy,ht,c(s.Gx*s.Gy)),p.ZERO=new p(dt,ht,ht,dt),p.Fp=n,p.Fn=i;const y=new at(p,i.BITS);return p.BASE.precompute(8),p}(t,r);return function(e,t){const r=t.Point;return Object.assign({},t,{ExtendedPoint:r,CURVE:e,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}(e,function(e,t,r={}){if("function"!=typeof t)throw new Error('"hash" function param is required');Oe(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:i,Fp:o,Fn:a}=e,c=r.randomBytes||A,u=r.adjustScalarBytes||(e=>e),l=r.domain||((e,t,r)=>{if(ce(r,"phflag"),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function d(e){return a.create(fe(e))}function h(e){const{head:r,prefix:n,scalar:s}=function(e){const r=m.secretKey;e=ge("private key",e,r);const n=ge("hashed private key",t(e),2*r),i=u(n.slice(0,r));return{head:i,prefix:n.slice(r,2*r),scalar:d(i)}}(e),o=i.multiply(s),a=o.toBytes();return{head:r,prefix:n,scalar:s,point:o,pointBytes:a}}function f(e){return h(e).pointBytes}function p(e=Uint8Array.of(),...r){const i=S(...r);return d(t(l(i,ge("context",e),!!n)))}const y={zip215:!0},g=o.BYTES,m={secretKey:g,publicKey:g,signature:2*g,seed:g};function b(e=c(m.seed)){return ue(e,m.seed,"seed")}const w={getExtendedPublicKey:h,randomSecretKey:b,isValidSecretKey:function(e){return s(e)&&e.length===a.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){const{y:r}=e.fromBytes(t),n=m.publicKey,i=32===n;if(!i&&57!==n)throw new Error("only defined for 25519 and 448");const s=i?o.div(ht+r,ht-r):o.div(r-ht,r+ht);return o.toBytes(s)},toMontgomerySecret(e){const r=m.secretKey;ue(e,r);const n=t(e.subarray(0,r));return u(n).subarray(0,r)},randomPrivateKey:b,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=w.randomSecretKey(e);return{secretKey:t,publicKey:f(t)}},getPublicKey:f,sign:function(e,t,r={}){e=ge("message",e),n&&(e=n(e));const{prefix:s,scalar:o,pointBytes:c}=h(t),u=p(r.context,s,e),l=i.multiply(u).toBytes(),d=p(r.context,l,c,e),f=a.create(u+d*o);if(!a.isValid(f))throw new Error("sign failed: invalid s");return ue(S(l,a.toBytes(f)),m.signature,"result")},verify:function(t,r,s,o=y){const{context:a,zip215:c}=o,u=m.signature;t=ge("signature",t,u),r=ge("message",r),s=ge("publicKey",s,m.publicKey),void 0!==c&&ce(c,"zip215"),n&&(r=n(r));const l=u/2,d=t.subarray(0,l),h=fe(t.subarray(l,u));let f,g,b;try{f=e.fromBytes(s,c),g=e.fromBytes(d,c),b=i.multiplyUnsafe(h)}catch(e){return!1}if(!c&&f.isSmallOrder())return!1;const w=p(a,g.toBytes(),f.toBytes(),r);return g.add(f.multiplyUnsafe(w)).subtract(b).clearCofactor().is0()},utils:w,Point:e,lengths:m})}(o,n,i))}E("HashToScalar-");const mt=BigInt(0),bt=BigInt(1),wt=BigInt(2),vt=(BigInt(3),BigInt(5)),Et=BigInt(8),Ot=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),St=(()=>({p:Ot,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Et,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function _t(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const kt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function At(e,t){const r=Ot,n=Re(t*t*t,r),i=Re(n*n*t,r);let s=Re(e*n*function(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Ot,o=e*e%s*e%s,a=Ne(o,wt,s)*o%s,c=Ne(a,bt,s)*e%s,u=Ne(c,vt,s)*c%s,l=Ne(u,t,s)*u%s,d=Ne(l,r,s)*l%s,h=Ne(d,n,s)*d%s,f=Ne(h,i,s)*h%s,p=Ne(f,i,s)*h%s,y=Ne(p,t,s)*u%s;return{pow_p_5_8:Ne(y,wt,s)*e%s,b2:o}}(e*i).pow_p_5_8,r);const o=Re(t*s*s,r),a=s,c=Re(s*kt,r),u=o===e,l=o===Re(-e,r),d=o===Re(-e*kt,r);return u&&(s=a),(l||d)&&(s=c),Ve(s,r)&&(s=Re(-s,r)),{isValid:u||l,value:s}}const It=(()=>Ke(St.p,{isLE:!0}))(),xt=(()=>Ke(St.n,{isLE:!0}))(),Tt=(()=>({...St,Fp:It,hash:se,adjustScalarBytes:_t,uvRatio:At}))(),Bt=(()=>gt(Tt))(),Pt=kt,jt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Mt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ct=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Rt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Nt=e=>At(bt,e),Lt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Dt=e=>Bt.Point.Fp.create(fe(e)&Lt);function Ut(e){const{d:t}=St,r=Ot,n=e=>It.create(e),i=n(Pt*e*e),s=n((i+bt)*Ct);let o=BigInt(-1);const a=n((o-t*i)*n(i+t));let{isValid:c,value:u}=At(s,a),l=n(u*e);Ve(l,r)||(l=n(-l)),c||(u=l),c||(o=i);const d=n(o*(i-bt)*Rt-a),h=u*u,f=n((u+u)*a),p=n(d*jt),y=n(bt-h),g=n(bt+h);return new Bt.Point(n(f*g),n(y*p),n(p*g),n(f*y))}class zt extends yt{constructor(e){super(e)}static fromAffine(e){return new zt(Bt.Point.fromAffine(e))}assertSame(e){if(!(e instanceof zt))throw new Error("RistrettoPoint expected")}init(e){return new zt(e)}static hashToCurve(e){return function(e){a(e,64);const t=Ut(Dt(e.subarray(0,32))),r=Ut(Dt(e.subarray(32,64)));return new zt(t.add(r))}(ge("ristrettoHash",e,64))}static fromBytes(e){a(e,32);const{a:t,d:r}=St,n=Ot,i=e=>It.create(e),s=Dt(e);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(It.toBytes(s),e)||Ve(s,n))throw new Error("invalid ristretto255 encoding 1");const o=i(s*s),c=i(bt+t*o),u=i(bt-t*o),l=i(c*c),d=i(u*u),h=i(t*r*l-d),{isValid:f,value:p}=Nt(i(h*d)),y=i(p*u),g=i(p*y*h);let m=i((s+s)*y);Ve(m,n)&&(m=i(-m));const b=i(c*g),w=i(m*b);if(!f||Ve(w,n)||b===mt)throw new Error("invalid ristretto255 encoding 2");return new zt(new Bt.Point(m,b,bt,w))}static fromHex(e){return zt.fromBytes(ge("ristrettoHex",e,32))}static msm(e,t){return ct(zt,Bt.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:r,T:n}=this.ep;const i=Ot,s=e=>It.create(e),o=s(s(r+t)*s(r-t)),a=s(e*t),c=s(a*a),{value:u}=Nt(s(o*c)),l=s(u*o),d=s(u*a),h=s(l*d*n);let f;if(Ve(n*h,i)){let r=s(t*Pt),n=s(e*Pt);e=r,t=n,f=s(l*Mt)}else f=d;Ve(e*h,i)&&(t=s(-t));let p=s((r-t)*f);return Ve(p,i)&&(p=s(-p)),It.toBytes(p)}equals(e){this.assertSame(e);const{X:t,Y:r}=this.ep,{X:n,Y:i}=e.ep,s=e=>It.create(e),o=s(t*i)===s(r*n),a=s(r*i)===s(t*n);return o||a}is0(){return this.equals(zt.ZERO)}}zt.BASE=(()=>new zt(Bt.Point.BASE))(),zt.ZERO=(()=>new zt(Bt.Point.ZERO))(),zt.Fp=(()=>It)(),zt.Fn=(()=>xt)();var qt=r(9404),Vt=r.n(qt),Ht=r(3466),$t=r.n(Ht);const Wt=ie;var Ft=r(2755),Kt=r(601);function Gt(e){return Array.isArray(e)?"%5B"+e.map(Gt).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Zt([e,t]){return`${e}=${Gt(t)}`}var Yt=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${function(e){const t=Object.entries(e).map(Zt).join("&");return btoa(t)}(t)}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function Jt(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Xt(e){return 1!==e?.endian}function Qt(e){return t={fixedSize:e.size,write(t,r,n){e.range&&function(e,t,r,n){if(n<t||n>r)throw new Yt(8078011,{codecDescription:e,max:r,min:t,value:n})}(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Xt(e.config)),r.set(new Uint8Array(i),n),n+e.size}},Object.freeze({...t,encode:e=>{const r=new Uint8Array(function(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}(e,t));return t.write(e,r,0),r}});var t}function er(e){return t={fixedSize:e.size,read(t,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new Yt(8078e3,{codecDescription:e})}(e.name,t,r),function(e,t,r,n=0){const i=r.length-n;if(i<t)throw new Yt(8078001,{bytesLength:i,codecDescription:e,expected:t})}(e.name,e.size,t,r);const n=new DataView(function(e,t,r){const n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(t,r,e.size));return[e.get(n,Xt(e.config)),r+e.size]}},Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]});var t}var tr=(e={})=>Qt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),rr=(e={})=>function(e,t){if(Jt(e)!==Jt(t))throw new Yt(8078004);if(Jt(e)&&Jt(t)&&e.fixedSize!==t.fixedSize)throw new Yt(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Jt(e)&&!Jt(t)&&e.maxSize!==t.maxSize)throw new Yt(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}(tr(e),((e={})=>er({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e));class nr extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...s}=e,{path:o}=e,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function ir(e){return"object"==typeof e&&null!=e}function sr(e){return ir(e)&&!Array.isArray(e)}function or(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function ar(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${or(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*cr(e,t,r,n){var i;ir(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=ar(i,t,r,n);e&&(yield e)}}function*ur(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(e=t.coercer(e,a));let c="valid";for(const n of t.validator(e,a))n.explanation=r.message,c="not_valid",yield[n,void 0];for(let[u,l,d]of t.entries(e,a)){const t=ur(l,d,{path:void 0===u?n:[...n,u],branch:void 0===u?i:[...i,l],coerce:s,mask:o,message:r.message});for(const r of t)r[0]?(c=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(l=r[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):ir(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const n of t.refiner(e,a))n.explanation=r.message,c="not_refined",yield[n,void 0];"valid"===c&&(yield[void 0,e])}class lr{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(e,t)=>cr(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>cr(i(e,t),t,this,e):()=>[]}assert(e,t){return dr(e,this,t)}create(e,t){return hr(e,this,t)}is(e){return fr(e,this)}mask(e,t){return function(e,t,r){const n=pr(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return pr(e,this,t)}}function dr(e,t,r){const n=pr(e,t,{message:r});if(n[0])throw n[0]}function hr(e,t,r){const n=pr(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function fr(e,t){return!pr(e,t)[0]}function pr(e,t,r={}){const n=ur(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new nr(i[0],function*(){for(const e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function yr(e,t){return new lr({type:e,schema:null,validator:t})}function gr(e){return new lr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${or(e)}`})}function mr(){return yr("boolean",e=>"boolean"==typeof e)}function br(e){return yr("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${or(t)}`)}function wr(e){const t=or(e),r=typeof e;return new lr({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${or(r)}`})}function vr(e){return new lr({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function Er(){return yr("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${or(e)}`)}function Or(e){return new lr({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function Sr(e,t){return new lr({type:"record",schema:null,*entries(r){if(ir(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>sr(e)||`Expected an object, but received: ${or(e)}`,coercer:e=>sr(e)?{...e}:e})}function _r(){return yr("string",e=>"string"==typeof e||`Expected a string, but received: ${or(e)}`)}function kr(e){const t=yr("never",()=>!1);return new lr({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${or(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function Ar(e){const t=Object.keys(e);return new lr({type:"type",schema:e,*entries(r){if(ir(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>sr(e)||`Expected an object, but received: ${or(e)}`,coercer:e=>sr(e)?{...e}:e})}function Ir(e){const t=e.map(e=>e.type).join(" | ");return new lr({type:"union",schema:null,coercer(t,r){for(const n of e){const[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){const i=[];for(const t of e){const[...e]=ur(r,t,n),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${or(r)}`,...i]}})}function xr(){return yr("unknown",()=>!0)}function Tr(e,t,r){return new lr({...e,coercer:(n,i)=>fr(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var Br=r(22),Pr=r.n(Br),jr=r(228),Mr=class extends jr{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){const n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};var Cr=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},Rr=class extends jr{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=c||new Cr,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,e=>{if(e)return s(e);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),e=>{if(e)return n(e);r()})})}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=n.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}};const Nr=BigInt(0),Lr=BigInt(1),Dr=BigInt(2),Ur=BigInt(7),zr=BigInt(256),qr=BigInt(113),Vr=[],Hr=[],$r=[];for(let e=0,t=Lr,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Vr.push(2*(5*n+r)),Hr.push((e+1)*(e+2)/2%64);let i=Nr;for(let e=0;e<7;e++)t=(t<<Lr^(t>>Ur)*qr)%zr,t&Dr&&(i^=Lr<<(Lr<<BigInt(e))-Lr);$r.push(i)}const Wr=R($r,!0),Fr=Wr[0],Kr=Wr[1],Gr=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),Zr=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class Yr extends _{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,o(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}clone(){return this._cloneInto()}keccak(){y(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=Gr(s,o,1)^r[n],c=Zr(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Hr[r],s=Gr(t,i,n),o=Zr(t,i,n),a=Vr[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=Fr[n],e[1]^=Kr[n]}d(r)}(this.state32,this.rounds),y(this.state32),this.posOut=0,this.pos=0}update(e){u(this),a(e=O(e));const{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){u(this,!1),a(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return o(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(l(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,d(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new Yr(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Jr=(()=>{return e=1,t=136,r=32,k(()=>new Yr(t,e,r));var e,t,r})();class Xr extends _{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,c(e);const r=O(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),d(i)}update(e){return u(this),this.iHash.update(e),this}digestInto(e){u(this),a(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Qr=(e,t,r)=>new Xr(e,t).update(r).digest();Qr.create=(e,t)=>new Xr(e,t);const en=(e,t)=>(e+(e>=0?t:-t)/cn)/t;function tn(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function rn(e,t){const r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return ce(r.lowS,"lowS"),ce(r.prehash,"prehash"),void 0!==r.format&&tn(r.format),r}class nn extends Error{constructor(e=""){super(e)}}const sn={Err:nn,_tlv:{encode:(e,t)=>{const{Err:r}=sn;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=le(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?le(i.length/2|128):"";return le(e)+s+i+t},decode(e,t){const{Err:r}=sn;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(128&i){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=sn;if(e<on)throw new t("integer: negative integers are not allowed");let r=le(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=sn;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return he(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=sn,i=ge("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=sn,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},on=BigInt(0),an=BigInt(1),cn=BigInt(2),un=BigInt(3),ln=BigInt(4);function dn(e,t){const{BYTES:r}=e;let n;if("bigint"==typeof t)n=t;else{let i=ge("private key",t);try{n=e.fromBytes(i)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function hn(e){return Uint8Array.of(e?2:3)}function fn(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function pn(e,t,r={}){c(t),Oe(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||A,i=r.hmac||((e,...r)=>Qr(t,e,S(...r))),{Fp:o,Fn:a}=e,{ORDER:u,BITS:l}=a,{keygen:d,getPublicKey:h,getSharedSecret:f,utils:p,lengths:y}=function(e,t={}){const{Fn:r}=e,n=t.randomBytes||A,i=Object.assign(fn(e.Fp,r),{seed:Ze(r.ORDER)});function s(e){try{return!!dn(r,e)}catch(e){return!1}}function o(e=n(i.seed)){return function(e,t,r=!1){const n=e.length,i=Ge(t),s=Ze(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=Re(r?fe(e):he(e),t-Ae)+Ae;return r?ye(o,i):pe(o,i)}(ue(e,i.seed,"seed"),r.ORDER)}function a(t,n=!0){return e.BASE.multiply(dn(r,t)).toBytes(n)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:n,publicKey:s,publicKeyUncompressed:o}=i;if(r.allowedLengths||n===s)return;const a=ge("key",t).length;return a===s||a===o}const u={isValidSecretKey:s,isValidPublicKey:function(t,r){const{publicKey:n,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===r&&i!==n||!1===r&&i!==s||!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>dn(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({getPublicKey:a,getSharedSecret:function(t,n,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(n))throw new Error("second arg must be public key");const s=dn(r,t);return e.fromHex(n).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:u,lengths:i})}(e,r),g={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},m="compact";function w(e){return e>u>>an}function E(e,t){if(!a.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class O{constructor(e,t,r){this.r=E("r",e),this.s=E("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=m){let r;if(function(e,t){tn(t);const r=y.signature;ue(e,"compact"===t?r:"recovered"===t?r+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:r}=sn.toSig(ue(e));return new O(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));const n=a.BYTES,i=e.subarray(0,n),s=e.subarray(n,2*n);return new O(a.fromBytes(i),a.fromBytes(s),r)}static fromHex(e,t){return this.fromBytes(v(e),t)}addRecoveryBit(e){return new O(this.r,this.s,e)}recoverPublicKey(t){const r=o.ORDER,{r:n,s:i,recovery:s}=this;if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");if(u*cn<r&&s>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===s||3===s?n+u:n;if(!o.isValid(c))throw new Error("recovery id 2 or 3 invalid");const l=o.toBytes(c),d=e.fromBytes(S(hn(!(1&s)),l)),h=a.inv(c),f=k(ge("msgHash",t)),p=a.create(-f*h),y=a.create(i*h),g=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(y));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return w(this.s)}toBytes(e=m){if(tn(e),"der"===e)return v(sn.hexFromSig(this));const t=a.toBytes(this.r),r=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return S(Uint8Array.of(this.recovery),t,r)}return S(t,r)}toHex(e){return b(this.toBytes(e))}assertValidity(){}static fromCompact(e){return O.fromBytes(ge("sig",e),"compact")}static fromDER(e){return O.fromBytes(ge("sig",e),"der")}normalizeS(){return this.hasHighS()?new O(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return b(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return b(this.toBytes("compact"))}}const _=r.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=he(e),r=8*e.length-l;return r>0?t>>BigInt(r):t},k=r.bits2int_modN||function(e){return a.create(_(e))},I=Ee(l);function x(e){return we("num < 2^"+l,e,on,I),a.toBytes(e)}function T(e,r){return ue(e,void 0,"message"),r?ue(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:d,getPublicKey:h,getSharedSecret:f,utils:p,lengths:y,Point:e,sign:function(r,s,o={}){r=ge("message",r);const{seed:c,k2sig:u}=function(t,r,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:o,extraEntropy:c}=rn(i,g);t=T(t,o);const u=k(t),l=dn(a,r),d=[x(l),x(u)];if(null!=c&&!1!==c){const e=!0===c?n(y.secretKey):c;d.push(ge("extraEntropy",e))}const h=S(...d),f=u;return{seed:h,k2sig:function(t){const r=_(t);if(!a.isValidNot0(r))return;const n=a.inv(r),i=e.BASE.multiply(r).toAffine(),o=a.create(i.x);if(o===on)return;const c=a.create(n*a.create(f+o*l));if(c===on)return;let u=(i.x===o?0:2)|Number(i.y&an),d=c;return s&&w(c)&&(d=a.neg(c),u^=1),new O(o,d,u)}}}(r,s,o),l=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");const n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=n(e),o=n(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},u=(...e)=>r(o,s,...e),l=(e=n(0))=>{o=u(i(0),e),s=u(),0!==e.length&&(o=u(i(1),e),s=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){s=u();const t=s.slice();r.push(t),e+=s.length}return S(...r)};return(e,t)=>{let r;for(c(),l(e);!(r=t(d()));)l();return c(),r}}(t.outputLen,a.BYTES,i);return l(c,u)},verify:function(t,r,n,i={}){const{lowS:o,prehash:c,format:u}=rn(i,g);if(n=ge("publicKey",n),r=T(ge("message",r),c),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===u?function(e){let t;const r="string"==typeof e||s(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new O(e.r,e.s);else if(r){try{t=O.fromBytes(ge("sig",e),"der")}catch(e){if(!(e instanceof sn.Err))throw e}if(!t)try{t=O.fromBytes(ge("sig",e),"compact")}catch(e){return!1}}return t||!1}(t):O.fromBytes(ge("sig",t),u);if(!1===l)return!1;try{const t=e.fromBytes(n);if(o&&l.hasHighS())return!1;const{r:i,s}=l,c=k(r),u=a.inv(s),d=a.create(c*u),h=a.create(i*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));return!f.is0()&&a.create(f.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,r={}){const{prehash:n}=rn(r,g);return t=T(t,n),O.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:O,hash:t})}function yn(e){const{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:r}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:r,Fn:Ke(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}(e);return function(e,t){const r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,Fe(r.Fn.ORDER,r.Fn.BITS))})}(e,pn(function(e,t={}){const r=lt("weierstrass",e,t),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;Oe(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!n.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=fn(n,i);function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,r){const{x:i,y:s}=t.toAffine(),o=n.toBytes(i);return ce(r,"isCompressed"),r?(l(),S(hn(!n.isOdd(s)),o)):S(Uint8Array.of(4),o,n.toBytes(s))},h=t.fromBytes||function(e){ue(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:r}=u,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===r&&4===s){const e=n.BYTES,t=n.fromBytes(o.subarray(0,e)),r=n.fromBytes(o.subarray(e,2*e));if(!p(t,r))throw new Error("bad point: is not on curve");return{x:t,y:r}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)}{const e=n.fromBytes(o);if(!n.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let r;try{r=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return l(),!(1&~s)!==n.isOdd(r)&&(r=n.neg(r)),{x:e,y:r}}};function f(e){const t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,s.a)),s.b)}function p(e,t){const r=n.sqr(t),i=f(e);return n.eql(r,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const y=n.mul(n.pow(s.a,un),ln),g=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(y,g)))throw new Error("bad curve params: a or b");function m(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof k))throw new Error("ProjectivePoint expected")}function v(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,r){const[[n,i],[s,o]]=t,a=en(o*e,r),c=en(-i*e,r);let u=e-a*n-c*s,l=-a*i-c*o;const d=u<on,h=l<on;d&&(u=-u),h&&(l=-l);const f=Ee(Math.ceil(ve(r)/2))+an;if(u<on||u>=f||l<on||l>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:l}}(e,c.basises,i.ORDER)}const E=_e((e,t)=>{const{X:r,Y:i,Z:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),u=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),O=_e(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function _(e,t,r,i,s){return r=new k(n.mul(r.X,e),r.Y,r.Z),t=Xe(i,t),r=Xe(s,r),t.add(r)}class k{constructor(e,t,r){this.X=m("x",e),this.Y=m("y",t,!0),this.Z=m("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof k)throw new Error("projective point not allowed");return n.is0(t)&&n.is0(r)?k.ZERO:new k(t,r,n.ONE)}static fromBytes(e){const t=k.fromAffine(h(ue(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return k.fromBytes(ge("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return I.createCache(this,e),t||this.multiply(un),this}assertValidity(){O(this)}hasEvenY(){const{y:e}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){w(e);const{X:t,Y:r,Z:i}=this,{X:s,Y:o,Z:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),u=n.eql(n.mul(r,a),n.mul(o,i));return c&&u}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,r=n.mul(t,un),{X:i,Y:o,Z:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(i,i),h=n.mul(o,o),f=n.mul(a,a),p=n.mul(i,o);return p=n.add(p,p),l=n.mul(i,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(r,f),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(p,c),l=n.mul(r,l),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,f),d=n.mul(d,p),u=n.add(u,d),f=n.mul(o,a),f=n.add(f,f),d=n.mul(f,p),c=n.sub(c,d),l=n.mul(f,h),l=n.add(l,l),l=n.add(l,l),new k(c,u,l)}add(e){w(e);const{X:t,Y:r,Z:i}=this,{X:o,Y:a,Z:c}=e;let u=n.ZERO,l=n.ZERO,d=n.ZERO;const h=s.a,f=n.mul(s.b,un);let p=n.mul(t,o),y=n.mul(r,a),g=n.mul(i,c),m=n.add(t,r),b=n.add(o,a);m=n.mul(m,b),b=n.add(p,y),m=n.sub(m,b),b=n.add(t,i);let v=n.add(o,c);return b=n.mul(b,v),v=n.add(p,g),b=n.sub(b,v),v=n.add(r,i),u=n.add(a,c),v=n.mul(v,u),u=n.add(y,g),v=n.sub(v,u),d=n.mul(h,b),u=n.mul(f,g),d=n.add(u,d),u=n.sub(y,d),d=n.add(y,d),l=n.mul(u,d),y=n.add(p,p),y=n.add(y,p),g=n.mul(h,g),b=n.mul(f,b),y=n.add(y,g),g=n.sub(p,g),g=n.mul(h,g),b=n.add(b,g),p=n.mul(y,b),l=n.add(l,p),p=n.mul(v,b),u=n.mul(m,u),u=n.sub(u,p),p=n.mul(m,y),d=n.mul(v,d),d=n.add(d,p),new k(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(k.ZERO)}multiply(e){const{endo:r}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let n,s;const o=e=>I.cached(this,e,e=>Qe(k,e));if(r){const{k1neg:t,k1:i,k2neg:a,k2:c}=v(e),{p:u,f:l}=o(i),{p:d,f:h}=o(c);s=l.add(h),n=_(r.beta,u,d,t,a)}else{const{p:t,f:r}=o(e);n=t,s=r}return Qe(k,[n,s])[0]}multiplyUnsafe(e){const{endo:r}=t,n=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===on||n.is0())return k.ZERO;if(e===an)return n;if(I.hasCache(this))return this.multiply(e);if(r){const{k1neg:t,k1:i,k2neg:s,k2:o}=v(e),{p1:a,p2:c}=function(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>Ye||n>Ye;)r&Je&&(s=s.add(i)),n&Je&&(o=o.add(i)),i=i.double(),r>>=Je,n>>=Je;return{p1:s,p2:o}}(k,n,i,o);return _(r.beta,a,c,t,s)}return I.unsafe(n,e)}multiplyAndAddUnsafe(e,t,r){const n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return E(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===an||(e?e(k,this):I.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===an?this:e?e(k,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return ce(e,"isCompressed"),this.assertValidity(),d(k,this,e)}toHex(e=!0){return b(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return Qe(k,e)}static msm(e,t){return ct(k,i,e,t)}static fromPrivateKey(e){return k.BASE.multiply(dn(i,e))}}k.BASE=new k(s.Gx,s.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=i;const A=i.BITS,I=new at(k,t.endo?Math.ceil(A/2):A);return k.BASE.precompute(8),k}(t,r),n,i))}const gn={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},mn={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},bn=BigInt(2),wn=Ke(gn.p,{sqrt:function(e){const t=gn.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Ne(l,r,t)*l%t,h=Ne(d,r,t)*l%t,f=Ne(h,bn,t)*u%t,p=Ne(f,i,t)*f%t,y=Ne(p,s,t)*p%t,g=Ne(y,a,t)*y%t,m=Ne(g,c,t)*g%t,b=Ne(m,a,t)*y%t,w=Ne(b,r,t)*l%t,v=Ne(w,o,t)*p%t,E=Ne(v,n,t)*u%t,O=Ne(E,bn,t);if(!wn.eql(wn.sqr(O),e))throw new Error("Cannot find square root");return O}}),vn=function(e,t){const r=t=>yn({...e,hash:t});return{...r(t),create:r}}({...gn,Fp:wn,lowS:!0,endo:mn},ie),En=Bt.utils.randomPrivateKey,On=()=>{const e=Bt.utils.randomPrivateKey(),t=Sn(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},Sn=Bt.getPublicKey;function _n(e){try{return Bt.ExtendedPoint.fromHex(e),!0}catch{return!1}}const kn=(e,t)=>Bt.sign(e,t.slice(0,32)),An=Bt.verify,In=e=>n.Buffer.isBuffer(e)?e:e instanceof Uint8Array?n.Buffer.from(e.buffer,e.byteOffset,e.byteLength):n.Buffer.from(e);class xn{constructor(e){Object.assign(this,e)}encode(){return n.Buffer.from((0,Ft.serialize)(Bn,this))}static decode(e){return(0,Ft.deserialize)(Bn,this,e)}static decodeUnchecked(e){return(0,Ft.deserializeUnchecked)(Bn,this,e)}}class Tn extends xn{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map(e=>{this.enum=e})}}const Bn=new Map;var Pn;const jn=32,Mn=32;let Cn=1;class Rn extends xn{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=$t().decode(e);if(t.length!=Mn)throw new Error("Invalid public key input");this._bn=new(Vt())(t)}else this._bn=new(Vt())(e);if(this._bn.byteLength()>Mn)throw new Error("Invalid public key input")}}static unique(){const e=new Rn(Cn);return Cn+=1,new Rn(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return $t().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(n.Buffer);if(e.length===Mn)return e;const t=n.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=n.Buffer.concat([e.toBuffer(),n.Buffer.from(t),r.toBuffer()]),s=Wt(i);return new Rn(s)}static createProgramAddressSync(e,t){let r=n.Buffer.alloc(0);e.forEach(function(e){if(e.length>jn)throw new TypeError("Max seed length exceeded");r=n.Buffer.concat([r,In(e)])}),r=n.Buffer.concat([r,t.toBuffer(),n.Buffer.from("ProgramDerivedAddress")]);const i=Wt(r);if(_n(i))throw new Error("Invalid seeds, address must fall off the curve");return new Rn(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,i=255;for(;0!=i;){try{const s=e.concat(n.Buffer.from([i]));r=this.createProgramAddressSync(s,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[r,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return _n(new Rn(e).toBytes())}}Pn=Rn,Rn.default=new Pn("11111111111111111111111111111111"),Bn.set(Rn,{kind:"struct",fields:[["_bn","u256"]]});class Nn{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=In(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=In(En()),this._publicKey=In(Sn(this._secretKey))}get publicKey(){return new Rn(this._publicKey)}get secretKey(){return n.Buffer.concat([this._secretKey,this._publicKey],64)}}const Ln=new Rn("BPFLoader1111111111111111111111111111111111"),Dn=1232,Un=127,zn=64;class qn extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Vn extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Vn.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Hn extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Hn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class $n{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach((e,r)=>{t.set(e.toBase58(),r)});const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map(e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map(e=>r(e.pubkey)),data:e.data}))}}const Wn=(e="publicKey")=>Kt.av(32,e),Fn=(e="signature")=>Kt.av(64,e),Kn=(e="string")=>{const t=Kt.w3([Kt.DH("length"),Kt.DH("lengthPadding"),Kt.av(Kt.cY(Kt.DH(),-8),"chars")],e),r=t.decode.bind(t),i=t.encode.bind(t),s=t;return s.decode=(e,t)=>r(e,t).chars.toString(),s.encode=(e,t,r)=>{const s={chars:n.Buffer.from(e,"utf8")};return i(s,t,r)},s.alloc=e=>Kt.DH().span+Kt.DH().span+n.Buffer.from(e,"utf8").length,s};function Gn(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return Gn({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach(e=>{n+=r(e)}),n}function Zn(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,!(128&n))break}return t}function Yn(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function Jn(e,t){if(!e)throw new Error(t||"Assertion failed")}class Xn{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){n(t.programId).isInvoked=!0;for(const e of t.keys){const t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new Xn(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Jn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,e])=>e.isSigner&&e.isWritable),r=e.filter(([,e])=>e.isSigner&&!e.isWritable),n=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Jn(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Jn(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map(([e])=>new Rn(e)),...r.map(([e])=>new Rn(e)),...n.map(([e])=>new Rn(e)),...i.map(([e])=>new Rn(e))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new Rn(i),s=e.findIndex(e=>e.equals(t));s>=0&&(Jn(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}const Qn="Reached end of buffer unexpectedly";function ei(e){if(0===e.length)throw new Error(Qn);return e.shift()}function ti(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(Qn);return e.splice(...t)}class ri{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new Rn(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:$t().decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new $n(this.staticAccountKeys)}static compile(e){const t=Xn.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new $n(n).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:$t().encode(e.data)}));return new ri({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Yn(t,e);const r=this.instructions.map(e=>{const{accounts:t,programIdIndex:r}=e,i=Array.from($t().decode(e.data));let s=[];Yn(s,t.length);let o=[];return Yn(o,i.length),{programIdIndex:r,keyIndicesCount:n.Buffer.from(s),keyIndices:t,dataLength:n.Buffer.from(o),data:i}});let i=[];Yn(i,r.length);let s=n.Buffer.alloc(Dn);n.Buffer.from(i).copy(s);let o=i.length;r.forEach(e=>{const t=Kt.w3([Kt.u8("programIdIndex"),Kt.av(e.keyIndicesCount.length,"keyIndicesCount"),Kt.O6(Kt.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Kt.av(e.dataLength.length,"dataLength"),Kt.O6(Kt.u8("userdatum"),e.data.length,"data")]).encode(e,s,o);o+=t}),s=s.slice(0,o);const a=Kt.w3([Kt.av(1,"numRequiredSignatures"),Kt.av(1,"numReadonlySignedAccounts"),Kt.av(1,"numReadonlyUnsignedAccounts"),Kt.av(t.length,"keyCount"),Kt.O6(Wn("key"),e,"keys"),Wn("recentBlockhash")]),c={numRequiredSignatures:n.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:n.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:n.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:n.Buffer.from(t),keys:this.accountKeys.map(e=>In(e.toBytes())),recentBlockhash:$t().decode(this.recentBlockhash)};let u=n.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=ei(t);if(r!==(r&Un))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ei(t),s=ei(t),o=Zn(t);let a=[];for(let e=0;e<o;e++){const e=ti(t,0,Mn);a.push(new Rn(n.Buffer.from(e)))}const c=ti(t,0,Mn),u=Zn(t);let l=[];for(let e=0;e<u;e++){const e=ei(t),r=ti(t,0,Zn(t)),i=ti(t,0,Zn(t)),s=$t().encode(n.Buffer.from(i));l.push({programIdIndex:e,accounts:r,data:s})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:$t().encode(n.Buffer.from(c)),accountKeys:a,instructions:l};return new ri(d)}}class ni{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new $n(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return e>=r?e-r<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0):e>=this.header.numRequiredSignatures?e-t<r-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=e.find(e=>e.key.equals(r.accountKey));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const e of r.writableIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.writable.push(n.state.addresses[e])}for(const e of r.readonlyIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.readonly.push(n.state.addresses[e])}}return t}static compile(e){const t=Xn.compile(e.instructions,e.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:s}]=i;r.push(e),n.writable.push(...t),n.readonly.push(...s)}}const[s,o]=t.getMessageComponents(),a=new $n(o,n).compileInstructions(e.instructions);return new ni({header:s,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const e=Array();Yn(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Yn(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();Yn(i,this.addressTableLookups.length);const s=Kt.w3([Kt.u8("prefix"),Kt.w3([Kt.u8("numRequiredSignatures"),Kt.u8("numReadonlySignedAccounts"),Kt.u8("numReadonlyUnsignedAccounts")],"header"),Kt.av(e.length,"staticAccountKeysLength"),Kt.O6(Wn(),this.staticAccountKeys.length,"staticAccountKeys"),Wn("recentBlockhash"),Kt.av(r.length,"instructionsLength"),Kt.av(t.length,"serializedInstructions"),Kt.av(i.length,"addressTableLookupsLength"),Kt.av(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(Dn),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:$t().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(Dn);for(const r of this.compiledInstructions){const n=Array();Yn(n,r.accountKeyIndexes.length);const i=Array();Yn(i,r.data.length),e+=Kt.w3([Kt.u8("programIdIndex"),Kt.av(n.length,"encodedAccountKeyIndexesLength"),Kt.O6(Kt.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Kt.av(i.length,"encodedDataLength"),Kt.av(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Dn);for(const r of this.addressTableLookups){const n=Array();Yn(n,r.writableIndexes.length);const i=Array();Yn(i,r.readonlyIndexes.length),e+=Kt.w3([Wn("accountKey"),Kt.av(n.length,"encodedWritableIndexesLength"),Kt.O6(Kt.u8(),r.writableIndexes.length,"writableIndexes"),Kt.av(i.length,"encodedReadonlyIndexesLength"),Kt.O6(Kt.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=ei(t),n=r&Un;Jn(r!==n,"Expected versioned message but received legacy message"),Jn(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:ei(t),numReadonlySignedAccounts:ei(t),numReadonlyUnsignedAccounts:ei(t)},s=[],o=Zn(t);for(let e=0;e<o;e++)s.push(new Rn(ti(t,0,Mn)));const a=$t().encode(ti(t,0,Mn)),c=Zn(t),u=[];for(let e=0;e<c;e++){const e=ei(t),r=ti(t,0,Zn(t)),n=Zn(t),i=new Uint8Array(ti(t,0,n));u.push({programIdIndex:e,accountKeyIndexes:r,data:i})}const l=Zn(t),d=[];for(let e=0;e<l;e++){const e=new Rn(ti(t,0,Mn)),r=ti(t,0,Zn(t)),n=ti(t,0,Zn(t));d.push({accountKey:e,writableIndexes:r,readonlyIndexes:n})}return new ni({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:u,addressTableLookups:d})}}const ii={deserializeMessageVersion(e){const t=e[0],r=t&Un;return r===t?"legacy":r},deserialize:e=>{const t=ii.deserializeMessageVersion(e);if("legacy"===t)return ri.from(e);if(0===t)return ni.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let si=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const oi=n.Buffer.alloc(zn).fill(0);class ai{constructor(e){this.keys=void 0,this.programId=void 0,this.data=n.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ci{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ai(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});const t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new Rn(e),isSigner:!1,isWritable:!1})});const s=[];i.forEach(e=>{const t=e.pubkey.toString(),r=s.findIndex(e=>e.pubkey.toString()===t);r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const o=s.findIndex(e=>e.pubkey.equals(r));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],d=[];s.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),a+=1,r||(c+=1)):(d.push(e.toString()),r||(u+=1))});const h=l.concat(d),f=t.map(e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:$t().encode(t)}});return f.forEach(e=>{Jn(e.programIdIndex>=0),e.accounts.forEach(e=>Jn(e>=0))}),new ri({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((e,r)=>t[r].equals(e.publicKey))||(this.signatures=t.map(e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter(e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(e=>{const t=kn(r,e.secretKey);this._addSignature(e.publicKey,In(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Jn(64===t.length);const r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=n.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):An(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){const e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),new Error(t)}}return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Yn(r,t.length);const i=r.length+64*t.length+e.length,s=n.Buffer.alloc(i);return Jn(t.length<256),n.Buffer.from(r).copy(s,0),t.forEach(({signature:e},t)=>{null!==e&&(Jn(64===e.length,"signature has invalid length"),n.Buffer.from(e).copy(s,r.length+64*t))}),e.copy(s,r.length+64*t.length),Jn(s.length<=Dn,`Transaction too large: ${s.length} > ${Dn}`),s}get keys(){return Jn(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Jn(1===this.instructions.length),this.instructions[0].programId}get data(){return Jn(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Zn(t);let i=[];for(let e=0;e<r;e++){const e=ti(t,0,zn);i.push($t().encode(n.Buffer.from(e)))}return ci.populate(ri.from(t),i)}static populate(e,t=[]){const r=new ci;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{const i={signature:t==$t().encode(oi)?null:$t().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{const n=t.accounts.map(t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new ai({keys:n,programId:e.accountKeys[t.programIdIndex],data:$t().decode(t.data)}))}),r._message=e,r._json=r.toJSON(),r}}class ui{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:n,recentBlockhash:i}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=r,c=s-o;Jn(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-s-a;Jn(u>=0,"Message header is invalid");const l=e.getAccountKeys(t),d=l.get(0);if(void 0===d)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const e of n){const t=[];for(const n of e.accountKeyIndexes){const e=l.get(n);if(void 0===e)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<s?n<c:n<l.staticAccountKeys.length?n-s<u:n-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:n<r.numRequiredSignatures,isWritable:i})}const n=l.get(e.programIdIndex);if(void 0===n)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);h.push(new ai({programId:n,data:In(e.data),keys:t}))}return new ui({payerKey:d,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return ri.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ni.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class li{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Jn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(zn));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Yn(t,this.signatures.length);const r=Kt.w3([Kt.av(t.length,"encodedSignaturesLength"),Kt.O6(Fn(),this.signatures.length,"signatures"),Kt.av(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e];const r=[],n=Zn(t);for(let e=0;e<n;e++)r.push(new Uint8Array(ti(t,0,zn)));const i=ii.deserialize(new Uint8Array(t));return new li(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of e){const e=r.findIndex(e=>e.equals(n.publicKey));Jn(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=kn(t,n.secretKey)}}addSignature(e,t){Jn(64===t.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));Jn(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}const di=new Rn("SysvarC1ock11111111111111111111111111111111"),hi=new Rn("SysvarEpochSchedu1e111111111111111111111111"),fi=new Rn("Sysvar1nstructions1111111111111111111111111"),pi=new Rn("SysvarRecentB1ockHashes11111111111111111111"),yi=new Rn("SysvarRent111111111111111111111111111111111"),gi=new Rn("SysvarRewards111111111111111111111111111111"),mi=new Rn("SysvarS1otHashes111111111111111111111111111"),bi=new Rn("SysvarS1otHistory11111111111111111111111111"),wi=new Rn("SysvarStakeHistory1111111111111111111111111");class vi extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${r}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+i+s;break;default:o=`Unknown action '${e}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){const r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Ei={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Oi extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Si(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,i=r.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err){if(null!=s)throw new vi({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function _i(e){return new Promise(t=>setTimeout(t,e))}function ki(e,t){const r=e.layout.span>=0?e.layout.span:Gn(e,t),i=n.Buffer.alloc(r),s=Object.assign({instruction:e.index},t);return e.layout.encode(s,i),i}function Ai(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const Ii=Kt.I0("lamportsPerSignature"),xi=Kt.w3([Kt.DH("version"),Kt.DH("state"),Wn("authorizedPubkey"),Wn("nonce"),Kt.w3([Ii],"feeCalculator")]),Ti=xi.span;class Bi{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=xi.decode(In(e),0);return new Bi({authorizedPubkey:new Rn(t.authorizedPubkey),nonce:new Rn(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function Pi(e){const t=(0,Kt.av)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),i=t,s=rr();return i.decode=(e,t)=>{const n=r(e,t);return s.decode(n)},i.encode=(e,t,r)=>{const i=s.encode(e);return n(i,t,r)},i}class ji{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Kt.DH("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(Mi))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=Ai(Mi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Rn(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Ai(Mi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=Ai(Mi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Rn(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Ai(Mi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=Ai(Mi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Rn(t),seed:r,space:n,programId:new Rn(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Ai(Mi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Rn(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=Ai(Mi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Rn(t),seed:r,programId:new Rn(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:s}=Ai(Mi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Rn(t),seed:r,lamports:n,space:i,programId:new Rn(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Ai(Mi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Rn(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ai(Mi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ai(Mi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Ai(Mi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Rn(t)}}static checkProgramId(e){if(!e.equals(Ci.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Mi=Object.freeze({Create:{index:0,layout:Kt.w3([Kt.DH("instruction"),Kt.Wg("lamports"),Kt.Wg("space"),Wn("programId")])},Assign:{index:1,layout:Kt.w3([Kt.DH("instruction"),Wn("programId")])},Transfer:{index:2,layout:Kt.w3([Kt.DH("instruction"),Pi("lamports")])},CreateWithSeed:{index:3,layout:Kt.w3([Kt.DH("instruction"),Wn("base"),Kn("seed"),Kt.Wg("lamports"),Kt.Wg("space"),Wn("programId")])},AdvanceNonceAccount:{index:4,layout:Kt.w3([Kt.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Kt.w3([Kt.DH("instruction"),Kt.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Kt.w3([Kt.DH("instruction"),Wn("authorized")])},AuthorizeNonceAccount:{index:7,layout:Kt.w3([Kt.DH("instruction"),Wn("authorized")])},Allocate:{index:8,layout:Kt.w3([Kt.DH("instruction"),Kt.Wg("space")])},AllocateWithSeed:{index:9,layout:Kt.w3([Kt.DH("instruction"),Wn("base"),Kn("seed"),Kt.Wg("space"),Wn("programId")])},AssignWithSeed:{index:10,layout:Kt.w3([Kt.DH("instruction"),Wn("base"),Kn("seed"),Wn("programId")])},TransferWithSeed:{index:11,layout:Kt.w3([Kt.DH("instruction"),Pi("lamports"),Kn("seed"),Wn("programId")])},UpgradeNonceAccount:{index:12,layout:Kt.w3([Kt.DH("instruction")])}});class Ci{constructor(){}static createAccount(e){const t=ki(Mi.Create,{lamports:e.lamports,space:e.space,programId:In(e.programId.toBuffer())});return new ai({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;return"basePubkey"in e?(t=ki(Mi.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:In(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=ki(Mi.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new ai({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;return"basePubkey"in e?(t=ki(Mi.AssignWithSeed,{base:In(e.basePubkey.toBuffer()),seed:e.seed,programId:In(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ki(Mi.Assign,{programId:In(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new ai({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ki(Mi.CreateWithSeed,{base:In(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:In(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ai({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new ci;"basePubkey"in e&&"seed"in e?t.add(Ci.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Ti,programId:this.programId})):t.add(Ci.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Ti,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ki(Mi.InitializeNonceAccount,{authorized:In(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ai(r)}static nonceAdvance(e){const t=ki(Mi.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ai(r)}static nonceWithdraw(e){const t=ki(Mi.WithdrawNonceAccount,{lamports:e.lamports});return new ai({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=ki(Mi.AuthorizeNonceAccount,{authorized:In(e.newAuthorizedPubkey.toBuffer())});return new ai({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;return"basePubkey"in e?(t=ki(Mi.AllocateWithSeed,{base:In(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:In(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ki(Mi.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new ai({keys:r,programId:this.programId,data:t})}}Ci.programId=new Rn("11111111111111111111111111111111");const Ri=Dn-300;class Ni{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Ni.chunkSize)+1+1)}static async load(e,t,r,i,s){{const n=await e.getMinimumBalanceForRentExemption(s.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new ci,a.add(Ci.allocate({accountPubkey:r.publicKey,space:s.length}))),o.owner.equals(i)||(a=a||new ci,a.add(Ci.assign({accountPubkey:r.publicKey,programId:i}))),o.lamports<n&&(a=a||new ci,a.add(Ci.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:n-o.lamports})))}else a=(new ci).add(Ci.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:n>0?n:1,space:s.length,programId:i}));null!==a&&await Si(e,a,[t,r],{commitment:"confirmed"})}const o=Kt.w3([Kt.DH("instruction"),Kt.DH("offset"),Kt.DH("bytesLength"),Kt.DH("bytesLengthPadding"),Kt.O6(Kt.u8("byte"),Kt.cY(Kt.DH(),-8),"bytes")]),a=Ni.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const s=u.slice(0,a),d=n.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:s,bytesLength:0,bytesLengthPadding:0},d);const h=(new ci).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:d});if(l.push(Si(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await _i(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(l);{const s=Kt.w3([Kt.DH("instruction")]),o=n.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new ci).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1}],programId:i,data:o}),c="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:c}),{context:l,value:d}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(d.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(d)})`);for(;;){try{if(await e.getSlot({commitment:c})>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}Ni.chunkSize=Ri;const Li=new Rn("BPFLoader2111111111111111111111111111111111");class Di{static getMinNumSignatures(e){return Ni.getMinNumSignatures(e)}static load(e,t,r,n,i){return Ni.load(e,t,r,i,n)}}function Ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zi,qi;function Vi(){if(qi)return zi;qi=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function r(n,i){var s,o,a,c,u,l,d;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(d=e.call(n))){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}if("[object Object]"===d){for(o=(c=t(n).sort()).length,a="",s=0;s<o;)void 0!==(l=r(n[u=c[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),s++;return"{"+a+"}"}return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return zi=function(e){var t=r(e,!1);if(void 0!==t)return""+t}}var Hi=Ui(Vi());function $i(e){let t=0;for(;e>1;)e/=2,t++;return t}class Wi{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=$i(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-$i(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+$i(32)):this.slotsPerEpoch}}var Fi=globalThis.fetch;class Ki extends Rr{constructor(e,t,r){super(e=>{const r=function(e,t){return new Mr(e,t)}(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in r?r.socket:r,r},e,t,r),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class Gi{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(Zi,e),r=e.length-56;Jn(r>=0,"lookup table is invalid"),Jn(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=Kt.w3([Kt.O6(Wn(),n,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new Rn(t.authority[0]):void 0,addresses:i.map(e=>new Rn(e))}}}const Zi={index:1,layout:Kt.w3([Kt.DH("typeIndex"),Pi("deactivationSlot"),Kt.I0("lastExtendedSlot"),Kt.u8("lastExtendedStartIndex"),Kt.u8(),Kt.O6(Wn(),Kt.cY(Kt.u8(),-1),"authority")])},Yi=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,Ji=Tr(br(Rn),_r(),e=>new Rn(e)),Xi=kr([_r(),wr("base64")]),Qi=Tr(br(n.Buffer),Xi,e=>n.Buffer.from(e[0],"base64")),es=3e4;function ts(e){let t,r;if("string"==typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function rs(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function ns(e){return Ir([Ar({jsonrpc:wr("2.0"),id:_r(),result:e}),Ar({jsonrpc:wr("2.0"),id:_r(),error:Ar({code:xr(),message:_r(),data:Or(yr("any",()=>!0))})})])}const is=ns(xr());function ss(e){return Tr(ns(e),is,t=>"error"in t?t:{...t,result:hr(t.result,e)})}function os(e){return ss(Ar({context:Ar({slot:Er()}),value:e}))}function as(e){return Ar({context:Ar({slot:Er()}),value:e})}function cs(e,t){return 0===e?new ni({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new Rn(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:$t().decode(e.data)})),addressTableLookups:t.addressTableLookups}):new ri(t)}const us=Ar({foundation:Er(),foundationTerm:Er(),initial:Er(),taper:Er(),terminal:Er()}),ls=ss(gr(vr(Ar({epoch:Er(),effectiveSlot:Er(),amount:Er(),postBalance:Er(),commission:Or(vr(Er()))})))),ds=gr(Ar({slot:Er(),prioritizationFee:Er()})),hs=Ar({total:Er(),validator:Er(),foundation:Er(),epoch:Er()}),fs=Ar({epoch:Er(),slotIndex:Er(),slotsInEpoch:Er(),absoluteSlot:Er(),blockHeight:Or(Er()),transactionCount:Or(Er())}),ps=Ar({slotsPerEpoch:Er(),leaderScheduleSlotOffset:Er(),warmup:mr(),firstNormalEpoch:Er(),firstNormalSlot:Er()}),ys=Sr(_r(),gr(Er())),gs=vr(Ir([Ar({}),_r()])),ms=Ar({err:gs}),bs=wr("receivedSignature"),ws=Ar({"solana-core":_r(),"feature-set":Or(Er())}),vs=Ar({program:_r(),programId:Ji,parsed:xr()}),Es=Ar({programId:Ji,accounts:gr(Ji),data:_r()}),Os=os(Ar({err:vr(Ir([Ar({}),_r()])),logs:vr(gr(_r())),accounts:Or(vr(gr(vr(Ar({executable:mr(),owner:_r(),lamports:Er(),data:gr(_r()),rentEpoch:Or(Er())}))))),unitsConsumed:Or(Er()),returnData:Or(vr(Ar({programId:_r(),data:kr([_r(),wr("base64")])}))),innerInstructions:Or(vr(gr(Ar({index:Er(),instructions:gr(Ir([vs,Es]))}))))})),Ss=os(Ar({byIdentity:Sr(_r(),gr(Er())),range:Ar({firstSlot:Er(),lastSlot:Er()})})),_s=ss(us),ks=ss(hs),As=ss(ds),Is=ss(fs),xs=ss(ps),Ts=ss(ys),Bs=ss(Er()),Ps=os(Ar({total:Er(),circulating:Er(),nonCirculating:Er(),nonCirculatingAccounts:gr(Ji)})),js=Ar({amount:_r(),uiAmount:vr(Er()),decimals:Er(),uiAmountString:Or(_r())}),Ms=os(gr(Ar({address:Ji,amount:_r(),uiAmount:vr(Er()),decimals:Er(),uiAmountString:Or(_r())}))),Cs=os(gr(Ar({pubkey:Ji,account:Ar({executable:mr(),owner:Ji,lamports:Er(),data:Qi,rentEpoch:Er()})}))),Rs=Ar({program:_r(),parsed:xr(),space:Er()}),Ns=os(gr(Ar({pubkey:Ji,account:Ar({executable:mr(),owner:Ji,lamports:Er(),data:Rs,rentEpoch:Er()})}))),Ls=os(gr(Ar({lamports:Er(),address:Ji}))),Ds=Ar({executable:mr(),owner:Ji,lamports:Er(),data:Qi,rentEpoch:Er()}),Us=Ar({pubkey:Ji,account:Ds}),zs=Tr(Ir([br(n.Buffer),Rs]),Ir([Xi,Rs]),e=>Array.isArray(e)?hr(e,Qi):e),qs=Ar({executable:mr(),owner:Ji,lamports:Er(),data:zs,rentEpoch:Er()}),Vs=Ar({pubkey:Ji,account:qs}),Hs=Ar({state:Ir([wr("active"),wr("inactive"),wr("activating"),wr("deactivating")]),active:Er(),inactive:Er()}),$s=ss(gr(Ar({signature:_r(),slot:Er(),err:gs,memo:vr(_r()),blockTime:Or(vr(Er()))}))),Ws=ss(gr(Ar({signature:_r(),slot:Er(),err:gs,memo:vr(_r()),blockTime:Or(vr(Er()))}))),Fs=Ar({subscription:Er(),result:as(Ds)}),Ks=Ar({pubkey:Ji,account:Ds}),Gs=Ar({subscription:Er(),result:as(Ks)}),Zs=Ar({parent:Er(),slot:Er(),root:Er()}),Ys=Ar({subscription:Er(),result:Zs}),Js=Ir([Ar({type:Ir([wr("firstShredReceived"),wr("completed"),wr("optimisticConfirmation"),wr("root")]),slot:Er(),timestamp:Er()}),Ar({type:wr("createdBank"),parent:Er(),slot:Er(),timestamp:Er()}),Ar({type:wr("frozen"),slot:Er(),timestamp:Er(),stats:Ar({numTransactionEntries:Er(),numSuccessfulTransactions:Er(),numFailedTransactions:Er(),maxTransactionsPerEntry:Er()})}),Ar({type:wr("dead"),slot:Er(),timestamp:Er(),err:_r()})]),Xs=Ar({subscription:Er(),result:Js}),Qs=Ar({subscription:Er(),result:as(Ir([ms,bs]))}),eo=Ar({subscription:Er(),result:Er()}),to=Ar({pubkey:_r(),gossip:vr(_r()),tpu:vr(_r()),rpc:vr(_r()),version:vr(_r())}),ro=Ar({votePubkey:_r(),nodePubkey:_r(),activatedStake:Er(),epochVoteAccount:mr(),epochCredits:gr(kr([Er(),Er(),Er()])),commission:Er(),lastVote:Er(),rootSlot:vr(Er())}),no=ss(Ar({current:gr(ro),delinquent:gr(ro)})),io=Ir([wr("processed"),wr("confirmed"),wr("finalized")]),so=Ar({slot:Er(),confirmations:vr(Er()),err:gs,confirmationStatus:Or(io)}),oo=os(gr(vr(so))),ao=ss(Er()),co=Ar({accountKey:Ji,writableIndexes:gr(Er()),readonlyIndexes:gr(Er())}),uo=Ar({signatures:gr(_r()),message:Ar({accountKeys:gr(_r()),header:Ar({numRequiredSignatures:Er(),numReadonlySignedAccounts:Er(),numReadonlyUnsignedAccounts:Er()}),instructions:gr(Ar({accounts:gr(Er()),data:_r(),programIdIndex:Er()})),recentBlockhash:_r(),addressTableLookups:Or(gr(co))})}),lo=Ar({pubkey:Ji,signer:mr(),writable:mr(),source:Or(Ir([wr("transaction"),wr("lookupTable")]))}),ho=Ar({accountKeys:gr(lo),signatures:gr(_r())}),fo=Ar({parsed:xr(),program:_r(),programId:Ji}),po=Ar({accounts:gr(Ji),data:_r(),programId:Ji}),yo=Tr(Ir([po,fo]),Ir([Ar({parsed:xr(),program:_r(),programId:_r()}),Ar({accounts:gr(_r()),data:_r(),programId:_r()})]),e=>hr(e,"accounts"in e?po:fo)),go=Ar({signatures:gr(_r()),message:Ar({accountKeys:gr(lo),instructions:gr(yo),recentBlockhash:_r(),addressTableLookups:Or(vr(gr(co)))})}),mo=Ar({accountIndex:Er(),mint:_r(),owner:Or(_r()),programId:Or(_r()),uiTokenAmount:js}),bo=Ar({writable:gr(Ji),readonly:gr(Ji)}),wo=Ar({err:gs,fee:Er(),innerInstructions:Or(vr(gr(Ar({index:Er(),instructions:gr(Ar({accounts:gr(Er()),data:_r(),programIdIndex:Er()}))})))),preBalances:gr(Er()),postBalances:gr(Er()),logMessages:Or(vr(gr(_r()))),preTokenBalances:Or(vr(gr(mo))),postTokenBalances:Or(vr(gr(mo))),loadedAddresses:Or(bo),computeUnitsConsumed:Or(Er()),costUnits:Or(Er())}),vo=Ar({err:gs,fee:Er(),innerInstructions:Or(vr(gr(Ar({index:Er(),instructions:gr(yo)})))),preBalances:gr(Er()),postBalances:gr(Er()),logMessages:Or(vr(gr(_r()))),preTokenBalances:Or(vr(gr(mo))),postTokenBalances:Or(vr(gr(mo))),loadedAddresses:Or(bo),computeUnitsConsumed:Or(Er()),costUnits:Or(Er())}),Eo=Ir([wr(0),wr("legacy")]),Oo=Ar({pubkey:_r(),lamports:Er(),postBalance:vr(Er()),rewardType:vr(_r()),commission:Or(vr(Er()))}),So=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),transactions:gr(Ar({transaction:uo,meta:vr(wo),version:Or(Eo)})),rewards:Or(gr(Oo)),blockTime:vr(Er()),blockHeight:vr(Er())}))),_o=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),rewards:Or(gr(Oo)),blockTime:vr(Er()),blockHeight:vr(Er())}))),ko=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),transactions:gr(Ar({transaction:ho,meta:vr(wo),version:Or(Eo)})),rewards:Or(gr(Oo)),blockTime:vr(Er()),blockHeight:vr(Er())}))),Ao=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),transactions:gr(Ar({transaction:go,meta:vr(vo),version:Or(Eo)})),rewards:Or(gr(Oo)),blockTime:vr(Er()),blockHeight:vr(Er())}))),Io=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),transactions:gr(Ar({transaction:ho,meta:vr(vo),version:Or(Eo)})),rewards:Or(gr(Oo)),blockTime:vr(Er()),blockHeight:vr(Er())}))),xo=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),rewards:Or(gr(Oo)),blockTime:vr(Er()),blockHeight:vr(Er())}))),To=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),transactions:gr(Ar({transaction:uo,meta:vr(wo)})),rewards:Or(gr(Oo)),blockTime:vr(Er())}))),Bo=ss(vr(Ar({blockhash:_r(),previousBlockhash:_r(),parentSlot:Er(),signatures:gr(_r()),blockTime:vr(Er())}))),Po=ss(vr(Ar({slot:Er(),meta:vr(wo),blockTime:Or(vr(Er())),transaction:uo,version:Or(Eo)}))),jo=ss(vr(Ar({slot:Er(),transaction:go,meta:vr(vo),blockTime:Or(vr(Er())),version:Or(Eo)}))),Mo=os(Ar({blockhash:_r(),lastValidBlockHeight:Er()})),Co=os(mr()),Ro=ss(gr(Ar({slot:Er(),numTransactions:Er(),numSlots:Er(),samplePeriodSecs:Er()}))),No=os(vr(Ar({feeCalculator:Ar({lamportsPerSignature:Er()})}))),Lo=ss(_r()),Do=ss(_r()),Uo=Ar({err:gs,logs:gr(_r()),signature:_r()}),zo=Ar({result:as(Uo),subscription:Er()}),qo={"solana-client":"js/1.0.0-maintenance"};class Vo{constructor(e,t){let r,n,i,s,o,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:r,config:n}=ts(t),i=this._buildArgs([],r,void 0,n),s=Hi(i);return e[s]=e[s]??(async()=>{try{const e=hr(await this._rpcRequest("getBlockHeight",i),ss(Er()));if("error"in e)throw new Oi(e.error,"failed to get block height information");return e.result}finally{delete e[s]}})(),await e[s]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,n=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=r||function(e){const t=e.match(Yi);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${n}${null==a?"":`:${a+1}`}${s}`}(e),this._rpcClient=function(e,t,r,n,i,s){const o=r||Fi;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(e,t)=>{const r=await new Promise((r,i)=>{try{n(e,t,(e,t)=>r([e,t]))}catch(e){i(e)}});return await o(...r)}),new(Pr())(async(r,n)=>{const s={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},qo)};try{let t,r=5,c=500;for(;t=a?await a(e,s):await o(e,s),429===t.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await _i(c),c*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(e){e instanceof Error&&n(e)}},{})}(e,n,i,s,o,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise((r,n)=>{c.request(e,t,(e,t)=>{e?n(e):r(t)})})),this._rpcBatchRequest=function(e){return t=>new Promise((r,n)=>{0===t.length&&r([]);const i=t.map(t=>e.request(t.methodName,t.args));e.request(i,(e,t)=>{e?n(e):r(t)})})}(this._rpcClient),this._rpcWebSocket=new Ki(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgs([e.toBase58()],r,void 0,n),s=hr(await this._rpcRequest("getBalance",i),os(Er()));if("error"in s)throw new Oi(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){const t=hr(await this._rpcRequest("getBlockTime",[e]),ss(vr(Er())));if("error"in t)throw new Oi(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=hr(await this._rpcRequest("minimumLedgerSlot",[]),ss(Er()));if("error"in e)throw new Oi(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=hr(await this._rpcRequest("getFirstAvailableBlock",[]),Bs);if("error"in e)throw new Oi(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=hr(await this._rpcRequest("getSupply",[t]),Ps);if("error"in r)throw new Oi(r.error,"failed to get supply");return r.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=hr(await this._rpcRequest("getTokenSupply",r),os(js));if("error"in n)throw new Oi(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=hr(await this._rpcRequest("getTokenAccountBalance",r),os(js));if("error"in n)throw new Oi(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=ts(r);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,n,"base64",i),a=hr(await this._rpcRequest("getTokenAccountsByOwner",o),Cs);if("error"in a)throw new Oi(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=hr(await this._rpcRequest("getTokenAccountsByOwner",i),Ns);if("error"in s)throw new Oi(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=hr(await this._rpcRequest("getLargestAccounts",r),Ls);if("error"in n)throw new Oi(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=hr(await this._rpcRequest("getTokenLargestAccounts",r),Ms);if("error"in n)throw new Oi(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgs([e.toBase58()],r,"base64",n),s=hr(await this._rpcRequest("getAccountInfo",i),os(vr(Ds)));if("error"in s)throw new Oi(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=hr(await this._rpcRequest("getAccountInfo",i),os(vr(qs)));if("error"in s)throw new Oi(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:n}=ts(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],r,"jsonParsed",n),o=hr(await this._rpcRequest("getMultipleAccounts",s),os(gr(vr(qs))));if("error"in o)throw new Oi(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=ts(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],r,"base64",n),o=hr(await this._rpcRequest("getMultipleAccounts",s),os(gr(vr(Ds))));if("error"in o)throw new Oi(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=ts(t),s=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),o=hr(await this._rpcRequest("getStakeActivation",s),ss(Hs));if("error"in o)throw new Oi(o.error,`failed to get Stake Activation ${e.toBase58()}`);return o.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=ts(t),{encoding:i,...s}=n||{},o=this._buildArgs([e.toBase58()],r,i||"base64",{...s,...s.filters?{filters:rs(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),c=gr(Us),u=!0===s.withContext?hr(a,os(c)):hr(a,ss(c));if("error"in u)throw new Oi(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=hr(await this._rpcRequest("getProgramAccounts",i),ss(gr(Vs)));if("error"in s)throw new Oi(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);r=t.signature}try{n=$t().decode(r)}catch(e){throw new Error("signature must be base58 encoded: "+r)}return Jn(64===n.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise((s,o)=>{try{r=this.onSignature(t,(e,t)=>{r=void 0;const n={context:t,value:e};s({__type:si.PROCESSED,response:n})},e);const a=new Promise(e=>{null==r?e():n=this._onSubscriptionStateChange(r,t=>{"subscribed"===t&&e()})});(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(t);if(i)return;if(null==r)return;const{context:n,value:c}=r;if(null!=c)if(c?.err)o(c.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,s({__type:si.PROCESSED,response:{context:n,value:c}})}})()}catch(e){o(e)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let i=!1;const s=new Promise(t=>{const n=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await n();if(!i){for(;e<=r;){if(await _i(1e3),i)return;if(e=await n(),i)return}t({__type:si.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),c=this.getCancellationPromise(t);let u;try{const e=await Promise.race([c,a,s]);if(e.__type!==si.PROCESSED)throw new qn(n);u=e.response}finally{i=!0,o()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:s}}){let o=!1;const a=new Promise(t=>{let s=i,a=null;const c=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return a=t.slot,i?.nonce}catch(e){return s}};(async()=>{if(s=await c(),!o)for(;;){if(i!==s)return void t({__type:si.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await _i(2e3),o)return;if(s=await c(),o)return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),l=this.getCancellationPromise(t);let d;try{const t=await Promise.race([l,u,a]);if(t.__type===si.PROCESSED)d=t.response;else{let n;for(;;){const e=await this.getSignatureStatus(s);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??r))){n=e;break}await _i(400)}if(!n?.value)throw new Hn(s);{const t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new Hn(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new Hn(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new Hn(s)}d={context:n.context,value:{err:n.value.err}}}}}finally{o=!0,c()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const n=new Promise(t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout(()=>t({__type:si.TIMED_OUT,timeoutMs:n}),n)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let o;try{const e=await Promise.race([s,n]);if(e.__type!==si.PROCESSED)throw new Vn(t,e.timeoutMs/1e3);o=e.response}finally{clearTimeout(r),i()}return o}async getClusterNodes(){const e=hr(await this._rpcRequest("getClusterNodes",[]),ss(gr(to)));if("error"in e)throw new Oi(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=hr(await this._rpcRequest("getVoteAccounts",t),no);if("error"in r)throw new Oi(r.error,"failed to get vote accounts");return r.result}async getSlot(e){const{commitment:t,config:r}=ts(e),n=this._buildArgs([],t,void 0,r),i=hr(await this._rpcRequest("getSlot",n),ss(Er()));if("error"in i)throw new Oi(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:r}=ts(e),n=this._buildArgs([],t,void 0,r),i=hr(await this._rpcRequest("getSlotLeader",n),ss(_r()));if("error"in i)throw new Oi(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const r=[e,t],n=hr(await this._rpcRequest("getSlotLeaders",r),ss(gr(Ji)));if("error"in n)throw new Oi(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);return Jn(1===n.length),{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=hr(await this._rpcRequest("getSignatureStatuses",r),oo);if("error"in n)throw new Oi(n.error,"failed to get signature status");return n.result}async getTransactionCount(e){const{commitment:t,config:r}=ts(e),n=this._buildArgs([],t,void 0,r),i=hr(await this._rpcRequest("getTransactionCount",n),ss(Er()));if("error"in i)throw new Oi(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=hr(await this._rpcRequest("getInflationGovernor",t),_s);if("error"in r)throw new Oi(r.error,"failed to get inflation");return r.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=ts(r),s=this._buildArgs([e.map(e=>e.toBase58())],n,void 0,{...i,epoch:null!=t?t:i?.epoch}),o=hr(await this._rpcRequest("getInflationReward",s),ls);if("error"in o)throw new Oi(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const e=hr(await this._rpcRequest("getInflationRate",[]),ks);if("error"in e)throw new Oi(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:r}=ts(e),n=this._buildArgs([],t,void 0,r),i=hr(await this._rpcRequest("getEpochInfo",n),Is);if("error"in i)throw new Oi(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=hr(await this._rpcRequest("getEpochSchedule",[]),xs);if("error"in e)throw new Oi(e.error,"failed to get epoch schedule");const t=e.result;return new Wi(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=hr(await this._rpcRequest("getLeaderSchedule",[]),Ts);if("error"in e)throw new Oi(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=hr(await this._rpcRequest("getMinimumBalanceForRentExemption",r),ao);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=hr(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),Ro);if("error"in t)throw new Oi(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=hr(await this._rpcRequest("getFeeCalculatorForBlockhash",r),No);if("error"in n)throw new Oi(n.error,"failed to get fee calculator");const{context:i,value:s}=n.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const r=In(e.serialize()).toString("base64"),n=this._buildArgs([r],t),i=hr(await this._rpcRequest("getFeeForMessage",n),os(vr(Er())));if("error"in i)throw new Oi(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),r=t?.length?[t]:[],n=hr(await this._rpcRequest("getRecentPrioritizationFees",r),As);if("error"in n)throw new Oi(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=ts(e),n=this._buildArgs([],t,void 0,r),i=hr(await this._rpcRequest("getLatestBlockhash",n),Mo);if("error"in i)throw new Oi(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgs([e],r,void 0,n),s=hr(await this._rpcRequest("isBlockhashValid",i),Co);if("error"in s)throw new Oi(s.error,"failed to determine if the blockhash `"+e+"`is valid");return s.result}async getVersion(){const e=hr(await this._rpcRequest("getVersion",[]),ss(ws));if("error"in e)throw new Oi(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=hr(await this._rpcRequest("getGenesisHash",[]),ss(_r()));if("error"in e)throw new Oi(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const e=hr(s,ko);if("error"in e)throw e.error;return e.result}case"none":{const e=hr(s,_o);if("error"in e)throw e.error;return e.result}default:{const e=hr(s,So);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:cs(r,e.message)},version:r}))}:null}}}catch(e){throw new Oi(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const e=hr(s,Io);if("error"in e)throw e.error;return e.result}case"none":{const e=hr(s,xo);if("error"in e)throw e.error;return e.result}default:{const e=hr(s,Ao);if("error"in e)throw e.error;return e.result}}}catch(e){throw new Oi(e,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"==typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=hr(await this._rpcRequest("getBlockProduction",n),Ss);if("error"in i)throw new Oi(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),s=hr(await this._rpcRequest("getTransaction",i),Po);if("error"in s)throw new Oi(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:cs(o.version,o.transaction.message)}}:o}async getParsedTransaction(e,t){const{commitment:r,config:n}=ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),s=hr(await this._rpcRequest("getTransaction",i),jo);if("error"in s)throw new Oi(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=ts(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)}));return(await this._rpcBatchRequest(i)).map(e=>{const t=hr(e,jo);if("error"in t)throw new Oi(t.error,"failed to get transactions");return t.result})}async getTransactions(e,t){const{commitment:r,config:n}=ts(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)}));return(await this._rpcBatchRequest(i)).map(e=>{const t=hr(e,Po);if("error"in t)throw new Oi(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:cs(r.version,r.transaction.message)}}:r})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=hr(await this._rpcRequest("getBlock",r),To);if("error"in n)throw new Oi(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");const s={...i,transactions:i.transactions.map(({transaction:e,meta:t})=>{const r=new ri(e.message);return{meta:t,transaction:{...e,message:r}}})};return{...s,transactions:s.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:ci.populate(e.message,e.signatures)}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=hr(await this._rpcRequest("getBlocks",n),ss(gr(Er())));if("error"in i)throw new Oi(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=hr(await this._rpcRequest("getBlock",r),Bo);if("error"in n)throw new Oi(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=hr(await this._rpcRequest("getBlock",r),Bo);if("error"in n)throw new Oi(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=hr(await this._rpcRequest("getTransaction",r),Po);if("error"in n)throw new Oi(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const s=new ri(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:ci.populate(s,o)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=hr(await this._rpcRequest("getTransaction",r),jo);if("error"in n)throw new Oi(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(e,t){const r=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(e=>{const t=hr(e,jo);if("error"in t)throw new Oi(t.error,"failed to get confirmed transactions");return t.result})}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let s=await this.getSlot("finalized");for(;!("before"in n||++r>s);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,n)).map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=hr(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),$s);if("error"in i)throw new Oi(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=hr(await this._rpcRequest("getSignaturesForAddress",n),Ws);if("error"in i)throw new Oi(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=new Gi({key:e,state:Gi.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=Bi.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){const r=hr(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),Lo);if("error"in r)throw new Oi(r.error,`airdrop to ${e.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await _i(100);const e=Date.now()-this._blockhashInfo.lastFetch>=es;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await _i(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=ts(e),n=this._buildArgs([],t,"base64",r),i=hr(await this._rpcRequest("getStakeMinimumDelegation",n),os(Er()));if("error"in i)throw new Oi(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,r){if("message"in e){const i=e.serialize(),s=n.Buffer.from(i).toString("base64");if(Array.isArray(t)||void 0!==r)throw new Error("Invalid arguments");const o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);const a=[s,o],c=hr(await this._rpcRequest("simulateTransaction",a),Os);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let i;if(e instanceof ci){let t=e;i=new ci,i.feePayer=t.feePayer,i.instructions=e.instructions,i.nonceInfo=t.nonceInfo,i.signatures=t.signatures}else i=ci.populate(e),i._message=i._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=t.lastValidBlockHeight,i.recentBlockhash=t.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const r=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:o.nonProgramIds()).map(e=>e.toBase58());u.accounts={encoding:"base64",addresses:e}}s&&(u.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);const l=[c,u],d=hr(await this._rpcRequest("simulateTransaction",l),Os);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new vi({action:"simulate",signature:"",transactionMessage:d.error.message,logs:e})}return d.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const n=t;if(e.nonceInfo)e.sign(...n);else{let t=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,e.sign(...n),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=In(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=!0===n?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[e,r],o=hr(await this._rpcRequest("sendTransaction",s),Do);if("error"in o){let e;throw"data"in o.error&&(e=o.error.data.logs),new vi({action:n?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:e})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})})):this._updateSubscriptions()}_setSubscription(e,t){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(t),()=>{n.delete(t),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const t=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:s}),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!t())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach(e=>{try{e(...t)}catch(e){console.error(e)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=hr(e,Fs);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=Hi([e.method,t]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];Jn(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:n,config:i}=ts(r),s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=hr(e,Gs);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const{commitment:i,config:s}=ts(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s||(n?{filters:rs(n)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=hr(e,zo);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=hr(e,Ys);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=hr(e,Xs);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=hr(e,Qs);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],n,void 0,i),o=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(o)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=hr(e,eo);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ho{constructor(e){this._keypair=void 0,this._keypair=e??On()}static generate(){return new Ho(On())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=Sn(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new Ho({publicKey:r,secretKey:e})}static fromSeed(e){const t=Sn(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Ho({publicKey:t,secretKey:r})}get publicKey(){return new Rn(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $o=Object.freeze({CreateLookupTable:{index:0,layout:Kt.w3([Kt.DH("instruction"),Pi("recentSlot"),Kt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Kt.w3([Kt.DH("instruction")])},ExtendLookupTable:{index:2,layout:Kt.w3([Kt.DH("instruction"),Pi(),Kt.O6(Wn(),Kt.cY(Kt.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Kt.w3([Kt.DH("instruction")])},CloseLookupTable:{index:4,layout:Kt.w3([Kt.DH("instruction")])}});class Wo{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Kt.DH("instruction").decode(e.data);let r;for(const[e,n]of Object.entries($o))if(n.index==t){r=e;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Ai($o.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Ai($o.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(e=>new Rn(e))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Fo.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Fo{constructor(){}static createLookupTable(e){const[t,r]=Rn.findProgramAddressSync([e.authority.toBuffer(),tr().encode(e.recentSlot)],this.programId),n=ki($o.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ci.programId,isSigner:!1,isWritable:!1}];return[new ai({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=ki($o.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ai({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=ki($o.ExtendLookupTable,{addresses:e.addresses.map(e=>e.toBytes())}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ci.programId,isSigner:!1,isWritable:!1}),new ai({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=ki($o.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ai({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=ki($o.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ai({programId:this.programId,keys:r,data:t})}}Fo.programId=new Rn("AddressLookupTab1e1111111111111111111111111");class Ko{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Kt.u8("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(Go))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Ai(Go.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Ai(Go.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Ai(Go.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Ai(Go.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Zo.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Go=Object.freeze({RequestUnits:{index:0,layout:Kt.w3([Kt.u8("instruction"),Kt.DH("units"),Kt.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Kt.w3([Kt.u8("instruction"),Kt.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Kt.w3([Kt.u8("instruction"),Kt.DH("units")])},SetComputeUnitPrice:{index:3,layout:Kt.w3([Kt.u8("instruction"),Pi("microLamports")])}});class Zo{constructor(){}static requestUnits(e){const t=ki(Go.RequestUnits,e);return new ai({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=ki(Go.RequestHeapFrame,e);return new ai({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=ki(Go.SetComputeUnitLimit,e);return new ai({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=ki(Go.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new ai({keys:[],programId:this.programId,data:t})}}Zo.programId=new Rn("ComputeBudget111111111111111111111111111111");const Yo=Kt.w3([Kt.u8("numSignatures"),Kt.u8("padding"),Kt.NX("signatureOffset"),Kt.NX("signatureInstructionIndex"),Kt.NX("publicKeyOffset"),Kt.NX("publicKeyInstructionIndex"),Kt.NX("messageDataOffset"),Kt.NX("messageDataSize"),Kt.NX("messageInstructionIndex")]);class Jo{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;Jn(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Jn(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const o=Yo.span,a=o+t.length,c=a+i.length,u=n.Buffer.alloc(c+r.length),l=null==s?65535:s;return Yo.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,o),u.fill(i,a),u.fill(r,c),new ai({keys:[],programId:Jo.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Jn(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Ho.fromSecretKey(t),i=e.publicKey.toBytes(),s=kn(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Jo.programId=new Rn("Ed25519SigVerify111111111111111111111111111"),vn.utils.isValidPrivateKey;const Xo=vn.getPublicKey,Qo=Kt.w3([Kt.u8("numSignatures"),Kt.NX("signatureOffset"),Kt.u8("signatureInstructionIndex"),Kt.NX("ethAddressOffset"),Kt.u8("ethAddressInstructionIndex"),Kt.NX("messageDataOffset"),Kt.NX("messageDataSize"),Kt.u8("messageInstructionIndex"),Kt.av(20,"ethAddress"),Kt.av(64,"signature"),Kt.u8("recoveryId")]);class ea{constructor(){}static publicKeyToEthAddress(e){Jn(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return n.Buffer.from(Jr(In(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return ea.createInstructionWithEthAddress({ethAddress:ea.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;a="string"==typeof t?t.startsWith("0x")?n.Buffer.from(t.substr(2),"hex"):n.Buffer.from(t,"hex"):t,Jn(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+i.length+1,l=n.Buffer.alloc(Qo.span+r.length);return Qo.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:o,signature:In(i),ethAddress:In(a),recoveryId:s},l),l.fill(In(r),Qo.span),new ai({keys:[],programId:ea.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Jn(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=In(t),s=Xo(e,!1).slice(1),o=n.Buffer.from(Jr(In(r))),[a,c]=((e,t)=>{const r=vn.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(o,e);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,recoveryId:c,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var ta;ea.programId=new Rn("KeccakSecp256k11111111111111111111111111111");const ra=new Rn("StakeConfig11111111111111111111111111111111");class na{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ia{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}ta=ia,ia.default=new ta(0,0,Rn.default);class sa{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Kt.DH("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(oa))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Ai(oa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new na(new Rn(t.staker),new Rn(t.withdrawer)),lockup:new ia(r.unixTimestamp,r.epoch,new Rn(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ai(oa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Ai(oa.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Rn(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=Ai(oa.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Rn(i),newAuthorizedPubkey:new Rn(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ai(oa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ai(oa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ai(oa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ai(oa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(ca.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const oa=Object.freeze({Initialize:{index:0,layout:Kt.w3([Kt.DH("instruction"),((e="authorized")=>Kt.w3([Wn("staker"),Wn("withdrawer")],e))(),((e="lockup")=>Kt.w3([Kt.Wg("unixTimestamp"),Kt.Wg("epoch"),Wn("custodian")],e))()])},Authorize:{index:1,layout:Kt.w3([Kt.DH("instruction"),Wn("newAuthorized"),Kt.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Kt.w3([Kt.DH("instruction")])},Split:{index:3,layout:Kt.w3([Kt.DH("instruction"),Kt.Wg("lamports")])},Withdraw:{index:4,layout:Kt.w3([Kt.DH("instruction"),Kt.Wg("lamports")])},Deactivate:{index:5,layout:Kt.w3([Kt.DH("instruction")])},Merge:{index:7,layout:Kt.w3([Kt.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Kt.w3([Kt.DH("instruction"),Wn("newAuthorized"),Kt.DH("stakeAuthorizationType"),Kn("authoritySeed"),Wn("authorityOwner")])}}),aa=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ca{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||ia.default,s=ki(oa.Initialize,{authorized:{staker:In(r.staker.toBuffer()),withdrawer:In(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:In(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new ai(o)}static createAccountWithSeed(e){const t=new ci;t.add(Ci.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new ci;t.add(Ci.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=ki(oa.Delegate);return(new ci).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:ra,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=ki(oa.Authorize,{newAuthorized:In(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new ci).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,c=ki(oa.AuthorizeWithSeed,{newAuthorized:In(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:In(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:di,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new ci).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=ki(oa.Split,{lamports:i});return new ai({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){const r=new ci;return r.add(Ci.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,c=new ci;return c.add(Ci.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&c.add(Ci.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=ki(oa.Merge);return(new ci).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=ki(oa.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:wi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new ci).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=ki(oa.Deactivate);return(new ci).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}ca.programId=new Rn("Stake11111111111111111111111111111111111111"),ca.space=200;class ua{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class la{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Kt.DH("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(da))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Ai(da.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ua(new Rn(t.nodePubkey),new Rn(t.authorizedVoter),new Rn(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Ai(da.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Rn(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=Ai(da.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Rn(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Rn(n),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ai(da.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fa.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const da=Object.freeze({InitializeAccount:{index:0,layout:Kt.w3([Kt.DH("instruction"),((e="voteInit")=>Kt.w3([Wn("nodePubkey"),Wn("authorizedVoter"),Wn("authorizedWithdrawer"),Kt.u8("commission")],e))()])},Authorize:{index:1,layout:Kt.w3([Kt.DH("instruction"),Wn("newAuthorized"),Kt.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Kt.w3([Kt.DH("instruction"),Kt.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Kt.w3([Kt.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Kt.w3([Kt.DH("instruction"),((e="voteAuthorizeWithSeedArgs")=>Kt.w3([Kt.DH("voteAuthorizationType"),Wn("currentAuthorityDerivedKeyOwnerPubkey"),Kn("currentAuthorityDerivedKeySeed"),Wn("newAuthorized")],e))()])}}),ha=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fa{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=ki(da.InitializeAccount,{voteInit:{nodePubkey:In(n.nodePubkey.toBuffer()),authorizedVoter:In(n.authorizedVoter.toBuffer()),authorizedWithdrawer:In(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ai(s)}static createAccount(e){const t=new ci;return t.add(Ci.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=ki(da.Authorize,{newAuthorized:In(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ci).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=ki(da.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:In(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:In(i.toBuffer()),voteAuthorizationType:s.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:di,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new ci).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=ki(da.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ci).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return fa.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=ki(da.UpdateValidatorIdentity),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ci).add({keys:s,programId:this.programId,data:i})}}fa.programId=new Rn("Vote111111111111111111111111111111111111111"),fa.space=3762;const pa=new Rn("Va1idator1nfo111111111111111111111111111111"),ya=Ar({name:_r(),website:Or(_r()),details:Or(_r()),iconUrl:Or(_r()),keybaseUsername:Or(_r())});class ga{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Zn(t))return null;const r=[];for(let e=0;e<2;e++){const e=new Rn(ti(t,0,Mn)),n=1===ei(t);r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(pa)&&r[1].isSigner){const e=Kn().decode(n.Buffer.from(t)),i=JSON.parse(e);return dr(i,ya),new ga(r[1].publicKey,i)}return null}}const ma=new Rn("Vote111111111111111111111111111111111111111"),ba=Kt.w3([Wn("nodePubkey"),Wn("authorizedWithdrawer"),Kt.u8("commission"),Kt.I0(),Kt.O6(Kt.w3([Kt.I0("slot"),Kt.DH("confirmationCount")]),Kt.cY(Kt.DH(),-8),"votes"),Kt.u8("rootSlotValid"),Kt.I0("rootSlot"),Kt.I0(),Kt.O6(Kt.w3([Kt.I0("epoch"),Wn("authorizedVoter")]),Kt.cY(Kt.DH(),-8),"authorizedVoters"),Kt.w3([Kt.O6(Kt.w3([Wn("authorizedPubkey"),Kt.I0("epochOfLastAuthorizedSwitch"),Kt.I0("targetEpoch")]),32,"buf"),Kt.I0("idx"),Kt.u8("isEmpty")],"priorVoters"),Kt.I0(),Kt.O6(Kt.w3([Kt.I0("epoch"),Kt.I0("credits"),Kt.I0("prevCredits")]),Kt.cY(Kt.DH(),-8),"epochCredits"),Kt.w3([Kt.I0("slot"),Kt.I0("timestamp")],"lastTimestamp")]);class wa{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=ba.decode(In(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new wa({nodePubkey:new Rn(t.nodePubkey),authorizedWithdrawer:new Rn(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(va),priorVoters:Oa(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function va({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new Rn(e)}}function Ea({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:r}){return{authorizedPubkey:new Rn(e),epochOfLastAuthorizedSwitch:t,targetEpoch:r}}function Oa({buf:e,idx:t,isEmpty:r}){return r?[]:[...e.slice(t+1).map(Ea),...e.slice(0,t).map(Ea)]}const Sa={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function _a(e,t){const r=!1===t?"http":"https";if(!e)return Sa[r].devnet;const n=Sa[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}async function ka(e,t,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await e.sendRawTransaction(t,o),c=s&&s.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),l=(await u).value;if(l.err){if(null!=a)throw new vi({action:o?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`)}return a}const Aa=1e9},1193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RPC_ERROR_MESSAGE=t.RPC_ERROR=void 0,t.RPC_ERROR={INVALID_INPUT:-32e3,RESOURCE_NOT_FOUND:-32001,RESOURCE_UNAVAILABLE:-32002,TRANSACTION_REJECTED:-32003,METHOD_NOT_SUPPORTED:-32004,LIMIT_EXCEEDED:-32005,PARSE:-32700,INVALID_REQUEST:-32600,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32602,INTERNAL:-32603,USER_REJECTED_REQUEST:4001,UNAUTHORIZED:4100,UNSUPPORTED_METHOD:4200,DISCONNECTED:4900,CHAIN_DISCONNECTED:4901,LEDGER_UNSUPPORTED_METHOD:5e3,LEDGER_UNSUPPORTED_CHAIN:5001},t.RPC_ERROR_MESSAGE={[t.RPC_ERROR.PARSE]:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.",[t.RPC_ERROR.INVALID_REQUEST]:"The JSON sent is not a valid Request object.",[t.RPC_ERROR.METHOD_NOT_FOUND]:"The method does not exist / is not available.",[t.RPC_ERROR.INVALID_PARAMS]:"Invalid method parameter(s).",[t.RPC_ERROR.INTERNAL]:"Internal JSON-RPC error.",[t.RPC_ERROR.INVALID_INPUT]:"Invalid input.",[t.RPC_ERROR.RESOURCE_NOT_FOUND]:"Resource not found.",[t.RPC_ERROR.RESOURCE_UNAVAILABLE]:"Resource unavailable.",[t.RPC_ERROR.TRANSACTION_REJECTED]:"Transaction rejected.",[t.RPC_ERROR.METHOD_NOT_SUPPORTED]:"Method not supported.",[t.RPC_ERROR.LIMIT_EXCEEDED]:"Request limit exceeded.",[t.RPC_ERROR.USER_REJECTED_REQUEST]:"User rejected the request."}},1200:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=s(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(529),e.exports),u(l,r(4934),e.exports),u(l,r(7235),e.exports),u(l,r(8269),e.exports),u(l,r(8293),e.exports),u(l,r(4336),e.exports)},1234:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{getPureBcsSchema:()=>E,isTxContext:()=>v,normalizedTypeToMoveTypeSignature:()=>O,pureBcsSchemaFromOpenMoveTypeSignatureBody:()=>_}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2175),l=r(7546),d=r(4279);const h="object",f="ID",p="ascii",y="String",g="string",m="String",b="option",w="Option";function v(e){const t="object"==typeof e.body&&"datatype"in e.body?e.body.datatype:null;return!!t&&(0,d.normalizeIotaAddress)(t.package)===(0,d.normalizeIotaAddress)("0x2")&&"tx_context"===t.module&&"TxContext"===t.type}function E(e){if("string"==typeof e)switch(e){case"address":return u.bcs.Address;case"bool":return u.bcs.Bool;case"u8":return u.bcs.U8;case"u16":return u.bcs.U16;case"u32":return u.bcs.U32;case"u64":return u.bcs.U64;case"u128":return u.bcs.U128;case"u256":return u.bcs.U256;default:throw new Error(`Unknown type signature ${e}`)}if("vector"in e){if("u8"===e.vector)return u.bcs.vector(u.bcs.U8).transform({input:e=>"string"==typeof e?(new TextEncoder).encode(e):e,output:e=>e});const t=E(e.vector);return t?u.bcs.vector(t):null}if("datatype"in e){const t=(0,d.normalizeIotaAddress)(e.datatype.package);if(t===(0,d.normalizeIotaAddress)(l.MOVE_STDLIB_ADDRESS)){if(e.datatype.module===p&&e.datatype.type===y)return u.bcs.String;if(e.datatype.module===g&&e.datatype.type===m)return u.bcs.String;if(e.datatype.module===b&&e.datatype.type===w){const t=E(e.datatype.typeParameters[0]);return t?u.bcs.vector(t):null}}if(t===(0,d.normalizeIotaAddress)(l.IOTA_FRAMEWORK_ADDRESS)&&e.datatype.module===h&&e.datatype.type===f)return u.bcs.Address}return null}function O(e){return"object"==typeof e&&"Reference"in e?{ref:"&",body:S(e.Reference)}:"object"==typeof e&&"MutableReference"in e?{ref:"&mut",body:S(e.MutableReference)}:{ref:null,body:S(e)}}function S(e){if("string"==typeof e)switch(e){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${e}`)}if("Vector"in e)return{vector:S(e.Vector)};if("Struct"in e)return{datatype:{package:e.Struct.address,module:e.Struct.module,type:e.Struct.name,typeParameters:e.Struct.typeArguments.map(S)}};if("TypeParameter"in e)return{typeParameter:e.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(e)}`)}function _(e){if("string"==typeof e)switch(e){case"address":return u.bcs.Address;case"bool":return u.bcs.Bool;case"u8":return u.bcs.U8;case"u16":return u.bcs.U16;case"u32":return u.bcs.U32;case"u64":return u.bcs.U64;case"u128":return u.bcs.U128;case"u256":return u.bcs.U256;default:throw new Error(`Unknown type signature ${e}`)}if("vector"in e)return u.bcs.vector(_(e.vector));throw new Error(`Expected pure typeSignature, but got ${JSON.stringify(e)}`)}},1380:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{PACKAGE_VERSION:()=>a,TARGETED_RPC_VERSION:()=>c}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a="1.6.1",c="1.6.0-alpha"},1453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2s=t.BLAKE2s=t.blake2b=t.BLAKE2b=t.BLAKE2=void 0,t.compress=p;const n=r(4110),i=r(7202),s=r(2318),o=r(9175),a=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint32Array(32);function u(e,t,r,n,i,o){const a=i[o],u=i[o+1];let l=c[2*e],d=c[2*e+1],h=c[2*t],f=c[2*t+1],p=c[2*r],y=c[2*r+1],g=c[2*n],m=c[2*n+1],b=s.add3L(l,h,a);d=s.add3H(b,d,f,u),l=0|b,({Dh:m,Dl:g}={Dh:m^d,Dl:g^l}),({Dh:m,Dl:g}={Dh:s.rotr32H(m,g),Dl:s.rotr32L(m,g)}),({h:y,l:p}=s.add(y,p,m,g)),({Bh:f,Bl:h}={Bh:f^y,Bl:h^p}),({Bh:f,Bl:h}={Bh:s.rotrSH(f,h,24),Bl:s.rotrSL(f,h,24)}),c[2*e]=l,c[2*e+1]=d,c[2*t]=h,c[2*t+1]=f,c[2*r]=p,c[2*r+1]=y,c[2*n]=g,c[2*n+1]=m}function l(e,t,r,n,i,o){const a=i[o],u=i[o+1];let l=c[2*e],d=c[2*e+1],h=c[2*t],f=c[2*t+1],p=c[2*r],y=c[2*r+1],g=c[2*n],m=c[2*n+1],b=s.add3L(l,h,a);d=s.add3H(b,d,f,u),l=0|b,({Dh:m,Dl:g}={Dh:m^d,Dl:g^l}),({Dh:m,Dl:g}={Dh:s.rotrSH(m,g,16),Dl:s.rotrSL(m,g,16)}),({h:y,l:p}=s.add(y,p,m,g)),({Bh:f,Bl:h}={Bh:f^y,Bl:h^p}),({Bh:f,Bl:h}={Bh:s.rotrBH(f,h,63),Bl:s.rotrBL(f,h,63)}),c[2*e]=l,c[2*e+1]=d,c[2*t]=h,c[2*t+1]=f,c[2*r]=p,c[2*r+1]=y,c[2*n]=g,c[2*n+1]=m}function d(e,t={},r,n,i){if((0,o.anumber)(r),e<0||e>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:c}=t;if(void 0!==s&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(void 0!==a&&a.length!==n)throw new Error("salt must be undefined or "+n);if(void 0!==c&&c.length!==i)throw new Error("personalization must be undefined or "+i)}class h extends o.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,(0,o.anumber)(e),(0,o.anumber)(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=(0,o.u32)(this.buffer)}update(e){(0,o.aexists)(this),e=(0,o.toBytes)(e),(0,o.abytes)(e);const{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,s=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===t&&((0,o.swap32IfBE)(n),this.compress(n,0,!1),(0,o.swap32IfBE)(n),this.pos=0);const u=Math.min(t-this.pos,i-c),l=s+c;if(u===t&&!(l%4)&&c+u<i){const e=new Uint32Array(a,l,Math.floor((i-c)/4));(0,o.swap32IfBE)(e);for(let r=0;c+t<i;r+=n.length,c+=t)this.length+=t,this.compress(e,r,!1);(0,o.swap32IfBE)(e);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){(0,o.aexists)(this),(0,o.aoutput)(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,(0,o.clean)(this.buffer.subarray(t)),(0,o.swap32IfBE)(r),this.compress(r,0,!0),(0,o.swap32IfBE)(r);const n=(0,o.u32)(e);this.get().forEach((e,t)=>n[t]=(0,o.swap8IfBE)(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}t.BLAKE2=h;class f extends h{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|a[0],this.v0h=0|a[1],this.v1l=0|a[2],this.v1h=0|a[3],this.v2l=0|a[4],this.v2h=0|a[5],this.v3l=0|a[6],this.v3h=0|a[7],this.v4l=0|a[8],this.v4h=0|a[9],this.v5l=0|a[10],this.v5h=0|a[11],this.v6l=0|a[12],this.v6h=0|a[13],this.v7l=0|a[14],this.v7h=0|a[15],d(t,e,64,16,16);let{key:r,personalization:n,salt:i}=e,s=0;if(void 0!==r&&(r=(0,o.toBytes)(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=(0,o.toBytes)(i);const e=(0,o.u32)(i);this.v4l^=(0,o.swap8IfBE)(e[0]),this.v4h^=(0,o.swap8IfBE)(e[1]),this.v5l^=(0,o.swap8IfBE)(e[2]),this.v5h^=(0,o.swap8IfBE)(e[3])}if(void 0!==n){n=(0,o.toBytes)(n);const e=(0,o.u32)(n);this.v6l^=(0,o.swap8IfBE)(e[0]),this.v6h^=(0,o.swap8IfBE)(e[1]),this.v7l^=(0,o.swap8IfBE)(e[2]),this.v7h^=(0,o.swap8IfBE)(e[3])}if(void 0!==r){const e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:u,v5l:l,v5h:d,v6l:h,v6h:f,v7l:p,v7h:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|u,this.v5l=0|l,this.v5h=0|d,this.v6l=0|h,this.v6h=0|f,this.v7l=0|p,this.v7h=0|y}compress(e,t,r){this.get().forEach((e,t)=>c[t]=e),c.set(a,16);let{h:i,l:d}=s.fromBig(BigInt(this.length));c[24]=a[8]^d,c[25]=a[9]^i,r&&(c[28]=~c[28],c[29]=~c[29]);let h=0;const f=n.BSIGMA;for(let r=0;r<12;r++)u(0,4,8,12,e,t+2*f[h++]),l(0,4,8,12,e,t+2*f[h++]),u(1,5,9,13,e,t+2*f[h++]),l(1,5,9,13,e,t+2*f[h++]),u(2,6,10,14,e,t+2*f[h++]),l(2,6,10,14,e,t+2*f[h++]),u(3,7,11,15,e,t+2*f[h++]),l(3,7,11,15,e,t+2*f[h++]),u(0,5,10,15,e,t+2*f[h++]),l(0,5,10,15,e,t+2*f[h++]),u(1,6,11,12,e,t+2*f[h++]),l(1,6,11,12,e,t+2*f[h++]),u(2,7,8,13,e,t+2*f[h++]),l(2,7,8,13,e,t+2*f[h++]),u(3,4,9,14,e,t+2*f[h++]),l(3,4,9,14,e,t+2*f[h++]);this.v0l^=c[0]^c[16],this.v0h^=c[1]^c[17],this.v1l^=c[2]^c[18],this.v1h^=c[3]^c[19],this.v2l^=c[4]^c[20],this.v2h^=c[5]^c[21],this.v3l^=c[6]^c[22],this.v3h^=c[7]^c[23],this.v4l^=c[8]^c[24],this.v4h^=c[9]^c[25],this.v5l^=c[10]^c[26],this.v5h^=c[11]^c[27],this.v6l^=c[12]^c[28],this.v6h^=c[13]^c[29],this.v7l^=c[14]^c[30],this.v7h^=c[15]^c[31],(0,o.clean)(c)}destroy(){this.destroyed=!0,(0,o.clean)(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}function p(e,t,r,i,s,o,a,c,u,l,d,h,f,p,y,g,m,b,w,v){let E=0;for(let O=0;O<i;O++)({a:s,b:u,c:f,d:m}=(0,n.G1s)(s,u,f,m,r[t+e[E++]])),({a:s,b:u,c:f,d:m}=(0,n.G2s)(s,u,f,m,r[t+e[E++]])),({a:o,b:l,c:p,d:b}=(0,n.G1s)(o,l,p,b,r[t+e[E++]])),({a:o,b:l,c:p,d:b}=(0,n.G2s)(o,l,p,b,r[t+e[E++]])),({a,b:d,c:y,d:w}=(0,n.G1s)(a,d,y,w,r[t+e[E++]])),({a,b:d,c:y,d:w}=(0,n.G2s)(a,d,y,w,r[t+e[E++]])),({a:c,b:h,c:g,d:v}=(0,n.G1s)(c,h,g,v,r[t+e[E++]])),({a:c,b:h,c:g,d:v}=(0,n.G2s)(c,h,g,v,r[t+e[E++]])),({a:s,b:l,c:y,d:v}=(0,n.G1s)(s,l,y,v,r[t+e[E++]])),({a:s,b:l,c:y,d:v}=(0,n.G2s)(s,l,y,v,r[t+e[E++]])),({a:o,b:d,c:g,d:m}=(0,n.G1s)(o,d,g,m,r[t+e[E++]])),({a:o,b:d,c:g,d:m}=(0,n.G2s)(o,d,g,m,r[t+e[E++]])),({a,b:h,c:f,d:b}=(0,n.G1s)(a,h,f,b,r[t+e[E++]])),({a,b:h,c:f,d:b}=(0,n.G2s)(a,h,f,b,r[t+e[E++]])),({a:c,b:u,c:p,d:w}=(0,n.G1s)(c,u,p,w,r[t+e[E++]])),({a:c,b:u,c:p,d:w}=(0,n.G2s)(c,u,p,w,r[t+e[E++]]));return{v0:s,v1:o,v2:a,v3:c,v4:u,v5:l,v6:d,v7:h,v8:f,v9:p,v10:y,v11:g,v12:m,v13:b,v14:w,v15:v}}t.BLAKE2b=f,t.blake2b=(0,o.createOptHasher)(e=>new f(e));const y=i.SHA256_IV;class g extends h{constructor(e={}){const t=void 0===e.dkLen?32:e.dkLen;super(64,t),this.v0=0|y[0],this.v1=0|y[1],this.v2=0|y[2],this.v3=0|y[3],this.v4=0|y[4],this.v5=0|y[5],this.v6=0|y[6],this.v7=0|y[7],d(t,e,32,8,8);let{key:r,personalization:n,salt:i}=e,s=0;if(void 0!==r&&(r=(0,o.toBytes)(r),s=r.length),this.v0^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=(0,o.toBytes)(i);const e=(0,o.u32)(i);this.v4^=(0,o.swap8IfBE)(e[0]),this.v5^=(0,o.swap8IfBE)(e[1])}if(void 0!==n){n=(0,o.toBytes)(n);const e=(0,o.u32)(n);this.v6^=(0,o.swap8IfBE)(e[0]),this.v7^=(0,o.swap8IfBE)(e[1])}if(void 0!==r){(0,o.abytes)(r);const e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){const{v0:e,v1:t,v2:r,v3:n,v4:i,v5:s,v6:o,v7:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.v0=0|e,this.v1=0|t,this.v2=0|r,this.v3=0|n,this.v4=0|i,this.v5=0|s,this.v6=0|o,this.v7=0|a}compress(e,t,r){const{h:i,l:o}=s.fromBig(BigInt(this.length)),{v0:a,v1:c,v2:u,v3:l,v4:d,v5:h,v6:f,v7:g,v8:m,v9:b,v10:w,v11:v,v12:E,v13:O,v14:S,v15:_}=p(n.BSIGMA,t,e,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,y[0],y[1],y[2],y[3],o^y[4],i^y[5],r?~y[6]:y[6],y[7]);this.v0^=a^m,this.v1^=c^b,this.v2^=u^w,this.v3^=l^v,this.v4^=d^E,this.v5^=h^O,this.v6^=f^S,this.v7^=g^_}destroy(){this.destroyed=!0,(0,o.clean)(this.buffer32),this.set(0,0,0,0,0,0,0,0)}}t.BLAKE2s=g,t.blake2s=(0,o.createOptHasher)(e=>new g(e))},1462:(e,t,r)=>{"use strict";var n=r(2861).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===c;)i++,r++;for(var o=(e.length-r)*u+1>>>0,l=new Uint8Array(o);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,r++}for(var y=o-s;y!==o&&0===l[y];)y++;var g=n.allocUnsafe(i+(o-y));g.fill(0,0,i);for(var m=i;y!==o;)g[m++]=l[y++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var u=(o-s)*l+1>>>0,d=new Uint8Array(u);s!==o;){for(var h=t[s],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var y=u-i;y!==u&&0===d[y];)y++;for(var g=c.repeat(r);y<u;++y)g+=e.charAt(d[y]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},1487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){const n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw new TypeError(n+" is ambiguous");t[i]=r}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===n;)o++,s++;const c=(e.length-s)*i+1>>>0,u=new Uint8Array(c);for(;s<e.length;){const n=e.charCodeAt(s);if(n>255)return;let i=t[n];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=r*u[e]>>>0,u[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let l=c-a;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(o+(c-l));let h=o;for(;l!==c;)d[h++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const u=(c-a)*s+1>>>0,l=new Uint8Array(u);for(;a!==c;){let e=t[a],n=0;for(let t=u-1;(0!==e||n<o)&&-1!==t;t--,n++)e+=256*l[t]>>>0,l[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw new Error("Non-zero carry");o=n,a++}let d=u-o;for(;d!==u&&0===l[d];)d++;let h=n.repeat(i);for(;d<u;++d)h+=e.charAt(l[d]);return h},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+r+" character")}}}},1571:e=>{"use strict";var t,r,n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>(((e,t)=>{t.has(e)||c("Cannot read from private field")})(e,t),r?r.call(e):t.get(e)),l=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),d={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(d,{ParallelQueue:()=>f,SerialQueue:()=>h}),e.exports=(n=d,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));class h{constructor(){l(this,t,[])}async runTask(e){return new Promise((r,n)=>{u(this,t).push(()=>{e().finally(()=>{u(this,t).shift(),u(this,t).length>0&&u(this,t)[0]()}).then(r,n)}),1===u(this,t).length&&u(this,t)[0]()})}}t=new WeakMap;class f{constructor(e){l(this,r,[]),this.activeTasks=0,this.maxTasks=e}runTask(e){return new Promise((t,n)=>{this.activeTasks<this.maxTasks?(this.activeTasks++,e().finally(()=>{u(this,r).length>0?u(this,r).shift()():this.activeTasks--}).then(t,n)):u(this,r).push(()=>{e().finally(()=>{u(this,r).length>0?u(this,r).shift()():this.activeTasks--}).then(t,n)})})}}r=new WeakMap},1590:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaSignTransaction=void 0,t.SolanaSignTransaction="solana:signTransaction"},1594:function(e,t,r){var n;!function(){"use strict";var i,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,a=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",l=1e14,d=14,h=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,y=1e9;function g(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(t=e[n++]+"",r=d-t.length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function b(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,u=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==u,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=s.length)?c:u,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==u?0:c>u^r?1:-1}function w(e,t,r,n){if(e<t||e>r||e!==a(e))throw Error(c+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return g(e.e/d)==t&&e.c[t]%2!=0}function E(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function O(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}i=function e(t){var r,n,i,S,_,k,A,I,x,T,B=$.prototype={constructor:$,toString:null,valueOf:null},P=new $(1),j=20,M=4,C=-7,R=21,N=-1e7,L=1e7,D=!1,U=1,z=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function $(e,t){var r,o,c,l,f,p,y,g,m=this;if(!(m instanceof $))return new $(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>L?m.c=m.e=null:e.e<N?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,f=e;f>=10;f/=10,l++);return void(l>L?m.c=m.e=null:(m.e=l,m.c=[e]))}g=String(e)}else{if(!s.test(g=String(e)))return i(m,g,p);m.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(l=g.indexOf("."))>-1&&(g=g.replace(".","")),(f=g.search(/e/i))>0?(l<0&&(l=f),l+=+g.slice(f+1),g=g.substring(0,f)):l<0&&(l=g.length)}else{if(w(t,2,V.length,"Base"),10==t&&H)return G(m=new $(e),j+m.e+1,M);if(g=String(e),p="number"==typeof e){if(0*e!=0)return i(m,g,p,t);if(m.s=1/e<0?(g=g.slice(1),-1):1,$.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(r=V.slice(0,t),l=f=0,y=g.length;f<y;f++)if(r.indexOf(o=g.charAt(f))<0){if("."==o){if(f>l){l=y;continue}}else if(!c&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){c=!0,f=-1,l=0;continue}return i(m,String(e),p,t)}p=!1,(l=(g=n(g,t,10,m.s)).indexOf("."))>-1?g=g.replace(".",""):l=g.length}for(f=0;48===g.charCodeAt(f);f++);for(y=g.length;48===g.charCodeAt(--y););if(g=g.slice(f,++y)){if(y-=f,p&&$.DEBUG&&y>15&&(e>h||e!==a(e)))throw Error(u+m.s*e);if((l=l-f-1)>L)m.c=m.e=null;else if(l<N)m.c=[m.e=0];else{if(m.e=l,m.c=[],f=(l+1)%d,l<0&&(f+=d),f<y){for(f&&m.c.push(+g.slice(0,f)),y-=d;f<y;)m.c.push(+g.slice(f,f+=d));f=d-(g=g.slice(f)).length}else f-=y;for(;f--;g+="0");m.c.push(+g)}}else m.c=[m.e=0]}function W(e,t,r,n){var i,s,o,a,c;if(null==r?r=M:w(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=m(e.c),c=1==n||2==n&&(o<=C||o>=R)?E(c,o):O(c,o,"0");else if(s=(e=G(new $(e),t,r)).e,a=(c=m(e.c)).length,1==n||2==n&&(t<=s||s<=C)){for(;a<t;c+="0",a++);c=E(c,s)}else if(t-=o+(2===n&&s>o),c=O(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function F(e,t){for(var r,n,i=1,s=new $(e[0]);i<e.length;i++)(!(n=new $(e[i])).s||(r=b(s,n))===t||0===r&&s.s===t)&&(s=n);return s}function K(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*d-1)>L?e.c=e.e=null:r<N?e.c=[e.e=0]:(e.e=r,e.c=t),e}function G(e,t,r,n){var i,s,c,u,h,p,y,g=e.c,m=f;if(g){e:{for(i=1,u=g[0];u>=10;u/=10,i++);if((s=t-i)<0)s+=d,c=t,h=g[p=0],y=a(h/m[i-c-1]%10);else if((p=o((s+1)/d))>=g.length){if(!n)break e;for(;g.length<=p;g.push(0));h=y=0,i=1,c=(s%=d)-d+1}else{for(h=u=g[p],i=1;u>=10;u/=10,i++);y=(c=(s%=d)-d+i)<0?0:a(h/m[i-c-1]%10)}if(n=n||t<0||null!=g[p+1]||(c<0?h:h%m[i-c-1]),n=r<4?(y||n)&&(0==r||r==(e.s<0?3:2)):y>5||5==y&&(4==r||n||6==r&&(s>0?c>0?h/m[i-c]:0:g[p-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=m[(d-t%d)%d],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=p,u=1,p--):(g.length=p+1,u=m[d-s],g[p]=c>0?a(h/m[i-c]%m[c])*u:0),n)for(;;){if(0==p){for(s=1,c=g[0];c>=10;c/=10,s++);for(c=g[0]+=u,u=1;c>=10;c/=10,u++);s!=u&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[p]+=u,g[p]!=l)break;g[p--]=0,u=1}for(s=g.length;0===g[--s];g.pop());}e.e>L?e.c=e.e=null:e.e<N&&(e.c=[e.e=0])}return e}function Z(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=C||r>=R?E(t,r):O(t,r,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(w(r=e[t],0,y,t),j=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(w(r=e[t],0,8,t),M=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(w(r[0],-y,0,t),w(r[1],0,y,t),C=r[0],R=r[1]):(w(r,-y,y,t),C=-(R=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)w(r[0],-y,-1,t),w(r[1],1,y,t),N=r[0],L=r[1];else{if(w(r,-y,y,t),!r)throw Error(c+t+" cannot be zero: "+r);N=-(L=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(c+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!r,Error(c+"crypto unavailable");D=r}else D=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(w(r=e[t],0,9,t),U=r),e.hasOwnProperty(t="POW_PRECISION")&&(w(r=e[t],0,y,t),z=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(c+t+" not an object: "+r);q=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+t+" invalid: "+r);H="0123456789"==r.slice(0,10),V=r}}return{DECIMAL_PLACES:j,ROUNDING_MODE:M,EXPONENTIAL_AT:[C,R],RANGE:[N,L],CRYPTO:D,MODULO_MODE:U,POW_PRECISION:z,FORMAT:q,ALPHABET:V}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-y&&i<=y&&i===a(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%d)<1&&(t+=d),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=l||r!==a(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(c+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return F(arguments,-1)},$.minimum=$.min=function(){return F(arguments,1)},$.random=(S=9007199254740992,_=Math.random()*S&2097151?function(){return a(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,s,u=0,l=[],h=new $(P);if(null==e?e=j:w(e,0,y),i=o(e/d),D)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)(s=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(l.push(s%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw D=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(i*=7);u<i;)(s=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(l.push(s%1e14),u+=7);u=i/7}if(!D)for(;u<i;)(s=_())<9e15&&(l[u++]=s%1e14);for(i=l[--u],e%=d,i&&e&&(s=f[d-e],l[u]=a(i/s)*s);0===l[u];l.pop(),u--);if(u<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=d);for(u=1,s=l[0];s>=10;s/=10,u++);u<d&&(n-=d-u)}return h.e=n,h.c=l,h}),$.sum=function(){for(var e=1,t=arguments,r=new $(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var c,u,l,d,h,f,p,y,g=n.indexOf("."),b=j,w=M;for(g>=0&&(d=z,z=0,n=n.replace(".",""),f=(y=new $(i)).pow(n.length-g),z=d,y.c=t(O(m(f.c),f.e,"0"),10,s,e),y.e=y.c.length),l=d=(p=t(n,i,s,a?(c=V,e):(c=e,V))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(g<0?--l:(f.c=p,f.e=l,f.s=o,p=(f=r(f,y,b,w,s)).c,h=f.r,l=f.e),g=p[u=l+b+1],d=s/2,h=h||u<0||null!=p[u+1],h=w<4?(null!=g||h)&&(0==w||w==(f.s<0?3:2)):g>d||g==d&&(4==w||h||6==w&&1&p[u-1]||w==(f.s<0?8:7)),u<1||!p[0])n=h?O(c.charAt(1),-b,c.charAt(0)):c.charAt(0);else{if(p.length=u,h)for(--s;++p[--u]>s;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(g=0,n="";g<=d;n+=c.charAt(p[g++]));n=O(n,l,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,s,o,a=0,c=e.length,u=t%p,l=t/p|0;for(e=e.slice();c--;)a=((i=u*(s=e[c]%p)+(n=l*s+(o=e[c]/p|0)*u)%p*p+a)/r|0)+(n/p|0)+l*o,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,o,c){var u,h,f,p,y,m,b,w,v,E,O,S,_,k,A,I,x,T=n.s==i.s?1:-1,B=n.c,P=i.c;if(!(B&&B[0]&&P&&P[0]))return new $(n.s&&i.s&&(B?!P||B[0]!=P[0]:P)?B&&0==B[0]||!P?0*T:T/0:NaN);for(v=(w=new $(T)).c=[],T=s+(h=n.e-i.e)+1,c||(c=l,h=g(n.e/d)-g(i.e/d),T=T/d|0),f=0;P[f]==(B[f]||0);f++);if(P[f]>(B[f]||0)&&h--,T<0)v.push(1),p=!0;else{for(k=B.length,I=P.length,f=0,T+=2,(y=a(c/(P[0]+1)))>1&&(P=e(P,y,c),B=e(B,y,c),I=P.length,k=B.length),_=I,O=(E=B.slice(0,I)).length;O<I;E[O++]=0);x=P.slice(),x=[0].concat(x),A=P[0],P[1]>=c/2&&A++;do{if(y=0,(u=t(P,E,I,O))<0){if(S=E[0],I!=O&&(S=S*c+(E[1]||0)),(y=a(S/A))>1)for(y>=c&&(y=c-1),b=(m=e(P,y,c)).length,O=E.length;1==t(m,E,b,O);)y--,r(m,I<b?x:P,b,c),b=m.length,u=1;else 0==y&&(u=y=1),b=(m=P.slice()).length;if(b<O&&(m=[0].concat(m)),r(E,m,O,c),O=E.length,-1==u)for(;t(P,E,I,O)<1;)y++,r(E,I<O?x:P,O,c),O=E.length}else 0===u&&(y++,E=[0]);v[f++]=y,E[0]?E[O++]=B[_]||0:(E=[B[_]],O=1)}while((_++<k||null!=E[0])&&T--);p=null!=E[0],v[0]||v.splice(0,1)}if(c==l){for(f=1,T=v[0];T>=10;T/=10,f++);G(w,s+(w.e=f+h*d-1)+1,o,p)}else w.e=h,w.r=+p;return w}}(),k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,I=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,T=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,n){var i,s=r?t:t.replace(T,"");if(x.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(k,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,s=s.replace(A,"$1").replace(I,"0.$1")),t!=s))return new $(s,i);if($.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},B.absoluteValue=B.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},B.comparedTo=function(e,t){return b(this,new $(e,t))},B.decimalPlaces=B.dp=function(e,t){var r,n,i,s=this;if(null!=e)return w(e,0,y),null==t?t=M:w(t,0,8),G(new $(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=((i=r.length-1)-g(this.e/d))*d,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},B.dividedBy=B.div=function(e,t){return r(this,new $(e,t),j,M)},B.dividedToIntegerBy=B.idiv=function(e,t){return r(this,new $(e,t),0,1)},B.exponentiatedBy=B.pow=function(e,t){var r,n,i,s,u,l,h,f,p=this;if((e=new $(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+Z(e));if(null!=t&&(t=new $(t)),u=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new $(Math.pow(+Z(p),u?e.s*(2-v(e)):+Z(e))),t?f.mod(t):f;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(n=!l&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return s=p.s<0&&v(e)?-0:0,p.e>-1&&(s=1/s),new $(l?1/s:s);z&&(s=o(z/d+2))}for(u?(r=new $(.5),l&&(e.s=1),h=v(e)):h=(i=Math.abs(+Z(e)))%2,f=new $(P);;){if(h){if(!(f=f.times(p)).c)break;s?f.c.length>s&&(f.c.length=s):n&&(f=f.mod(t))}if(i){if(0===(i=a(i/2)))break;h=i%2}else if(G(e=e.times(r),e.e+1,1),e.e>14)h=v(e);else{if(0===(i=+Z(e)))break;h=i%2}p=p.times(p),s?p.c&&p.c.length>s&&(p.c.length=s):n&&(p=p.mod(t))}return n?f:(l&&(f=P.div(f)),t?f.mod(t):s?G(f,z,M,void 0):f)},B.integerValue=function(e){var t=new $(this);return null==e?e=M:w(e,0,8),G(t,t.e+1,e)},B.isEqualTo=B.eq=function(e,t){return 0===b(this,new $(e,t))},B.isFinite=function(){return!!this.c},B.isGreaterThan=B.gt=function(e,t){return b(this,new $(e,t))>0},B.isGreaterThanOrEqualTo=B.gte=function(e,t){return 1===(t=b(this,new $(e,t)))||0===t},B.isInteger=function(){return!!this.c&&g(this.e/d)>this.c.length-2},B.isLessThan=B.lt=function(e,t){return b(this,new $(e,t))<0},B.isLessThanOrEqualTo=B.lte=function(e,t){return-1===(t=b(this,new $(e,t)))||0===t},B.isNaN=function(){return!this.s},B.isNegative=function(){return this.s<0},B.isPositive=function(){return this.s>0},B.isZero=function(){return!!this.c&&0==this.c[0]},B.minus=function(e,t){var r,n,i,s,o=this,a=o.s;if(t=(e=new $(e,t)).s,!a||!t)return new $(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/d,u=e.e/d,h=o.c,f=e.c;if(!c||!u){if(!h||!f)return h?(e.s=-t,e):new $(f?o:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new $(h[0]?o:3==M?-0:0)}if(c=g(c),u=g(u),h=h.slice(),a=c-u){for((s=a<0)?(a=-a,i=h):(u=c,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(s=(a=h.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(h[t]!=f[t]){s=h[t]<f[t];break}if(s&&(i=h,h=f,f=i,e.s=-e.s),(t=(n=f.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=l-1;n>a;){if(h[--n]<f[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=l}h[n]-=f[n]}for(;0==h[0];h.splice(0,1),--u);return h[0]?K(e,h,u):(e.s=3==M?-1:1,e.c=[e.e=0],e)},B.modulo=B.mod=function(e,t){var n,i,s=this;return e=new $(e,t),!s.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||s.c&&!s.c[0]?new $(s):(9==U?(i=e.s,e.s=1,n=r(s,e,0,3),e.s=i,n.s*=i):n=r(s,e,0,U),(e=s.minus(n.times(e))).c[0]||1!=U||(e.s=s.s),e)},B.multipliedBy=B.times=function(e,t){var r,n,i,s,o,a,c,u,h,f,y,m,b,w,v,E=this,O=E.c,S=(e=new $(e,t)).c;if(!(O&&S&&O[0]&&S[0]))return!E.s||!e.s||O&&!O[0]&&!S||S&&!S[0]&&!O?e.c=e.e=e.s=null:(e.s*=E.s,O&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=g(E.e/d)+g(e.e/d),e.s*=E.s,(c=O.length)<(f=S.length)&&(b=O,O=S,S=b,i=c,c=f,f=i),i=c+f,b=[];i--;b.push(0));for(w=l,v=p,i=f;--i>=0;){for(r=0,y=S[i]%v,m=S[i]/v|0,s=i+(o=c);s>i;)r=((u=y*(u=O[--o]%v)+(a=m*u+(h=O[o]/v|0)*y)%v*v+b[s]+r)/w|0)+(a/v|0)+m*h,b[s--]=u%w;b[s]=r}return r?++n:b.splice(0,1),K(e,b,n)},B.negated=function(){var e=new $(this);return e.s=-e.s||null,e},B.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new $(e,t)).s,!i||!t)return new $(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/d,o=e.e/d,a=n.c,c=e.c;if(!s||!o){if(!a||!c)return new $(i/0);if(!a[0]||!c[0])return c[0]?e:new $(a[0]?n:0*i)}if(s=g(s),o=g(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/l|0,a[t]=l===a[t]?0:a[t]%l;return i&&(a=[i].concat(a),++o),K(e,a,o)},B.precision=B.sd=function(e,t){var r,n,i,s=this;if(null!=e&&e!==!!e)return w(e,1,y),null==t?t=M:w(t,0,8),G(new $(s),e,t);if(!(r=s.c))return null;if(n=(i=r.length-1)*d+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},B.shiftedBy=function(e){return w(e,-9007199254740991,h),this.times("1e"+e)},B.squareRoot=B.sqrt=function(){var e,t,n,i,s,o=this,a=o.c,c=o.s,u=o.e,l=j+4,d=new $("0.5");if(1!==c||!a||!a[0])return new $(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+Z(o)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=g((u+1)/2)-(u<0||u%2),n=new $(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new $(c+""),n.c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(s=n,n=d.times(s.plus(r(o,s,l,1))),m(s.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(n,n.e+j+2,1),e=!n.times(n).eq(o));break}if(!i&&(G(s,s.e+j+2,0),s.times(s).eq(o))){n=s;break}l+=4,c+=4,i=1}return G(n,n.e+j+1,M,e)},B.toExponential=function(e,t){return null!=e&&(w(e,0,y),e++),W(this,e,t,1)},B.toFixed=function(e,t){return null!=e&&(w(e,0,y),e=e+this.e+1),W(this,e,t)},B.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=q;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var s,o=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",d=o[0],h=o[1],f=i.s<0,p=f?d.slice(1):d,y=p.length;if(u&&(s=a,a=u,u=s,y-=s),a>0&&y>0){for(s=y%a||a,d=p.substr(0,s);s<y;s+=a)d+=l+p.substr(s,a);u>0&&(d+=l+p.slice(s)),f&&(d="-"+d)}n=h?d+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):d}return(r.prefix||"")+n+(r.suffix||"")},B.toFraction=function(e){var t,n,i,s,o,a,u,l,h,p,y,g,b=this,w=b.c;if(null!=e&&(!(u=new $(e)).isInteger()&&(u.c||1!==u.s)||u.lt(P)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Z(u));if(!w)return new $(b);for(t=new $(P),h=n=new $(P),i=l=new $(P),g=m(w),o=t.e=g.length-b.e-1,t.c[0]=f[(a=o%d)<0?d+a:a],e=!e||u.comparedTo(t)>0?o>0?t:h:u,a=L,L=1/0,u=new $(g),l.c[0]=0;p=r(u,t,0,1),1!=(s=n.plus(p.times(i))).comparedTo(e);)n=i,i=s,h=l.plus(p.times(s=h)),l=s,t=u.minus(p.times(s=t)),u=s;return s=r(e.minus(n),i,0,1),l=l.plus(s.times(h)),n=n.plus(s.times(i)),l.s=h.s=b.s,y=r(h,i,o*=2,M).minus(b).abs().comparedTo(r(l,n,o,M).minus(b).abs())<1?[h,i]:[l,n],L=a,y},B.toNumber=function(){return+Z(this)},B.toPrecision=function(e,t){return null!=e&&w(e,1,y),W(this,e,t,2)},B.toString=function(e){var t,r=this,i=r.s,s=r.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=C||s>=R?E(m(r.c),s):O(m(r.c),s,"0"):10===e&&H?t=O(m((r=G(new $(r),j+s+1,M)).c),r.e,"0"):(w(e,2,V.length,"Base"),t=n(O(m(r.c),s,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},B.valueOf=B.toJSON=function(){return Z(this)},B._isBigNumber=!0,null!=t&&$.set(t),$}(),i.default=i.BigNumber=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},1741:(e,t,r)=>{"use strict";var n,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||s(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(d,{fromB58:()=>g,fromBase58:()=>p,toB58:()=>y,toBase58:()=>f}),e.exports=(n=d,l(s({},"__esModule",{value:!0}),n));var h=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)))(r(8957));const f=e=>h.default.encode(e),p=e=>h.default.decode(e),y=f,g=p},1761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._DST_scalar=void 0,t.expand_message_xmd=l,t.expand_message_xof=d,t.hash_to_field=h,t.isogenyMap=function(e,t){const r=t.map(e=>Array.from(e).reverse());return(t,n)=>{const[s,o,a,c]=r.map(r=>r.reduce((r,n)=>e.add(e.mul(r,t),n))),[u,l]=(0,i.FpInvertBatch)(e,[o,c],!0);return t=e.mul(s,u),n=e.mul(n,e.mul(a,l)),{x:t,y:n}}},t.createHasher=function(e,r,n){if("function"!=typeof r)throw new Error("mapToCurve() must be defined");function i(t){return e.fromAffine(r(t))}function s(t){const r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:n,hashToCurve(e,t){const r=h(e,2,Object.assign({},n,t)),o=i(r[0]),a=i(r[1]);return s(o.add(a))},encodeToCurve(e,t){const r=n.encodeDST?{DST:n.encodeDST}:{};return s(i(h(e,1,Object.assign({},n,r,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw new Error("expected array of bigints");for(const t of e)if("bigint"!=typeof t)throw new Error("expected array of bigints");return s(i(e))},hashToScalar(r,i){const s=e.Fn.ORDER;return h(r,1,Object.assign({},n,{p:s,m:1,DST:t._DST_scalar},i))[0][0]}}};const n=r(8627),i=r(4967),s=n.bytesToNumberBE;function o(e,t){if(c(e),c(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e){if(!(0,n.isBytes)(e)&&"string"!=typeof e)throw new Error("DST must be Uint8Array or string");return"string"==typeof e?(0,n.utf8ToBytes)(e):e}function l(e,t,r,i){(0,n.abytes)(e),c(r),(t=u(t)).length>255&&(t=i((0,n.concatBytes)((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:l}=i,d=Math.ceil(r/s);if(r>65535||d>255)throw new Error("expand_message_xmd: invalid lenInBytes");const h=(0,n.concatBytes)(t,o(t.length,1)),f=o(0,l),p=o(r,2),y=new Array(d),g=i((0,n.concatBytes)(f,e,p,o(0,1),h));y[0]=i((0,n.concatBytes)(g,o(1,1),h));for(let e=1;e<=d;e++){const t=[a(g,y[e-1]),o(e+1,1),h];y[e]=i((0,n.concatBytes)(...t))}return(0,n.concatBytes)(...y).slice(0,r)}function d(e,t,r,i,s){if((0,n.abytes)(e),c(r),(t=u(t)).length>255){const e=Math.ceil(2*i/8);t=s.create({dkLen:e}).update((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(o(r,2)).update(t).update(o(t.length,1)).digest()}function h(e,t,r){(0,n._validateObject)(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:o,k:a,m:u,hash:h,expand:f,DST:p}=r;if(!(0,n.isHash)(r.hash))throw new Error("expected valid hash");(0,n.abytes)(e),c(t);const y=o.toString(2).length,g=Math.ceil((y+a)/8),m=t*u*g;let b;if("xmd"===f)b=l(e,p,m,h);else if("xof"===f)b=d(e,p,m,a,h);else{if("_internal_pass"!==f)throw new Error('expand must be "xmd" or "xof"');b=e}const w=new Array(t);for(let e=0;e<t;e++){const t=new Array(u);for(let r=0;r<u;r++){const n=g*(r+e*u),a=b.subarray(n,n+g);t[r]=(0,i.mod)(s(a),o)}w[e]=t}return w}t._DST_scalar=(0,n.utf8ToBytes)("HashToScalar-")},1783:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.suiAPIs=void 0;const s=r(7114),o=r(8823);t.suiAPIs={on:(e,t)=>i(void 0,void 0,void 0,function*(){console.log(e,t)}),off:(e,t)=>i(void 0,void 0,void 0,function*(){console.log(e,t)}),getAccounts:()=>i(void 0,void 0,void 0,function*(){return[(yield(0,s.request)({method:"sui_getAccount",params:void 0})).address]}),getPublicKey:()=>i(void 0,void 0,void 0,function*(){return(yield(0,s.request)({method:"sui_getAccount",params:void 0})).publicKey}),getChain:()=>i(void 0,void 0,void 0,function*(){return yield(0,s.request)({method:"sui_getChain"})}),signTransactionBlock:e=>(0,s.request)({method:"sui_signTransactionBlock",params:{transactionBlockSerialized:e.transactionBlock.serialize()}}),signTransaction:e=>i(void 0,void 0,void 0,function*(){const t={transactionBlockSerialized:yield e.transaction.toJSON(),signal:e.signal},r=yield(0,s.request)({method:"sui_signTransaction",params:t});return{bytes:r.transactionBlockBytes,signature:r.signature}}),signAndExecuteTransactionBlock:e=>(0,s.request)({method:"sui_signAndExecuteTransactionBlock",params:{transactionBlockSerialized:e.transactionBlock.serialize(),options:e.options,requestType:e.requestType}}),signAndExecuteTransaction:e=>i(void 0,void 0,void 0,function*(){const t={transactionBlockSerialized:yield e.transaction.toJSON(),signal:e.signal,options:{showRawEffects:!0,showRawInput:!0}},r=yield(0,s.request)({method:"sui_signAndExecuteTransaction",params:t}),[{txSignatures:[i],intentMessage:{value:a}}]=o.bcs.SenderSignedData.parse(n.from(r.rawTransaction,"base64")),c=o.bcs.TransactionData.serialize(a).toBase64();return{digest:r.digest,effects:n.from(new Uint8Array(r.rawEffects)).toString("base64"),bytes:c,signature:i}}),signMessage:({message:e,account:t})=>(0,s.request)({method:"sui_signMessage",params:{message:n.from(e).toString("base64"),accountAddress:null==t?void 0:t.address}}),signPersonalMessage:({message:e,account:t})=>i(void 0,void 0,void 0,function*(){const r=yield(0,s.request)({method:"sui_signPersonalMessage",params:{message:n.from(e).toString("base64"),accountAddress:null==t?void 0:t.address}});return{bytes:r.messageBytes,signature:r.signature}})}},1823:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{coinWithBalance:()=>m}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9415),l=r(2175),d=r(4279),h=r(6456),f=r(5975),p=r(4489);const y="CoinWithBalance",g=(0,d.normalizeStructTag)("0x2::iota::IOTA");function m({type:e=g,balance:t,useGasCoin:r=!0}){return n=>{n.addIntentResolver(y,w);const i="gas"===e?e:(0,d.normalizeStructTag)(e);return n.add(h.Commands.Intent({name:y,inputs:{},data:{type:i===g&&r?"gas":i,balance:BigInt(t)}}))}}const b=(0,u.object)({type:(0,u.string)(),balance:(0,u.bigint)()});async function w(e,t,r){const n=new Set,i=new Map;if(!e.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const t of e.commands)if("$Intent"===t.$kind&&t.$Intent.name===y){const{type:e,balance:r}=(0,u.parse)(b,t.$Intent.data);"gas"!==e&&r>0n&&n.add(e),i.set(e,(i.get(e)??0n)+r)}const s=new Set;for(const t of e.inputs)t.Object?.ImmOrOwnedObject&&s.add(t.Object.ImmOrOwnedObject.objectId),t.UnresolvedObject?.objectId&&s.add(t.UnresolvedObject.objectId);const o=new Map,a=(0,p.getClient)(t);await Promise.all([...n].map(async t=>{o.set(t,await async function({coinType:e,balance:t,client:r,owner:n,usedIds:i}){let s=t;const o=[];return async function t(a=null){const{data:c,hasNextPage:u,nextCursor:l}=await r.getCoins({owner:n,coinType:e,cursor:a}),d=c.sort((e,t)=>Number(BigInt(t.balance)-BigInt(e.balance)));for(const e of d){if(i.has(e.coinObjectId))continue;const t=BigInt(e.balance);if(o.push(e),s-=t,s<=0)return o}if(u)return t(l);throw new Error(`Not enough coins of type ${e} to satisfy requested balance`)}()}({coinType:t,balance:i.get(t),client:a,owner:e.sender,usedIds:s}))}));const c=new Map;c.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[t,r]of e.commands.entries()){if("$Intent"!==r.$kind||r.$Intent.name!==y)continue;const{type:n,balance:i}=r.$Intent.data;if(0n===i){e.replaceCommand(t,h.Commands.MoveCall({target:"0x2::coin::zero",typeArguments:[n]}));continue}const s=[];if(!c.has(n)){const[t,...r]=o.get(n).map(t=>e.addInput("object",f.Inputs.ObjectRef({objectId:t.coinObjectId,digest:t.digest,version:t.version})));r.length>0&&s.push(h.Commands.MergeCoins(t,r)),c.set(n,t)}s.push(h.Commands.SplitCoins(c.get(n),[e.addInput("pure",f.Inputs.Pure(l.bcs.u64().serialize(i)))])),e.replaceCommand(t,s),e.mapArguments(e=>"Result"===e.$kind&&e.Result===t?{$kind:"NestedResult",NestedResult:[t+s.length-1,0]}:e)}return r()}},1875:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f=(e,t,r)=>(u(e,t,"access private method"),r),p={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(p,{DEFAULT_CLIENT_OPTIONS:()=>k,WebsocketClient:()=>A}),e.exports=(n=p,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var y,g,m,b,w,v,E,O,S,_=r(9423);const k={WebSocketConstructor:"undefined"!=typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class A{constructor(e,t={}){if(d(this,E),d(this,y,0),d(this,g,0),d(this,m,null),d(this,b,null),d(this,w,new Set),d(this,v,new Map),this.endpoint=e,this.options={...k,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){const r=await f(this,E,O).call(this);return new Promise((n,i)=>{h(this,y,l(this,y)+1),l(this,v).set(l(this,y),{resolve:n,reject:i,timeout:setTimeout(()=>{l(this,v).delete(l(this,y)),i(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:l(this,y),method:e,params:t}))}).then(({error:e,result:t})=>{if(e)throw new _.JsonRpcError(e.message,e.code);return t})}async subscribe(e){const t=new I(e);return l(this,w).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}y=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,v=new WeakMap,E=new WeakSet,O=function(){return l(this,b)||h(this,b,new Promise(e=>{l(this,m)?.close(),h(this,m,new this.options.WebSocketConstructor(this.endpoint)),l(this,m).addEventListener("open",()=>{h(this,g,0),e(l(this,m))}),l(this,m).addEventListener("close",()=>{var e,t;(e=this,t=g,{set _(r){h(e,t,r,undefined)},get _(){return l(e,t,undefined)}})._++,l(this,g)<=this.options.maxReconnects&&setTimeout(()=>{f(this,E,S).call(this)},this.options.reconnectTimeout)}),l(this,m).addEventListener("message",({data:e})=>{let t;try{t=JSON.parse(e)}catch(t){return void console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:t}))}if("id"in t&&null!=t.id&&l(this,v).has(t.id)){const{resolve:e,timeout:r}=l(this,v).get(t.id);clearTimeout(r),e(t)}else if("params"in t){const{params:e}=t;l(this,w).forEach(t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)})}})})),l(this,b)},S=async function(){return l(this,m)?.close(),h(this,b,null),Promise.allSettled([...l(this,w)].map(e=>e.subscribe(this)))};class I{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}},1877:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{CachingTransactionExecutor:()=>w}),e.exports=(n=f,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,g=r(2175),m=r(4455),b=r(7568);class w{constructor({client:e,...t}){d(this,p),d(this,y,null),h(this,p,e),this.cache=new m.ObjectCache(t)}async reset(){await Promise.all([this.cache.clearOwnedObjects(),this.cache.clearCustom(),this.waitForLastTransaction()])}async buildTransaction({transaction:e,...t}){return e.addBuildPlugin(this.cache.asPlugin()),e.build({client:l(this,p),...t})}async executeTransaction({transaction:e,options:t,...r}){const n=(0,b.isTransaction)(e)?await this.buildTransaction({transaction:e}):e,i=await l(this,p).executeTransactionBlock({...r,transactionBlock:n,options:{...t,showRawEffects:!0}});if(i.rawEffects){const e=g.bcs.TransactionEffects.parse(Uint8Array.from(i.rawEffects));await this.applyEffects(e)}return i}async signAndExecuteTransaction({options:e,transaction:t,...r}){t.setSenderIfNotSet(r.signer.toIotaAddress());const n=await this.buildTransaction({transaction:t}),{signature:i}=await r.signer.signTransaction(n);return await this.executeTransaction({transaction:n,signature:i,options:e})}async applyEffects(e){h(this,y,e.V1?.transactionDigest??null),await this.cache.applyEffects(e)}async waitForLastTransaction(){l(this,y)&&(await l(this,p).waitForTransaction({digest:l(this,y)}),h(this,y,null))}}p=new WeakMap,y=new WeakMap},1895:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TypeTagSerializer:()=>f}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(4279);const d=/^vector<(.+)>$/,h=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class f{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(d);if(r)return{vector:f.parseFromStr(r[1],t)};const n=e.match(h);if(n)return{struct:{address:t?(0,l.normalizeIotaAddress)(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:f.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return(0,u.splitGenericParameters)(e).map(e=>f.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${f.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(f.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}},1910:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4065),t),i(r(6197),t),i(r(4926),t),i(r(5442),t)},1963:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmostationIotaWallet=void 0;const s=r(5590),o=r(4361),{on:a,getAccounts:c,getPublicKey:u,getChain:l,signTransaction:d,signAndExecuteTransaction:h,signPersonalMessage:f}=o.iotaAPIs;t.CosmostationIotaWallet=class{constructor(){this.name=s.COSMOSTATION_WALLET_NAME,this.chains=[],this.features={},this.accounts=[],this.version="1.0.0",this.icon=s.COSMOSTATION_ENCODED_LOGO_IMAGE,this.chains=["iota:mainnet"],this.features={"standard:connect":{version:"1.0.0",connect:()=>i(this,void 0,void 0,function*(){try{const e=yield c(),t=yield u(),r=yield l();if(e.length>0&&t&&r)return this.accounts=[{address:e[0],publicKey:new Uint8Array(n.from(t.substring(2),"hex")),chains:[`iota:${r}`],features:["iota:signTransaction","iota:signPersonalMessage","iota:signAndExecuteTransaction"]}],{accounts:this.accounts}}catch(e){return{accounts:[]}}})},"standard:events":{version:"1.0.0",on:a},"iota:signTransaction":{version:"2.0.0",signTransaction:d},"iota:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:h},"iota:signPersonalMessage":{version:"2.0.0",signPersonalMessage:f}},(()=>{i(this,void 0,void 0,function*(){try{const e=yield c(),t=yield u(),r=yield l();e.length>0&&t&&r&&(this.accounts=[{address:e[0],publicKey:new Uint8Array(n.from(t.substring(2),"hex")),chains:[`iota:${r}`],features:["iota:signTransaction","iota:signPersonalMessage","iota:signAndExecuteTransaction"]}])}catch(e){}})})()}}},1989:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TransactionEffects:()=>I}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9113),l=r(3871);const d=u.bcs.enum("PackageUpgradeError",{UnableToFetchPackage:u.bcs.struct("UnableToFetchPackage",{packageId:l.Address}),NotAPackage:u.bcs.struct("NotAPackage",{objectId:l.Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:u.bcs.struct("DigestDoesNotMatch",{digest:u.bcs.vector(u.bcs.u8())}),UnknownUpgradePolicy:u.bcs.struct("UnknownUpgradePolicy",{policy:u.bcs.u8()}),PackageIDDoesNotMatch:u.bcs.struct("PackageIDDoesNotMatch",{packageId:l.Address,ticketId:l.Address})}),h=u.bcs.struct("ModuleId",{address:l.Address,name:u.bcs.string()}),f=u.bcs.struct("MoveLocation",{module:h,function:u.bcs.u16(),instruction:u.bcs.u16(),functionName:u.bcs.option(u.bcs.string())}),p=u.bcs.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:u.bcs.struct("IndexOutOfBounds",{idx:u.bcs.u16()}),SecondaryIndexOutOfBounds:u.bcs.struct("SecondaryIndexOutOfBounds",{resultIdx:u.bcs.u16(),secondaryIdx:u.bcs.u16()}),InvalidResultArity:u.bcs.struct("InvalidResultArity",{resultIdx:u.bcs.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),y=u.bcs.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),g=u.bcs.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:u.bcs.struct("MoveObjectTooBig",{objectSize:u.bcs.u64(),maxObjectSize:u.bcs.u64()}),MovePackageTooBig:u.bcs.struct("MovePackageTooBig",{objectSize:u.bcs.u64(),maxObjectSize:u.bcs.u64()}),CircularObjectOwnership:u.bcs.struct("CircularObjectOwnership",{object:l.Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:u.bcs.option(f),MoveAbort:u.bcs.tuple([f,u.bcs.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:u.bcs.struct("CommandArgumentError",{argIdx:u.bcs.u16(),kind:p}),TypeArgumentError:u.bcs.struct("TypeArgumentError",{argumentIdx:u.bcs.u16(),kind:y}),UnusedValueWithoutDrop:u.bcs.struct("UnusedValueWithoutDrop",{resultIdx:u.bcs.u16(),secondaryIdx:u.bcs.u16()}),InvalidPublicFunctionReturnType:u.bcs.struct("InvalidPublicFunctionReturnType",{idx:u.bcs.u16()}),InvalidTransferObject:null,EffectsTooLarge:u.bcs.struct("EffectsTooLarge",{currentSize:u.bcs.u64(),maxSize:u.bcs.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:u.bcs.struct("PackageUpgradeError",{upgradeError:d}),WrittenObjectsTooLarge:u.bcs.struct("WrittenObjectsTooLarge",{currentSize:u.bcs.u64(),maxSize:u.bcs.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:u.bcs.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:u.bcs.vector(l.Address)}),AddressDeniedForCoin:u.bcs.struct("AddressDeniedForCoin",{address:l.Address,coinType:u.bcs.string()}),CoinTypeGlobalPause:u.bcs.struct("CoinTypeGlobalPause",{coinType:u.bcs.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),m=u.bcs.enum("ExecutionStatus",{Success:null,Failed:u.bcs.struct("ExecutionFailed",{error:g,command:u.bcs.option(u.bcs.u64())})}),b=u.bcs.struct("GasCostSummary",{computationCost:u.bcs.u64(),storageCost:u.bcs.u64(),storageRebate:u.bcs.u64(),nonRefundableStorageFee:u.bcs.u64()}),w=u.bcs.struct("TransactionEffectsV1",{status:m,executedEpoch:u.bcs.u64(),gasUsed:b,modifiedAtVersions:u.bcs.vector(u.bcs.tuple([l.Address,u.bcs.u64()])),sharedObjects:u.bcs.vector(l.SuiObjectRef),transactionDigest:l.ObjectDigest,created:u.bcs.vector(u.bcs.tuple([l.SuiObjectRef,l.Owner])),mutated:u.bcs.vector(u.bcs.tuple([l.SuiObjectRef,l.Owner])),unwrapped:u.bcs.vector(u.bcs.tuple([l.SuiObjectRef,l.Owner])),deleted:u.bcs.vector(l.SuiObjectRef),unwrappedThenDeleted:u.bcs.vector(l.SuiObjectRef),wrapped:u.bcs.vector(l.SuiObjectRef),gasObject:u.bcs.tuple([l.SuiObjectRef,l.Owner]),eventsDigest:u.bcs.option(l.ObjectDigest),dependencies:u.bcs.vector(l.ObjectDigest)}),v=u.bcs.tuple([u.bcs.u64(),l.ObjectDigest]),E=u.bcs.enum("ObjectIn",{NotExist:null,Exist:u.bcs.tuple([v,l.Owner])}),O=u.bcs.enum("ObjectOut",{NotExist:null,ObjectWrite:u.bcs.tuple([l.ObjectDigest,l.Owner]),PackageWrite:v}),S=u.bcs.enum("IDOperation",{None:null,Created:null,Deleted:null}),_=u.bcs.struct("EffectsObjectChange",{inputState:E,outputState:O,idOperation:S}),k=u.bcs.enum("UnchangedSharedKind",{ReadOnlyRoot:v,MutateDeleted:u.bcs.u64(),ReadDeleted:u.bcs.u64(),Cancelled:u.bcs.u64(),PerEpochConfig:null}),A=u.bcs.struct("TransactionEffectsV2",{status:m,executedEpoch:u.bcs.u64(),gasUsed:b,transactionDigest:l.ObjectDigest,gasObjectIndex:u.bcs.option(u.bcs.u32()),eventsDigest:u.bcs.option(l.ObjectDigest),dependencies:u.bcs.vector(l.ObjectDigest),lamportVersion:u.bcs.u64(),changedObjects:u.bcs.vector(u.bcs.tuple([l.Address,_])),unchangedSharedObjects:u.bcs.vector(u.bcs.tuple([l.Address,k])),auxDataDigest:u.bcs.option(l.ObjectDigest)}),I=u.bcs.enum("TransactionEffects",{V1:w,V2:A})},2016:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{NormalizedCallArg:()=>y,ObjectRef:()=>f,SerializedTransactionDataV1:()=>P,StructTag:()=>v,TransactionArgument:()=>S,TypeTag:()=>w,serializeV1TransactionData:()=>j,transactionDataFromV1:()=>C}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(9415),d=r(2175),h=r(7784);const f=(0,l.object)({digest:(0,l.string)(),objectId:(0,l.string)(),version:(0,l.union)([(0,l.pipe)((0,l.number)(),(0,l.integer)()),(0,l.string)(),(0,l.bigint)()])}),p=(0,h.safeEnum)({ImmOrOwned:f,Shared:(0,l.object)({objectId:h.ObjectID,initialSharedVersion:h.JsonU64,mutable:(0,l.boolean)()}),Receiving:f}),y=(0,h.safeEnum)({Object:p,Pure:(0,l.array)((0,l.pipe)((0,l.number)(),(0,l.integer)()))}),g=(0,l.union)([(0,l.object)({kind:(0,l.literal)("Input"),index:(0,l.pipe)((0,l.number)(),(0,l.integer)()),value:(0,l.unknown)(),type:(0,l.optional)((0,l.literal)("object"))}),(0,l.object)({kind:(0,l.literal)("Input"),index:(0,l.pipe)((0,l.number)(),(0,l.integer)()),value:(0,l.unknown)(),type:(0,l.literal)("pure")})]),m=(0,l.union)([(0,l.object)({Epoch:(0,l.pipe)((0,l.number)(),(0,l.integer)())}),(0,l.object)({None:(0,l.nullable)((0,l.literal)(!0))})]),b=(0,l.pipe)((0,l.union)([(0,l.number)(),(0,l.string)(),(0,l.bigint)()]),(0,l.check)(e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}})),w=(0,l.union)([(0,l.object)({bool:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({u8:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({u64:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({u128:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({address:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({signer:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({vector:(0,l.lazy)(()=>w)}),(0,l.object)({struct:(0,l.lazy)(()=>v)}),(0,l.object)({u16:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({u32:(0,l.nullable)((0,l.literal)(!0))}),(0,l.object)({u256:(0,l.nullable)((0,l.literal)(!0))})]),v=(0,l.object)({address:(0,l.string)(),module:(0,l.string)(),name:(0,l.string)(),typeParams:(0,l.array)(w)}),E=(0,l.object)({budget:(0,l.optional)(b),price:(0,l.optional)(b),payment:(0,l.optional)((0,l.array)(f)),owner:(0,l.optional)((0,l.string)())}),O=[g,(0,l.object)({kind:(0,l.literal)("GasCoin")}),(0,l.object)({kind:(0,l.literal)("Result"),index:(0,l.pipe)((0,l.number)(),(0,l.integer)())}),(0,l.object)({kind:(0,l.literal)("NestedResult"),index:(0,l.pipe)((0,l.number)(),(0,l.integer)()),resultIndex:(0,l.pipe)((0,l.number)(),(0,l.integer)())})],S=(0,l.union)([...O]),_=(0,l.object)({kind:(0,l.literal)("MoveCall"),target:(0,l.pipe)((0,l.string)(),(0,l.check)(e=>3===e.split("::").length)),typeArguments:(0,l.array)((0,l.string)()),arguments:(0,l.array)(S)}),k=(0,l.object)({kind:(0,l.literal)("TransferObjects"),objects:(0,l.array)(S),address:S}),A=(0,l.object)({kind:(0,l.literal)("SplitCoins"),coin:S,amounts:(0,l.array)(S)}),I=(0,l.object)({kind:(0,l.literal)("MergeCoins"),destination:S,sources:(0,l.array)(S)}),x=(0,l.object)({kind:(0,l.literal)("MakeMoveVec"),type:(0,l.union)([(0,l.object)({Some:w}),(0,l.object)({None:(0,l.nullable)((0,l.literal)(!0))})]),objects:(0,l.array)(S)}),T=[_,k,A,I,(0,l.object)({kind:(0,l.literal)("Publish"),modules:(0,l.array)((0,l.array)((0,l.pipe)((0,l.number)(),(0,l.integer)()))),dependencies:(0,l.array)((0,l.string)())}),(0,l.object)({kind:(0,l.literal)("Upgrade"),modules:(0,l.array)((0,l.array)((0,l.pipe)((0,l.number)(),(0,l.integer)()))),dependencies:(0,l.array)((0,l.string)()),packageId:(0,l.string)(),ticket:S}),x],B=(0,l.union)([...T]),P=(0,l.object)({version:(0,l.literal)(1),sender:(0,l.optional)((0,l.string)()),expiration:(0,l.nullish)(m),gasConfig:E,inputs:(0,l.array)(g),transactions:(0,l.array)(B)});function j(e){const t=e.inputs.map((e,t)=>{if(e.Object)return{kind:"Input",index:t,value:{Object:e.Object.ImmOrOwnedObject?{ImmOrOwned:e.Object.ImmOrOwnedObject}:e.Object.Receiving?{Receiving:{digest:e.Object.Receiving.digest,version:e.Object.Receiving.version,objectId:e.Object.Receiving.objectId}}:{Shared:{mutable:e.Object.SharedObject.mutable,initialSharedVersion:e.Object.SharedObject.initialSharedVersion,objectId:e.Object.SharedObject.objectId}}},type:"object"};if(e.Pure)return{kind:"Input",index:t,value:{Pure:Array.from((0,u.fromBase64)(e.Pure.bytes))},type:"pure"};if(e.UnresolvedPure)return{kind:"Input",type:"pure",index:t,value:e.UnresolvedPure.value};if(e.UnresolvedObject)return{kind:"Input",type:"object",index:t,value:e.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:e.sender??void 0,expiration:"Epoch"===e.expiration?.$kind?{Epoch:Number(e.expiration.Epoch)}:e.expiration?{None:!0}:null,gasConfig:{owner:e.gasData.owner??void 0,budget:e.gasData.budget??void 0,price:e.gasData.price??void 0,payment:e.gasData.payment??void 0},inputs:t,transactions:e.commands.map(e=>{if(e.MakeMoveVec)return{kind:"MakeMoveVec",type:null===e.MakeMoveVec.type?{None:!0}:{Some:d.TypeTagSerializer.parseFromStr(e.MakeMoveVec.type)},objects:e.MakeMoveVec.elements.map(e=>M(e,t))};if(e.MergeCoins)return{kind:"MergeCoins",destination:M(e.MergeCoins.destination,t),sources:e.MergeCoins.sources.map(e=>M(e,t))};if(e.MoveCall)return{kind:"MoveCall",target:`${e.MoveCall.package}::${e.MoveCall.module}::${e.MoveCall.function}`,typeArguments:e.MoveCall.typeArguments,arguments:e.MoveCall.arguments.map(e=>M(e,t))};if(e.Publish)return{kind:"Publish",modules:e.Publish.modules.map(e=>Array.from((0,u.fromBase64)(e))),dependencies:e.Publish.dependencies};if(e.SplitCoins)return{kind:"SplitCoins",coin:M(e.SplitCoins.coin,t),amounts:e.SplitCoins.amounts.map(e=>M(e,t))};if(e.TransferObjects)return{kind:"TransferObjects",objects:e.TransferObjects.objects.map(e=>M(e,t)),address:M(e.TransferObjects.address,t)};if(e.Upgrade)return{kind:"Upgrade",modules:e.Upgrade.modules.map(e=>Array.from((0,u.fromBase64)(e))),dependencies:e.Upgrade.dependencies,packageId:e.Upgrade.package,ticket:M(e.Upgrade.ticket,t)};throw new Error(`Unknown transaction ${Object.keys(e)}`)})}}function M(e,t){if("GasCoin"===e.$kind)return{kind:"GasCoin"};if("Result"===e.$kind)return{kind:"Result",index:e.Result};if("NestedResult"===e.$kind)return{kind:"NestedResult",index:e.NestedResult[0],resultIndex:e.NestedResult[1]};if("Input"===e.$kind)return t[e.Input];throw new Error(`Invalid argument ${Object.keys(e)}`)}function C(e){return(0,l.parse)(h.TransactionData,{version:2,sender:e.sender??null,expiration:e.expiration?"Epoch"in e.expiration?{Epoch:e.expiration.Epoch}:{None:!0}:null,gasData:{owner:e.gasConfig.owner??null,budget:e.gasConfig.budget?.toString()??null,price:e.gasConfig.price?.toString()??null,payment:e.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:e.inputs.map(e=>{if("Input"===e.kind){if((0,l.is)(y,e.value)){const t=(0,l.parse)(y,e.value);if(t.Object){if(t.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:t.Object.ImmOrOwned.objectId,version:String(t.Object.ImmOrOwned.version),digest:t.Object.ImmOrOwned.digest}}};if(t.Object.Shared)return{Object:{SharedObject:{mutable:t.Object.Shared.mutable??null,initialSharedVersion:t.Object.Shared.initialSharedVersion,objectId:t.Object.Shared.objectId}}};if(t.Object.Receiving)return{Object:{Receiving:{digest:t.Object.Receiving.digest,version:String(t.Object.Receiving.version),objectId:t.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:(0,u.toBase64)(new Uint8Array(t.Pure))}}}return"object"===e.type?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:e.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?d.TypeTagSerializer.tagToString(e.type.Some):null,elements:e.objects.map(e=>R(e))}};case"MergeCoins":return{MergeCoins:{destination:R(e.destination),sources:e.sources.map(e=>R(e))}};case"MoveCall":{const[t,r,n]=e.target.split("::");return{MoveCall:{package:t,module:r,function:n,typeArguments:e.typeArguments,arguments:e.arguments.map(e=>R(e))}}}case"Publish":return{Publish:{modules:e.modules.map(e=>(0,u.toBase64)(Uint8Array.from(e))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:R(e.coin),amounts:e.amounts.map(e=>R(e))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(e=>R(e)),address:R(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(e=>(0,u.toBase64)(Uint8Array.from(e))),dependencies:e.dependencies,package:e.packageId,ticket:R(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}function R(e){switch(e.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:e.index};case"NestedResult":return{NestedResult:[e.index,e.resultIndex]};case"Input":return{Input:e.index}}}},2132:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},2158:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8940),t),i(r(844),t),i(r(1110),t)},2175:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsType:()=>f.BcsType,TypeTagSerializer:()=>h.TypeTagSerializer,bcs:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(6599),d=r(8733),h=r(1895),f=r(2310);const p={...u.bcs,U8:u.bcs.u8(),U16:u.bcs.u16(),U32:u.bcs.u32(),U64:u.bcs.u64(),U128:u.bcs.u128(),U256:u.bcs.u256(),ULEB128:u.bcs.uleb128(),Bool:u.bcs.bool(),String:u.bcs.string(),Address:l.Address,AppId:l.AppId,Argument:l.Argument,CallArg:l.CallArg,CompressedSignature:l.CompressedSignature,GasData:l.GasData,Intent:l.Intent,IntentMessage:l.IntentMessage,IntentScope:l.IntentScope,IntentVersion:l.IntentVersion,MultiSig:l.MultiSig,MultiSigPkMap:l.MultiSigPkMap,MultiSigPublicKey:l.MultiSigPublicKey,ObjectArg:l.ObjectArg,ObjectDigest:l.ObjectDigest,Owner:l.Owner,ProgrammableMoveCall:l.ProgrammableMoveCall,ProgrammableTransaction:l.ProgrammableTransaction,PublicKey:l.PublicKey,SenderSignedData:l.SenderSignedData,SenderSignedTransaction:l.SenderSignedTransaction,SharedObjectRef:l.SharedObjectRef,StructTag:l.StructTag,IotaObjectRef:l.IotaObjectRef,Command:l.Command,TransactionData:l.TransactionData,TransactionDataV1:l.TransactionDataV1,TransactionExpiration:l.TransactionExpiration,TransactionKind:l.TransactionKind,TypeTag:l.TypeTag,TransactionEffects:d.TransactionEffects,PasskeyAuthenticator:l.PasskeyAuthenticator}},2284:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{IotaHTTPTransport:()=>O}),e.exports=(n=f,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,g,m,b,w=r(1380),v=r(9423),E=r(1875);class O{constructor(e){d(this,m),d(this,p,0),d(this,y),d(this,g),h(this,y,e)}fetch(e,t){const r=l(this,y).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for IotaHTTPTransport.");return r(e,t)}async request(e){h(this,p,l(this,p)+1);const t=await this.fetch(l(this,y).rpc?.url??l(this,y).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":w.PACKAGE_VERSION,"Client-Target-Api-Version":w.TARGETED_RPC_VERSION,...l(this,y).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:l(this,p),method:e.method,params:e.params})});if(!t.ok)throw new v.IotaHTTPStatusError(`Unexpected status code: ${t.status}`,t.status,t.statusText);const r=await t.json();if("error"in r&&null!=r.error)throw new v.JsonRpcError(r.error.message,r.error.code);return r.result}async subscribe(e){const t=await(r=m,n=b,u(this,r,"access private method"),n).call(this).subscribe(e);var r,n;return async()=>!!await t()}}p=new WeakMap,y=new WeakMap,g=new WeakMap,m=new WeakSet,b=function(){if(!l(this,g)){const e=l(this,y).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for IotaHTTPTransport.");h(this,g,new E.WebsocketClient(l(this,y).websocket?.url??l(this,y).url,{WebSocketConstructor:e,...l(this,y).websocket}))}return l(this,g)}},2310:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsReader:()=>p.BcsReader,BcsType:()=>d.BcsType,BcsWriter:()=>g.BcsWriter,SerializedBcs:()=>d.SerializedBcs,bcs:()=>h.bcs,decodeStr:()=>y.decodeStr,encodeStr:()=>y.encodeStr,fromB58:()=>u.fromB58,fromB64:()=>l.fromB64,fromBase58:()=>u.fromBase58,fromBase64:()=>l.fromBase64,fromHEX:()=>f.fromHEX,fromHex:()=>f.fromHex,isSerializedBcs:()=>d.isSerializedBcs,splitGenericParameters:()=>y.splitGenericParameters,toB58:()=>u.toB58,toB64:()=>l.toB64,toBase58:()=>u.toBase58,toBase64:()=>l.toBase64,toHEX:()=>f.toHEX,toHex:()=>f.toHex}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(1741),l=r(2750),d=r(6252),h=r(3574),f=r(3431),p=r(9511),y=r(7879),g=r(343)},2318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=w,t.fromBig=i,t.split=s;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){const r=e.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){const{h:r,l:a}=i(e[o],t);[n[o],s[o]]=[r,a]}return[n,s]}const o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;const m=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=m;const b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.rotlBL=b;const v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=v;const E=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=E;const O=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=O;const S=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;t.add4H=S;const _=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=_;const k=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;t.add5H=k;const A={fromBig:i,split:s,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:m,rotlBL:b,add:w,add3L:v,add3H:E,add4L:O,add4H:S,add5H:k,add5L:_};t.default=A},2413:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.request=t.executeRequest=void 0;const s=r(1193),o=r(5169),a=r(6619),c=r(4686),u=r(5104);t.executeRequest=e=>new Promise((t,r)=>{const n=(0,u.uuidv4)(),i=e=>{var s,o,a;if((null===(s=e.data)||void 0===s?void 0:s.isCosmostation)&&(null===(o=e.data)||void 0===o?void 0:o.messageId)===n){window.removeEventListener("message",i);const{data:n}=e;(null===(a=n.response)||void 0===a?void 0:a.error)?r(n.response.error):t(n.response.result)}};window.addEventListener("message",i),(0,a.sendMessageWebToApp)(e,n)}),t.request=e=>i(void 0,void 0,void 0,function*(){var r,a,u,l;if("cos_requestAccount"===e.method||"cos_account"===e.method||"ten_requestAccount"===e.method||"ten_account"===e.method){const r=yield(0,t.executeRequest)(e),{publicKey:n}=r;return Object.assign(Object.assign({},r),{publicKey:(0,c.hexToBytes)(n)})}if("cos_requestAccounts"===e.method){const n=yield(0,t.executeRequest)({method:"cos_supportedChainIds",params:void 0});if(!(null===(a=null===(r=e.params)||void 0===r?void 0:r.chainIds)||void 0===a?void 0:a.every(e=>{var t,r;return(null===(t=null==n?void 0:n.official)||void 0===t?void 0:t.includes(e))||(null===(r=null==n?void 0:n.unofficial)||void 0===r?void 0:r.includes(e))})))throw new o.CosmosRPCError(s.RPC_ERROR.INVALID_PARAMS,s.RPC_ERROR_MESSAGE[s.RPC_ERROR.INVALID_PARAMS]);const d=Object.assign(Object.assign({},e),{method:"cos_requestAccount",params:{chainName:null===(l=null===(u=e.params)||void 0===u?void 0:u.chainIds)||void 0===l?void 0:l[0]}});return yield(0,t.executeRequest)(d),(yield Promise.all(e.params.chainIds.map(e=>i(void 0,void 0,void 0,function*(){return yield(0,t.executeRequest)({method:"cos_requestAccount",params:{chainName:e}})})))).map(e=>{const{publicKey:t}=e;return Object.assign(Object.assign({},e),{publicKey:(0,c.hexToBytes)(t)})})}if("cos_signDirect"===e.method||"ten_signDirect"===e.method){const{params:r}=e,n=null==r?void 0:r.doc,i=n?Object.assign(Object.assign({},n),{auth_info_bytes:(0,c.bytesToHex)(n.auth_info_bytes),body_bytes:(0,c.bytesToHex)(n.body_bytes)}):n,s=r?Object.assign(Object.assign({},r),{doc:i}):r,o=Object.assign(Object.assign({},e),{params:s}),a=yield(0,t.executeRequest)(o);return Object.assign(Object.assign({},a),{signed_doc:Object.assign(Object.assign({},a.signed_doc),{auth_info_bytes:(0,c.hexToBytes)(a.signed_doc.auth_info_bytes),body_bytes:(0,c.hexToBytes)(a.signed_doc.body_bytes)})})}if("cos_sendTransaction"===e.method){const{params:r}=e,i=(null==r?void 0:r.txBytes)&&"object"==typeof r.txBytes?n.from(r.txBytes).toString("base64"):r.txBytes,s=Object.assign(Object.assign({},r),{txBytes:i}),o=Object.assign(Object.assign({},e),{params:s});return(0,t.executeRequest)(o)}return(0,t.executeRequest)(e)})},2422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wNAF=void 0,t.negateCt=a,t.normalizeZ=function(e,t){const r=(0,i.FpInvertBatch)(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))},t.mulEndoUnsafe=function(e,t,r,n){let i=t,a=e.ZERO,c=e.ZERO;for(;r>s||n>s;)r&o&&(a=a.add(i)),n&o&&(c=c.add(i)),i=i.double(),r>>=o,n>>=o;return{p1:a,p2:c}},t.pippenger=function(e,t,r,i){d(r,e),h(i,t);const s=r.length,o=i.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,c=(0,n.bitLen)(BigInt(s));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const l=(0,n.bitMask)(u),f=new Array(Number(l)+1).fill(a);let p=a;for(let e=Math.floor((t.BITS-1)/u)*u;e>=0;e-=u){f.fill(a);for(let t=0;t<o;t++){const n=i[t],s=Number(n>>BigInt(e)&l);f[s]=f[s].add(r[t])}let t=a;for(let e=f.length-1,r=a;e>0;e--)r=r.add(f[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p},t.precomputeMSMUnsafe=function(e,t,r,i){c(i,t.BITS),d(r,e);const s=e.ZERO,o=2**i-1,a=Math.ceil(t.BITS/i),u=(0,n.bitMask)(i),l=r.map(e=>{const t=[];for(let r=0,n=e;r<o;r++)t.push(n),n=n.add(e);return t});return e=>{if(h(e,t),e.length>r.length)throw new Error("array of scalars must be smaller than array of points");let n=s;for(let t=0;t<a;t++){if(n!==s)for(let e=0;e<i;e++)n=n.double();const r=BigInt(a*i-(t+1)*i);for(let t=0;t<e.length;t++){const i=e[t],s=Number(i>>r&u);s&&(n=n.add(l[t][s-1]))}}return n}},t.validateBasic=function(e){return(0,i.validateField)(e.Fp),(0,n.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,i.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})},t._createCurveFields=function(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const r=t[e];if(!("bigint"==typeof r&&r>s))throw new Error(`CURVE.${e} must be positive bigint`)}const i=m(t.p,r.Fp,n),o=m(t.n,r.Fn,n),a=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of a)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:o}};const n=r(8627),i=r(4967),s=BigInt(0),o=BigInt(1);function a(e,t){const r=t.negate();return e?r:t}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function u(e,t){c(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:(0,n.bitMask)(e),maxNumber:r,shiftBy:BigInt(e)}}function l(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r;let c=Number(e&i),u=e>>a;c>n&&(c-=s,u+=o);const l=t*n;return{nextN:u,offset:l+Math.abs(c)-1,isZero:0===c,isNeg:c<0,isNegF:t%2!=0,offsetF:l}}function d(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function h(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const f=new WeakMap,p=new WeakMap;function y(e){return p.get(e)||1}function g(e){if(e!==s)throw new Error("invalid wNAF")}function m(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,i.validateField)(t),t}return(0,i.Field)(e,{isLE:r})}t.wNAF=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>s;)t&o&&(r=r.add(n)),n=n.double(),t>>=o;return r}precomputeWindow(e,t){const{windows:r,windowSize:n}=u(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<r;e++){o=s,i.push(o);for(let e=1;e<n;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,i=this.BASE;const s=u(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:c,isZero:u,isNeg:d,isNegF:h,offsetF:f}=l(r,e,s);r=o,u?i=i.add(a(h,t[f])):n=n.add(a(d,t[c]))}return g(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){const i=u(e,this.bits);for(let e=0;e<i.windows&&r!==s;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=l(r,e,i);if(r=s,!a){const e=t[o];n=n.add(c?e.negate():e)}}return g(r),n}getPrecomputes(e,t,r){let n=f.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),f.set(t,n))),n}cached(e,t,r){const n=y(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){const i=y(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){c(t,this.bits),p.set(e,t),f.delete(e)}hasCache(e){return 1!==y(e)}}},2519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaSignIn=void 0,t.SolanaSignIn="solana:signIn"},2614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect},2750:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{fromB64:()=>d,fromBase64:()=>a,toB64:()=>l,toBase64:()=>u}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const c=8192;function u(e){if(e.length<c)return btoa(String.fromCharCode(...e));let t="";for(let r=0;r<e.length;r+=c){const n=e.slice(r,r+c);t+=String.fromCharCode(...n)}return btoa(t)}const l=u,d=a},2755:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const u=c(r(9404)),l=c(r(4989)),d=a(r(4281)),h=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=n.from(e,"utf8")),l.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(l.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class y{constructor(){this.buf=n.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,r){const n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new p("Reached the end of buffer when deserializing")}throw e}}}t.BinaryWriter=y;class m{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new u.default(e,"le")}readU128(){const e=this.readBuffer(16);return new u.default(e,"le")}readU256(){const e=this.readBuffer(32);return new u.default(e,"le")}readU512(){const e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(e){throw new p(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"==typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,r=>{w(e,t,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,s)=>{w(e,t,s,n.key,i),w(e,t,r,n.value,i)});break;default:throw new p(`FieldType ${n} unrecognized`)}else v(e,r,i)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function v(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{w(e,n,t[n],i,r)});else{if("enum"!==n.kind)throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),w(e,o,t[o],a,r);break}}}}}function E(e,t,r,n){try{if("string"==typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(E(e,null,r[0],n));return t}return n.readArray(()=>E(e,t,r[0],n))}if("option"===r.kind)return n.readU8()?E(e,t,r.type,n):void 0;if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=E(e,t,r.key,n),o=E(e,t,r.value,n);i.set(s,o)}return i}return O(e,r,n)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function O(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new p(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of e.get(t).fields)n[i]=E(e,i,s,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new p(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=E(e,s,o,r);return new t({[s]:a})}throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}o([g],m.prototype,"readU8",null),o([g],m.prototype,"readU16",null),o([g],m.prototype,"readU32",null),o([g],m.prototype,"readU64",null),o([g],m.prototype,"readU128",null),o([g],m.prototype,"readU256",null),o([g],m.prototype,"readU512",null),o([g],m.prototype,"readString",null),o([g],m.prototype,"readFixedArray",null),o([g],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t,r=y){const n=new r;return v(e,t,n),n.toArray()},t.deserialize=function(e,t,r,n=m){const i=new n(r),s=O(e,t,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r,n=m){return O(e,t,new n(r))}},2767:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.bitcoinAPIs=t.on=void 0;const i=r(5590),s=r(701),o=r(8395),a=e=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_switchNetwork",params:[e]})});t.on=(e,t)=>{},t.bitcoinAPIs={on:t.on,off:(e,t)=>{},connectWallet:()=>n(void 0,void 0,void 0,function*(){return window.location.href.includes("btcstaking.testnet.babylonlabs.io")&&a(s.Network.SIGNET),yield(0,o.request)({method:"bit_requestAccount",params:void 0})}),getAccounts:()=>n(void 0,void 0,void 0,function*(){return[yield(0,o.request)({method:"bit_getAddress",params:void 0})]}),getAddress:()=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_getAddress",params:void 0})}),getBalance:()=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_getBalance",params:void 0})}),getPublicKey:()=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_getPublicKeyHex",params:void 0})}),getPublicKeyHex:()=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_getPublicKeyHex",params:void 0})}),switchNetwork:a,getNetwork:()=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_getNetwork",params:void 0})}),sendBitcoin:(e,t)=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_sendBitcoin",params:{to:e,satAmount:t}})}),pushTx:e=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_pushTx",params:[e]})}),signMessage:(e,t)=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_signMessage",params:{message:e,type:t}})}),signMessageBIP322:e=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_signMessage",params:{message:e,type:"bip322-simple"}})}),signPsbt:e=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_signPsbt",params:e})}),signPsbts:e=>n(void 0,void 0,void 0,function*(){return yield(0,o.request)({method:"bit_signPsbts",params:e})}),getWalletProviderName:()=>n(void 0,void 0,void 0,function*(){return i.COSMOSTATION_WALLET_NAME}),getWalletProviderIcon:()=>n(void 0,void 0,void 0,function*(){return i.COSMOSTATION_ENCODED_LOGO_IMAGE}),getInscriptions:()=>n(void 0,void 0,void 0,function*(){throw new Error("Not implemented")})}},2854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.montgomery=function(e){const t=(f=e,(0,n._validateObject)(f,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...f})),{P:r,type:c,adjustScalarBytes:u,powPminus2:l,randomBytes:d}=t,h="x25519"===c;var f;if(!h&&"x448"!==c)throw new Error("invalid type");const p=d||n.randomBytes,y=h?255:448,g=h?32:56,m=h?BigInt(9):BigInt(5),b=h?BigInt(121665):BigInt(39081),w=h?a**BigInt(254):a**BigInt(447),v=h?BigInt(8)*a**BigInt(251)-o:BigInt(4)*a**BigInt(445)-o,E=w+v+o,O=e=>(0,i.mod)(e,r),S=_(m);function _(e){return(0,n.numberToBytesLE)(O(e),g)}function k(e,t){const i=function(e,t){(0,n.aInRange)("u",e,s,r),(0,n.aInRange)("scalar",t,w,E);const i=t,a=e;let c=o,u=s,d=e,h=o,f=s;for(let e=BigInt(y-1);e>=s;e--){const t=i>>e&o;f^=t,({x_2:c,x_3:d}=I(f,c,d)),({x_2:u,x_3:h}=I(f,u,h)),f=t;const r=c+u,n=O(r*r),s=c-u,l=O(s*s),p=n-l,y=d+h,g=O((d-h)*r),m=O(y*s),w=g+m,v=g-m;d=O(w*w),h=O(a*O(v*v)),c=O(n*l),u=O(p*(n+O(b*p)))}({x_2:c,x_3:d}=I(f,c,d)),({x_2:u,x_3:h}=I(f,u,h));const p=l(u);return O(c*p)}(function(e){const t=(0,n.ensureBytes)("u coordinate",e,g);return h&&(t[31]&=127),O((0,n.bytesToNumberLE)(t))}(t),function(e){return(0,n.bytesToNumberLE)(u((0,n.ensureBytes)("scalar",e,g)))}(e));if(i===s)throw new Error("invalid private or public key received");return _(i)}function A(e){return k(e,S)}function I(e,t,r){const n=O(e*(t-r));return{x_2:t=O(t-n),x_3:r=O(r+n)}}const x={secretKey:g,publicKey:g,seed:g},T=(e=p(g))=>((0,n.abytes)(e,x.seed),e);return{keygen:function(e){const t=T(e);return{secretKey:t,publicKey:A(t)}},getSharedSecret:(e,t)=>k(e,t),getPublicKey:e=>A(e),scalarMult:k,scalarMultBase:A,utils:{randomSecretKey:T,randomPrivateKey:T},GuBytes:S.slice(),lengths:x}};const n=r(8627),i=r(4967),s=BigInt(0),o=BigInt(1),a=BigInt(2)},2861:(e,t,r)=>{var n=r(8287),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2930:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{hashTypedData:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6719);function l(e,t){const r=Array.from(`${e}::`).map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),(0,u.blake2b)(n,{dkLen:32})}},2967:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){const t=[];let r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}function c(e){let t=0,r=0,n=0;for(;;){const i=e[n];if(n+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:n}}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{ulebDecode:()=>c,ulebEncode:()=>a}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},2984:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TransactionDataBuilder:()=>m}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(9415),d=r(2175),h=r(4279),f=r(7784),p=r(2016),y=r(2930);function g(e){return(0,h.normalizeIotaAddress)(e).replace("0x","")}class m{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const t=d.bcs.TransactionKind.parse(e).ProgrammableTransaction;if(!t)throw new Error("Unable to deserialize from bytes.");return m.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:t.inputs,commands:t.commands})}static fromBytes(e){const t=d.bcs.TransactionData.parse(e),r=t?.V1,n=r.kind.ProgrammableTransaction;if(!r||!n)throw new Error("Unable to deserialize from bytes.");return m.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:n.inputs,commands:n.commands})}static restore(e){return 2===e.version?new m((0,l.parse)(f.TransactionData,e)):new m((0,l.parse)(f.TransactionData,(0,p.transactionDataFromV1)(e)))}static getDigestFromBytes(e){const t=(0,y.hashTypedData)("TransactionData",e);return(0,u.toBase58)(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){const n=this.inputs,i=this.commands,s={ProgrammableTransaction:{inputs:n,commands:i}};if(r)return d.bcs.TransactionKind.serialize(s,{maxSize:e}).toBytes();const o=t?.expiration??this.expiration,a=t?.sender??this.sender,c={...this.gasData,...t?.gasConfig,...t?.gasData};if(!a)throw new Error("Missing transaction sender");if(!c.budget)throw new Error("Missing gas budget");if(!c.payment)throw new Error("Missing gas payment");if(!c.price)throw new Error("Missing gas price");const u={sender:g(a),expiration:o||{None:!0},gasData:{payment:c.payment,owner:g(this.gasData.owner??a),price:BigInt(c.price),budget:BigInt(c.budget)},kind:{ProgrammableTransaction:{inputs:n,commands:i}}};return d.bcs.TransactionData.serialize({V1:u},{maxSize:e}).toBytes()}addInput(e,t){const r=this.inputs.length;return this.inputs.push(t),{Input:r,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((r,n)=>("Input"===r.$kind&&r.Input===e&&t(r,n),r))}mapArguments(e){for(const t of this.commands)switch(t.$kind){case"MoveCall":t.MoveCall.arguments=t.MoveCall.arguments.map(r=>e(r,t));break;case"TransferObjects":t.TransferObjects.objects=t.TransferObjects.objects.map(r=>e(r,t)),t.TransferObjects.address=e(t.TransferObjects.address,t);break;case"SplitCoins":t.SplitCoins.coin=e(t.SplitCoins.coin,t),t.SplitCoins.amounts=t.SplitCoins.amounts.map(r=>e(r,t));break;case"MergeCoins":t.MergeCoins.destination=e(t.MergeCoins.destination,t),t.MergeCoins.sources=t.MergeCoins.sources.map(r=>e(r,t));break;case"MakeMoveVec":t.MakeMoveVec.elements=t.MakeMoveVec.elements.map(r=>e(r,t));break;case"Upgrade":t.Upgrade.ticket=e(t.Upgrade.ticket,t);break;case"$Intent":const r=t.$Intent.inputs;t.$Intent.inputs={};for(const[n,i]of Object.entries(r))t.$Intent.inputs[n]=Array.isArray(i)?i.map(r=>e(r,t)):e(i,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${t.$kind}`)}}replaceCommand(e,t){if(!Array.isArray(t))return void(this.commands[e]=t);const r=t.length-1;this.commands.splice(e,1,...t),0!==r&&this.mapArguments(t=>{switch(t.$kind){case"Result":t.Result>e&&(t.Result+=r);break;case"NestedResult":t.NestedResult[0]>e&&(t.NestedResult[0]+=r)}return t})}getDigest(){const e=this.build({onlyTransactionKind:!1});return m.getDigestFromBytes(e)}snapshot(){return(0,l.parse)(f.TransactionData,this)}}},3e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect},3018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(6619),i=r(5104);t.request=function(e){return new Promise((t,r)=>{const s=(0,i.uuidv4)(),o=e=>{var n,i,a;if((null===(n=e.data)||void 0===n?void 0:n.isCosmostation)&&(null===(i=e.data)||void 0===i?void 0:i.messageId)===s){window.removeEventListener("message",o);const{data:n}=e;(null===(a=n.response)||void 0===a?void 0:a.error)?r(n.response.error):t(n.response.result)}};window.addEventListener("message",o),(0,n.sendMessageWebToApp)(e,s)})}},3184:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{createPure:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(2175);function d(e){function t(t,r){if("string"==typeof t)return e(h(t).serialize(r));if(t instanceof Uint8Array||(0,u.isSerializedBcs)(t))return e(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=t=>e(l.bcs.U8.serialize(t)),t.u16=t=>e(l.bcs.U16.serialize(t)),t.u32=t=>e(l.bcs.U32.serialize(t)),t.u64=t=>e(l.bcs.U64.serialize(t)),t.u128=t=>e(l.bcs.U128.serialize(t)),t.u256=t=>e(l.bcs.U256.serialize(t)),t.bool=t=>e(l.bcs.Bool.serialize(t)),t.string=t=>e(l.bcs.String.serialize(t)),t.address=t=>e(l.bcs.Address.serialize(t)),t.id=t.address,t.vector=(t,r)=>e(l.bcs.vector(h(t)).serialize(r)),t.option=(t,r)=>e(l.bcs.option(h(t)).serialize(r)),t}function h(e){switch(e){case"u8":return l.bcs.u8();case"u16":return l.bcs.u16();case"u32":return l.bcs.u32();case"u64":return l.bcs.u64();case"u128":return l.bcs.u128();case"u256":return l.bcs.u256();case"bool":return l.bcs.bool();case"string":return l.bcs.string();case"id":case"address":return l.bcs.Address}const t=e.match(/^(vector|option)<(.+)>$/);if(t){const[e,r]=t.slice(1);return"vector"===e?l.bcs.vector(h(r)):l.bcs.option(h(r))}throw new Error(`Invalid Pure type name: ${e}`)}},3203:(e,t)=>{"use strict";function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function n(e,...t){if(!r(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function i(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function s(e){if("function"!=typeof e)throw new Error("function expected");return!0}function o(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function a(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function c(e){if(!Array.isArray(e))throw new Error("array expected")}function u(e,t){if(!i(!0,t))throw new Error(`${e}: array of strings expected`)}function l(e,t){if(!i(!1,t))throw new Error(`${e}: array of numbers expected`)}function d(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function h(e){const t="string"==typeof e?e.split(""):e,r=t.length;u("alphabet",t);const n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(c(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(c(t),t.map(t=>{o("alphabet.decode",t);const r=n.get(t);if(void 0===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function f(e=""){return o("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(o("join.decode",t),t.split(e))}}function p(e,t="="){return a(e),o("padding",t),{encode(r){for(u("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){u("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function y(e){return s(e),{encode:e=>e,decode:t=>e(t)}}function g(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(c(e),!e.length)return[];let n=0;const i=[],s=Array.from(e,e=>{if(a(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=n;i<o;i++){const o=s[i],c=t*e,u=c+o;if(!Number.isSafeInteger(u)||c/t!==e||u-o!==c)throw new Error("convertRadix: carry overflow");const l=u/r;e=u%r;const d=Math.floor(l);if(s[i]=d,!Number.isSafeInteger(d)||d*r+e!==u)throw new Error("convertRadix: carry overflow");a&&(d?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0;const m=(e,t)=>0===t?e:m(t,e%t),b=(e,t)=>e+(t-m(e,t)),w=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function v(e,t,r,n){if(c(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(b(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${b(t,r)}`);let i=0,s=0;const o=w[t],u=w[r]-1,l=[];for(const n of e){if(a(n),n>=o)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)l.push((i>>s-r&u)>>>0);const e=w[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<r-s&u,!n&&s>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function E(e){return a(e),{encode:t=>{if(!r(t))throw new Error("radix.encode input should be Uint8Array");return g(Array.from(t),256,e)},decode:t=>(l("radix.decode",t),Uint8Array.from(g(t,e,256)))}}function O(e,t=!1){if(a(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return v(Array.from(n),8,e,!t)},decode:r=>(l("radix2.decode",r),Uint8Array.from(v(r,e,8,t)))}}function S(e){return s(e),function(...t){try{return e.apply(null,t)}catch(e){}}}function _(e,t){return a(e),s(t),{encode(n){if(!r(n))throw new Error("checksum.encode: input should be Uint8Array");const i=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(i,n.length),s},decode(n){if(!r(n))throw new Error("checksum.decode: input should be Uint8Array");const i=n.slice(0,-e),s=n.slice(-e),o=t(i).slice(0,e);for(let t=0;t<e;t++)if(o[t]!==s[t])throw new Error("Invalid checksum");return i}}}t.utils={alphabet:h,chain:d,checksum:_,convertRadix:g,convertRadix2:v,radix:E,radix2:O,join:f,padding:p},t.base16=d(O(4),h("0123456789ABCDEF"),f("")),t.base32=d(O(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p(5),f("")),t.base32nopad=d(O(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),f("")),t.base32hex=d(O(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p(5),f("")),t.base32hexnopad=d(O(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),f("")),t.base32crockford=d(O(5),h("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),f(""),y(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const k=(()=>"function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64)(),A=(e,t)=>{o("base64",e);const r=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,n=t?"base64url":"base64";if(e.length>0&&!r.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:n,lastChunkHandling:"strict"})};t.base64=k?{encode:e=>(n(e),e.toBase64()),decode:e=>A(e,!1)}:d(O(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p(6),f("")),t.base64nopad=d(O(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),f("")),t.base64url=k?{encode:e=>(n(e),e.toBase64({alphabet:"base64url"})),decode:e=>A(e,!0)}:d(O(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p(6),f("")),t.base64urlnopad=d(O(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),f(""));const I=e=>d(E(58),h(e),f(""));t.base58=I("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=I("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=I("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const x=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(x[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),s=x.indexOf(i.length),o=t.base58.decode(i);for(let e=0;e<o.length-s;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(r)}},t.createBase58check=e=>d(_(4,t=>e(e(t))),t.base58),t.base58check=t.createBase58check;const T=d(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),f("")),B=[996825010,642813549,513874426,1027748829,705979059];function P(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<B.length;e++)1==(t>>e&1)&&(r^=B[e]);return r}function j(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=P(i)^r>>5}i=P(i);for(let t=0;t<n;t++)i=P(i)^31&e.charCodeAt(t);for(let e of t)i=P(i)^e;for(let e=0;e<6;e++)i=P(i);return i^=r,T.encode(v([i%w[30]],30,5,!1))}function M(e){const t="bech32"===e?1:734539939,n=O(5),i=n.decode,s=n.encode,a=S(i);function c(e,n,i=90){o("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),l("bech32.encode",n);const s=e.length;if(0===s)throw new TypeError(`Invalid prefix length ${s}`);const a=s+7+n.length;if(!1!==i&&a>i)throw new TypeError(`Length ${a} exceeds limit ${i}`);const c=e.toLowerCase(),u=j(c,n,t);return`${c}1${T.encode(n)}${u}`}function u(e,r=90){o("bech32.decode input",e);const n=e.length;if(n<8||!1!==r&&n>r)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${r})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const a=i.slice(0,s),c=i.slice(s+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const u=T.decode(c).slice(0,-6),l=j(a,u,t);if(!c.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:a,words:u}}return{encode:c,decode:u,encodeFromBytes:function(e,t){return c(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:r}=u(e,!1);return{prefix:t,words:r,bytes:i(r)}},decodeUnsafe:S(u),fromWords:i,fromWordsUnsafe:a,toWords:s}}t.bech32=M("bech32"),t.bech32m=M("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};const C=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),R={encode:e=>(n(e),e.toHex()),decode:e=>(o("hex",e),Uint8Array.fromHex(e))};t.hex=C?R:d(O(4),h("0123456789abcdef"),f(""),y(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const N={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},L="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!N.hasOwnProperty(e))throw new TypeError(L);if(!r(t))throw new TypeError("bytesToString() expects Uint8Array");return N[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!N.hasOwnProperty(e))throw new TypeError(L);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return N[e].decode(t)},t.bytes=t.stringToBytes},3289:(e,t,r)=>{"use strict";const n=r(8341).v4;e.exports=function(e,t,r,i){if("string"!=typeof e)throw new TypeError(e+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:e};if(2===s&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(void 0===r){const e="function"==typeof i.generator?i.generator:function(){return n()};o.id=e(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},3365:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.keplrAPIs=void 0;const s=r(4686),o=r(2413),a=e=>i(void 0,void 0,void 0,function*(){try{const t=yield(0,o.request)({method:"cos_requestAccount",params:{chainName:e}});return{isNanoLedger:t.isLedger,isKeystone:t.isKeystone,algo:t.isEthermint?"ethsecp256k1":"secp256k1",pubKey:(0,s.hexToBytes)(t.publicKey),bech32Address:t.address,name:t.name,address:new Uint8Array}}catch(e){throw new Error(e.message||"Unknown Error")}}),c=(e,t,r,n)=>i(void 0,void 0,void 0,function*(){var t,i,s,a,c,u;try{const l=yield(0,o.request)({method:"cos_signAmino",params:{chainName:e,isEditFee:!(null!==(t=null==n?void 0:n.preferNoSetFee)&&void 0!==t?t:null===(i=window.cosmostation.providers.keplr.defaultOptions.sign)||void 0===i?void 0:i.preferNoSetFee),isEditMemo:!(null!==(s=null==n?void 0:n.preferNoSetMemo)&&void 0!==s?s:null===(a=window.cosmostation.providers.keplr.defaultOptions.sign)||void 0===a?void 0:a.preferNoSetMemo),isCheckBalance:!(null!==(c=null==n?void 0:n.disableBalanceCheck)&&void 0!==c?c:null===(u=window.cosmostation.providers.keplr.defaultOptions.sign)||void 0===u?void 0:u.disableBalanceCheck),doc:r}});return{signed:l.signed_doc,signature:{pub_key:l.pub_key,signature:l.signature}}}catch(e){throw new Error(e.message||"Unknown Error")}}),u=(e,t,r,n)=>i(void 0,void 0,void 0,function*(){var t,i,s,a,c,u;const l=yield(0,o.request)({method:"cos_signDirect",params:{chainName:e,doc:{account_number:String(r.accountNumber),auth_info_bytes:r.authInfoBytes,body_bytes:r.bodyBytes,chain_id:r.chainId},isEditFee:!(null!==(t=null==n?void 0:n.preferNoSetFee)&&void 0!==t?t:null===(i=window.cosmostation.providers.keplr.defaultOptions.sign)||void 0===i?void 0:i.preferNoSetFee),isEditMemo:!(null!==(s=null==n?void 0:n.preferNoSetMemo)&&void 0!==s?s:null===(a=window.cosmostation.providers.keplr.defaultOptions.sign)||void 0===a?void 0:a.preferNoSetMemo),isCheckBalance:!(null!==(c=null==n?void 0:n.disableBalanceCheck)&&void 0!==c?c:null===(u=window.cosmostation.providers.keplr.defaultOptions.sign)||void 0===u?void 0:u.disableBalanceCheck)}});return{signed:{accountNumber:l.signed_doc.account_number,chainId:l.signed_doc.chain_id,authInfoBytes:new Uint8Array(l.signed_doc.auth_info_bytes),bodyBytes:new Uint8Array(l.signed_doc.body_bytes)},signature:{pub_key:l.pub_key,signature:l.signature}}}),l=(e,t)=>({signAmino:(r,n)=>i(void 0,void 0,void 0,function*(){return c(e,0,n,t)}),signDirect:(r,n)=>i(void 0,void 0,void 0,function*(){return u(e,0,n,t)}),getAccounts:()=>i(void 0,void 0,void 0,function*(){const t=yield a(e);return[{address:t.bech32Address,pubkey:t.pubKey,algo:t.algo}]}),chainId:e}),d=(e,t)=>({signAmino:(r,n)=>i(void 0,void 0,void 0,function*(){return c(e,0,n,t)}),getAccounts:()=>i(void 0,void 0,void 0,function*(){const t=yield a(e);return[{address:t.bech32Address,pubkey:t.pubKey,algo:t.algo}]}),chainId:e});t.keplrAPIs={enable:e=>i(void 0,void 0,void 0,function*(){if(!e)throw new Error("chain id not set");const t="string"==typeof e?[e]:e,r=yield(0,o.request)({method:"cos_supportedChainIds",params:void 0}),n=[...r.official,...r.unofficial],i=t.find(e=>!n.includes(e));if(i)throw new Error(`There is no chain info for ${i}`);yield(0,o.request)({method:"cos_requestAccount",params:{chainName:t[0]}})}),getKey:a,experimentalSuggestChain:e=>i(void 0,void 0,void 0,function*(){try{const t=yield(0,o.request)({method:"cos_supportedChainIds",params:void 0});[...t.official,...t.unofficial].includes(e.chainId)}catch(e){throw new Error(e.message||"Unknown Error")}}),signAmino:c,signDirect:u,sendTx:(e,t,r)=>i(void 0,void 0,void 0,function*(){try{const i=(()=>{if("number"==typeof r)return r;if("string"==typeof r){if("block"===r)return 1;if("sync"===r)return 2;if("async"===r)return 3}return 0})(),s=yield(0,o.request)({method:"cos_sendTransaction",params:{chainName:e,mode:i,txBytes:n.from(t).toString("base64")}});return n.from(s.tx_response.txhash,"hex")}catch(e){throw new Error(e.message||"Unknown Error")}}),getOfflineSigner:l,getOfflineSignerOnlyAmino:d,getOfflineSignerAuto:(e,t)=>i(void 0,void 0,void 0,function*(){return(yield(0,o.request)({method:"cos_requestAccount",params:{chainName:e}})).isLedger?d(e,t):l(e,t)}),signArbitrary:(e,t,r)=>i(void 0,void 0,void 0,function*(){const i="string"==typeof r?r:n.from(r).toString("utf8");return yield(0,o.request)({method:"cos_signMessage",params:{chainName:e,signer:t,message:i}})}),verifyArbitrary:(e,t,r,s)=>i(void 0,void 0,void 0,function*(){const i="string"==typeof r?r:n.from(r).toString("utf8");return yield(0,o.request)({method:"cos_verifyMessage",params:{chainName:e,signer:t,message:i,publicKey:s.pub_key.value,signature:s.signature}})}),suggestToken:(e,t)=>i(void 0,void 0,void 0,function*(){try{yield(0,o.request)({method:"cos_addTokensCW20",params:{chainName:e,tokens:[{contractAddress:t}]}})}catch(e){throw new Error(e.message||"Unknown Error")}})}},3431:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}}`,n=r.match(/.{2}/g)?.map(e=>parseInt(e,16))??[];return Uint8Array.from(n)}function c(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{fromHEX:()=>l,fromHex:()=>a,toHEX:()=>u,toHex:()=>c}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const u=c,l=a},3466:(e,t,r)=>{var n=r(5621);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3511:(e,t,r)=>{"use strict";var n,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||s(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(d,{CoinFormat:()=>g,formatAmount:()=>f,formatBalance:()=>m,formatWithSubscript:()=>y}),e.exports=(n=d,l(s({},"__esModule",{value:!0}),n));var h=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)))(r(1594));function f(...e){return function(e){if(null==e)return["--"];let t="",r=new h.default(e.toString());const n=r.abs();if(n.gte(1e9)?(r=r.shiftedBy(-9),t="B"):n.gte(1e6)?(r=r.shiftedBy(-6),t="M"):n.gte(1e4)&&(r=r.shiftedBy(-3),t="K"),n.gte(1)&&(r=r.decimalPlaces(2,h.default.ROUND_DOWN)),n.gt(0)&&n.lt(1)){const e=function(e){if(null===e)return 0;const[,t]=e.toString().split(".");if(!t)return 0;let r=0;for(const e of t){if("0"!==e)break;r++}return r}(r.toFormat());return e>=4?[y(r.toFormat(),e),t]:[r.toFormat(e+1),t]}return[r.toFormat(),t]}(...e).filter(Boolean).join(" ")}const p=["₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"];function y(e,t){if(null===e)return"0";const[,r]=e.toString().split("."),n=r.slice(t);return`0.0${t.toString().split("").map(e=>p[Number(e)]).join("")}${n}`}var g=(e=>(e.Rounded="Rounded",e.Full="Full",e))(g||{});function m(e,t,r="Rounded",n=!1){const i=new h.default(e.toString()).shiftedBy(-1*t);let s=f(i);return"Full"===r&&(s=i.toFormat()),n&&!s.startsWith("-")&&(s=`+${s}`),s}},3574:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{bcs:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6252),l=r(3810);const d={u8:e=>(0,u.uIntBcsType)({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>(0,u.uIntBcsType)({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>(0,u.uIntBcsType)({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>(0,u.bigUIntBcsType)({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>(0,u.bigUIntBcsType)({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>(0,u.bigUIntBcsType)({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>(0,u.fixedSizeBcsType)({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>(0,u.dynamicSizeBcsType)({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from((0,l.ulebEncode)(e)),...e}),bytes:(e,t)=>(0,u.fixedSizeBcsType)({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let n=0;n<e;n++)r.write8(t[n]??0)},...t,validate:r=>{if(t?.validate?.(r),!r||"object"!=typeof r||!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),byteVector:e=>new u.BcsType({name:"bytesVector",read:e=>{const t=e.readULEB();return e.readBytes(t)},write:(e,t)=>{const r=new Uint8Array(e);t.writeULEB(r.length);for(let e=0;e<r.length;e++)t.write8(r[e]??0)},...e,serializedSize:e=>{const t="length"in e?e.length:null;return null==t?null:(0,l.ulebEncode)(t).length+t},validate:t=>{if(e?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t)}}),string:e=>(0,u.stringLikeBcsType)({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new u.BcsType({name:`${t.name}[${e}]`,read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>d.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null}),vector:(e,t)=>new u.BcsType({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new u.BcsType({name:`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const n=Object.entries(t);return new u.BcsType({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const n=Object.entries(t);return new u.BcsType({name:e,read:t=>{const r=t.readULEB(),i=n[r];if(!i)throw new TypeError(`Unknown value ${r} for enum ${e}`);const[s,o]=i;return{[s]:o?.read(t)??!0,$kind:s}},write:(e,r)=>{const[i,s]=Object.entries(e).filter(([e])=>Object.hasOwn(t,e))[0];for(let e=0;e<n.length;e++){const[t,o]=n[e];if(t===i)return r.writeULEB(e),void o?.write(s,r)}},...r,validate:n=>{if(r?.validate?.(n),"object"!=typeof n||null==n)throw new TypeError("Expected object, found "+typeof n);const i=Object.keys(n).filter(e=>void 0!==n[e]&&Object.hasOwn(t,e));if(1!==i.length)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${e}}`);const[s]=i;if(!Object.hasOwn(t,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map:(e,t)=>d.vector(d.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}}),lazy:e=>(0,u.lazyBcsType)(e)}},3583:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TypeTagSerializer:()=>f}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9113),l=r(9549);const d=/^vector<(.+)>$/,h=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class f{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(d);if(r)return{vector:f.parseFromStr(r[1],t)};const n=e.match(h);if(n)return{struct:{address:t?(0,l.normalizeSuiAddress)(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:f.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return(0,u.splitGenericParameters)(e).map(e=>f.parseFromStr(e,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${f.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(f.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}},3690:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},3790:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsWriter:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2967),l=r(7476);class d{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return h(BigInt(e),8).forEach(e=>this.write8(e)),this}write128(e){return h(BigInt(e),16).forEach(e=>this.write8(e)),this}write256(e){return h(BigInt(e),32).forEach(e=>this.write8(e)),this}writeULEB(e){return(0,u.ulebEncode)(e).forEach(e=>this.write8(e)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return(0,l.encodeStr)(this.toBytes(),e)}}function h(e,t){const r=new Uint8Array(t);let n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}},3802:function(e,t){"use strict";var r,n,i,s,o,a,c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.guard=t.pick=t.concatBytes=t.bytesEqual=t.arraysEqual=t.ReadonlyWalletAccount=void 0;class l{get address(){return c(this,r,"f")}get publicKey(){return c(this,n,"f").slice()}get chains(){return c(this,i,"f").slice()}get features(){return c(this,s,"f").slice()}get label(){return c(this,o,"f")}get icon(){return c(this,a,"f")}constructor(e){r.set(this,void 0),n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),new.target===l&&Object.freeze(this),u(this,r,e.address,"f"),u(this,n,e.publicKey.slice(),"f"),u(this,i,e.chains.slice(),"f"),u(this,s,e.features.slice(),"f"),u(this,o,e.label,"f"),u(this,a,e.icon,"f")}}function d(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}t.ReadonlyWalletAccount=l,r=new WeakMap,n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,t.arraysEqual=d,t.bytesEqual=function(e,t){return d(e,t)},t.concatBytes=function(e,...t){const r=t.reduce((e,t)=>e+t.length,e.length),n=new Uint8Array(r);n.set(e,0);for(const e of t)n.set(e,n.length);return n},t.pick=function(e,...t){const r={};for(const n of t)r[n]=e[n];return r},t.guard=function(e){try{e()}catch(e){console.error(e)}}},3810:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){const t=[];let r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}function c(e){let t=0,r=0,n=0;for(;;){const i=e[n];if(n+=1,t|=(127&i)<<r,!(128&i))break;r+=7}return{value:t,length:n}}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{ulebDecode:()=>c,ulebEncode:()=>a}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},3813:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(){return"http://localhost:3003"}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{getAppsBackend:()=>a}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},3839:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{promiseWithResolvers:()=>a}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},3871:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Address:()=>h,AppId:()=>C,Argument:()=>E,CallArg:()=>b,Command:()=>S,CompressedSignature:()=>L,GasData:()=>T,Intent:()=>R,IntentMessage:()=>N,IntentScope:()=>j,IntentVersion:()=>M,MultiSig:()=>q,MultiSigPkMap:()=>U,MultiSigPublicKey:()=>z,ObjectArg:()=>g,ObjectDigest:()=>f,Owner:()=>m,PasskeyAuthenticator:()=>W,ProgrammableMoveCall:()=>O,ProgrammableTransaction:()=>k,PublicKey:()=>D,SenderSignedData:()=>$,SenderSignedTransaction:()=>H,SharedObjectRef:()=>y,StructTag:()=>x,SuiObjectRef:()=>p,TransactionData:()=>P,TransactionDataV1:()=>B,TransactionExpiration:()=>I,TransactionKind:()=>A,TypeTag:()=>v,base64String:()=>V}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9113),l=r(9549),d=r(3583);const h=u.bcs.bytes(l.SUI_ADDRESS_LENGTH).transform({validate:e=>{const t="string"==typeof e?e:(0,u.toHex)(e);if(!t||!(0,l.isValidSuiAddress)((0,l.normalizeSuiAddress)(t)))throw new Error(`Invalid Sui address ${t}`)},input:e=>"string"==typeof e?(0,u.fromHex)((0,l.normalizeSuiAddress)(e)):e,output:e=>(0,l.normalizeSuiAddress)((0,u.toHex)(e))}),f=u.bcs.vector(u.bcs.u8()).transform({name:"ObjectDigest",input:e=>(0,u.fromBase58)(e),output:e=>(0,u.toBase58)(new Uint8Array(e)),validate:e=>{if(32!==(0,u.fromBase58)(e).length)throw new Error("ObjectDigest must be 32 bytes")}}),p=u.bcs.struct("SuiObjectRef",{objectId:h,version:u.bcs.u64(),digest:f}),y=u.bcs.struct("SharedObjectRef",{objectId:h,initialSharedVersion:u.bcs.u64(),mutable:u.bcs.bool()}),g=u.bcs.enum("ObjectArg",{ImmOrOwnedObject:p,SharedObject:y,Receiving:p}),m=u.bcs.enum("Owner",{AddressOwner:h,ObjectOwner:h,Shared:u.bcs.struct("Shared",{initialSharedVersion:u.bcs.u64()}),Immutable:null,ConsensusAddressOwner:u.bcs.struct("ConsensusAddressOwner",{owner:h,startVersion:u.bcs.u64()})}),b=u.bcs.enum("CallArg",{Pure:u.bcs.struct("Pure",{bytes:u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))})}),Object:g}),w=u.bcs.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:u.bcs.lazy(()=>w),struct:u.bcs.lazy(()=>x),u16:null,u32:null,u256:null}),v=w.transform({input:e=>"string"==typeof e?d.TypeTagSerializer.parseFromStr(e,!0):e,output:e=>d.TypeTagSerializer.tagToString(e)}),E=u.bcs.enum("Argument",{GasCoin:null,Input:u.bcs.u16(),Result:u.bcs.u16(),NestedResult:u.bcs.tuple([u.bcs.u16(),u.bcs.u16()])}),O=u.bcs.struct("ProgrammableMoveCall",{package:h,module:u.bcs.string(),function:u.bcs.string(),typeArguments:u.bcs.vector(v),arguments:u.bcs.vector(E)}),S=u.bcs.enum("Command",{MoveCall:O,TransferObjects:u.bcs.struct("TransferObjects",{objects:u.bcs.vector(E),address:E}),SplitCoins:u.bcs.struct("SplitCoins",{coin:E,amounts:u.bcs.vector(E)}),MergeCoins:u.bcs.struct("MergeCoins",{destination:E,sources:u.bcs.vector(E)}),Publish:u.bcs.struct("Publish",{modules:u.bcs.vector(u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))})),dependencies:u.bcs.vector(h)}),MakeMoveVec:u.bcs.struct("MakeMoveVec",{type:(_=v,u.bcs.enum("Option",{None:null,Some:_})).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:u.bcs.vector(E)}),Upgrade:u.bcs.struct("Upgrade",{modules:u.bcs.vector(u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))})),dependencies:u.bcs.vector(h),package:h,ticket:E})});var _;const k=u.bcs.struct("ProgrammableTransaction",{inputs:u.bcs.vector(b),commands:u.bcs.vector(S)}),A=u.bcs.enum("TransactionKind",{ProgrammableTransaction:k,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),I=u.bcs.enum("TransactionExpiration",{None:null,Epoch:u.bcs.u64({name:"unsafe_u64"}).transform({input:e=>e,output:e=>Number(e)})});const x=u.bcs.struct("StructTag",{address:h,module:u.bcs.string(),name:u.bcs.string(),typeParams:u.bcs.vector(w)}),T=u.bcs.struct("GasData",{payment:u.bcs.vector(p),owner:h,price:u.bcs.u64(),budget:u.bcs.u64()}),B=u.bcs.struct("TransactionDataV1",{kind:A,sender:h,gasData:T,expiration:I}),P=u.bcs.enum("TransactionData",{V1:B}),j=u.bcs.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),M=u.bcs.enum("IntentVersion",{V0:null}),C=u.bcs.enum("AppId",{Sui:null}),R=u.bcs.struct("Intent",{scope:j,version:M,appId:C});function N(e){return u.bcs.struct(`IntentMessage<${e.name}>`,{intent:R,value:e})}const L=u.bcs.enum("CompressedSignature",{ED25519:u.bcs.fixedArray(64,u.bcs.u8()),Secp256k1:u.bcs.fixedArray(64,u.bcs.u8()),Secp256r1:u.bcs.fixedArray(64,u.bcs.u8()),ZkLogin:u.bcs.vector(u.bcs.u8()),Passkey:u.bcs.vector(u.bcs.u8())}),D=u.bcs.enum("PublicKey",{ED25519:u.bcs.fixedArray(32,u.bcs.u8()),Secp256k1:u.bcs.fixedArray(33,u.bcs.u8()),Secp256r1:u.bcs.fixedArray(33,u.bcs.u8()),ZkLogin:u.bcs.vector(u.bcs.u8()),Passkey:u.bcs.fixedArray(33,u.bcs.u8())}),U=u.bcs.struct("MultiSigPkMap",{pubKey:D,weight:u.bcs.u8()}),z=u.bcs.struct("MultiSigPublicKey",{pk_map:u.bcs.vector(U),threshold:u.bcs.u16()}),q=u.bcs.struct("MultiSig",{sigs:u.bcs.vector(L),bitmap:u.bcs.u16(),multisig_pk:z}),V=u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))}),H=u.bcs.struct("SenderSignedTransaction",{intentMessage:N(P),txSignatures:u.bcs.vector(V)}),$=u.bcs.vector(H,{name:"SenderSignedData"}),W=u.bcs.struct("PasskeyAuthenticator",{authenticatorData:u.bcs.vector(u.bcs.u8()),clientDataJson:u.bcs.string(),userSignature:u.bcs.vector(u.bcs.u8())})},3894:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3e3),t),i(r(2614),t),i(r(213),t)},4008:(e,t)=>{function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}var n=function(e){return Uint8Array.from(e.match(/.{1,2}/g).map(function(e){return parseInt(e,16)}))},i=function(e){return e.reduce(function(e,t){return e+t.toString(16).padStart(2,"0")},"")};t.getCosmosPublicKeyTypeURL=function(e){switch(e){case"secp256k1":return"/cosmos.crypto.secp256k1.PublicKey";case"ethsecp256k1":return"/ethermint.crypto.v1.ethsecp256k1.PublicKey";default:return e}},t.getCosmosTxProto=function(e){try{return Promise.resolve(fetch("https://proto.mintscan.io/proto",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).then(function(e){function t(t){return Promise.resolve(e.json()).then(function(e){return r({},e,{auth_info_bytes:n(e.auth_info_bytes),body_bytes:n(e.body_bytes)})})}var i=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(e){throw new Error(Array.isArray(e.message)?e.message.join("\n"):e.message)})}();return i&&i.then?i.then(t):t()})}catch(e){return Promise.reject(e)}},t.getCosmosTxProtoBytes=function(e){try{var t="string"==typeof e.auth_info_bytes?e.auth_info_bytes:i(e.auth_info_bytes),n="string"==typeof e.body_bytes?e.body_bytes:i(e.body_bytes);return Promise.resolve(fetch("https://proto.mintscan.io/proto/bytes",{method:"POST",body:JSON.stringify(r({},e,{auth_info_bytes:t,body_bytes:n})),headers:{"Content-Type":"application/json"}})).then(function(e){function t(t){return Promise.resolve(e.text())}var r=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(e){throw new Error(Array.isArray(e.message)?e.message.join("\n"):e.message)})}();return r&&r.then?r.then(t):t()})}catch(e){return Promise.reject(e)}},t.getCosmosWallets=function(){return window.__cosmosWallets||[]},t.registerCosmosWallet=function(e){null==window.__cosmosWallets&&(window.__cosmosWallets=[]),null!=e&&e.name&&null!=e&&e.logo&&(window.__cosmosWallets.some(function(t){return t.name===e.name})||(window.__cosmosWallets.push(r({id:crypto.randomUUID()},e)),window.dispatchEvent(new CustomEvent("__cosmosWallets"))))},t.toHexString=i,t.toUint8Array=n},4065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommitment=function(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}},4110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BSIGMA=void 0,t.G1s=function(e,t,r,i,s){return e=e+t+s|0,r=r+(i=(0,n.rotr)(i^e,16))|0,{a:e,b:t=(0,n.rotr)(t^r,12),c:r,d:i}},t.G2s=function(e,t,r,i,s){return e=e+t+s|0,r=r+(i=(0,n.rotr)(i^e,8))|0,{a:e,b:t=(0,n.rotr)(t^r,7),c:r,d:i}};const n=r(9175);t.BSIGMA=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9])},4189:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6446),t),i(r(2519),t),i(r(6597),t),i(r(1590),t),i(r(747),t)},4227:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{IotaClient:()=>y,isIotaClient:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(5192),d=r(4279),h=r(2284);const f=Symbol.for("@iota/IotaClient");function p(e){return"object"==typeof e&&null!==e&&!0===e[f]}class y{get[f](){return!0}constructor(e){this.transport=e.transport??new h.IotaHTTPTransport({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"iotax_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"iotax_getTotalSupply",params:[e.coinType]})}async getCirculatingSupply(){return await this.transport.request({method:"iotax_getCirculatingSupply",params:[]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"iota_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"iota_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"iota_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"iota_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"iota_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!(0,d.isValidIotaObjectId)((0,d.normalizeIotaObjectId)(e.id)))throw new Error("Invalid IOTA Object id");return await this.transport.request({method:"iota_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"iota_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(e=>{if(!e||!(0,d.isValidIotaObjectId)((0,d.normalizeIotaObjectId)(e)))throw new Error(`Invalid IOTA Object id ${e}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"iota_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"iotax_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!(0,d.isValidTransactionDigest)(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"iota_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(e=>{if(!(0,d.isValidTransactionDigest)(e))throw new Error(`Invalid Transaction digest ${e}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"iota_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:t,options:r}){return await this.transport.request({method:"iota_executeTransactionBlock",params:["string"==typeof e?e:(0,u.toBase64)(e),Array.isArray(t)?t:[t],r]})}async signAndExecuteTransaction({transaction:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toIotaAddress()),n=await e.build({client:this}));const{signature:i,bytes:s}=await t.signTransaction(n);return this.executeTransactionBlock({transactionBlock:s,signature:i,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"iota_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"iotax_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getStakes",params:[e.owner]})}async getTimelockedStakes(e){if(!e.owner||!(0,d.isValidIotaAddress)((0,d.normalizeIotaAddress)(e.owner)))throw new Error("Invalid IOTA address");return await this.transport.request({method:"iotax_getTimelockedStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedIotaIds.forEach(e=>{if(!e||!(0,d.isValidIotaObjectId)((0,d.normalizeIotaObjectId)(e)))throw new Error(`Invalid IOTA Stake id ${e}`)}),await this.transport.request({method:"iotax_getStakesByIds",params:[e.stakedIotaIds]})}async getTimelockedStakesByIds(e){return e.timelockedStakedIotaIds.forEach(e=>{if(!e||!(0,d.isValidIotaObjectId)((0,d.normalizeIotaObjectId)(e)))throw new Error(`Invalid IOTA Timelocked Stake id ${e}`)}),await this.transport.request({method:"iotax_getTimelockedStakesByIds",params:[e.timelockedStakedIotaIds]})}async getLatestIotaSystemStateV1(){return await this.transport.request({method:"iotax_getLatestIotaSystemState",params:[]})}async getLatestIotaSystemStateV2(){return await this.transport.request({method:"iotax_getLatestIotaSystemStateV2",params:[]})}async getLatestIotaSystemState(){const e=await this.getProtocolConfig(),t=Number(e.maxSupportedProtocolVersion)>=5?await this.getLatestIotaSystemStateV2():{V1:await this.getLatestIotaSystemStateV1()};return"V2"in t?{...t.V2,committeeMembers:t.V2.committeeMembers.map(e=>t.V2.activeValidators[Number(e)])}:{...t.V1,committeeMembers:t.V1.activeValidators,safeModeComputationCharges:t.V1.safeModeComputationRewards,safeModeComputationChargesBurned:t.V1.safeModeComputationRewards}}async queryEvents(e){return await this.transport.request({method:"iotax_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"iotax_subscribeEvent",unsubscribe:"iotax_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"iotax_subscribeTransaction",unsubscribe:"iotax_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if((0,l.isTransaction)(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=(0,u.toBase64)(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"==typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=(0,u.toBase64)(e.transactionBlock)}return await this.transport.request({method:"iota_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"iota_dryRunTransactionBlock",params:["string"==typeof e.transactionBlock?e.transactionBlock:(0,u.toBase64)(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!(0,d.isValidIotaObjectId)((0,d.normalizeIotaObjectId)(e.parentId)))throw new Error("Invalid IOTA Object id");return await this.transport.request({method:"iotax_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"iotax_getDynamicFieldObject",params:[e.parentId,e.name]})}async getDynamicFieldObjectV2(e){return await this.transport.request({method:"iotax_getDynamicFieldObjectV2",params:[e.parentObjectId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"iota_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"iota_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"iota_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"iotax_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"iotax_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"iotax_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"iotax_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"iotax_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getCheckpointAddressMetrics(e){return await this.transport.request({method:"iotax_getCheckpointAddressMetrics",params:[e?.checkpoint]})}async getEpochs(e){return await this.transport.request({method:"iotax_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"iotax_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"iotax_getCurrentEpoch",params:[]})}async getTotalTransactions(){const e=await this.transport.request({method:"iotax_getTotalTransactions",params:[]});return String(e)}async getValidatorsApy(){return await this.transport.request({method:"iotax_getValidatorsApy",params:[]})}async getChainIdentifier(){return await this.transport.request({method:"iota_getChainIdentifier",params:[]})}async getProtocolConfig(e){return await this.transport.request({method:"iota_getProtocolConfig",params:[e?.version]})}async getParticipationMetrics(){return await this.transport.request({method:"iotax_getParticipationMetrics",params:[]})}async waitForTransaction({signal:e,timeout:t=6e4,pollInterval:r=2e3,...n}){const i=AbortSignal.timeout(t),s=new Promise((e,t)=>{i.addEventListener("abort",()=>t(i.reason))});for(s.catch(()=>{});!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch(e){await Promise.race([new Promise(e=>setTimeout(e,r)),s])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}async iotaNamesLookup(e){return await this.transport.request({method:"iotax_iotaNamesLookup",params:[e.name]})}async iotaNamesReverseLookup(e){return await this.transport.request({method:"iotax_iotaNamesReverseLookup",params:[e.address]})}async iotaNamesFindAllRegistrationNFTs(e){return await this.transport.request({method:"iotax_iotaNamesFindAllRegistrationNFTs",params:[e.address,e.cursor,e.limit,e.options]})}}},4279:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{IOTA_ADDRESS_LENGTH:()=>h,isValidIotaAddress:()=>f,isValidIotaObjectId:()=>p,isValidTransactionDigest:()=>d,normalizeIotaAddress:()=>m,normalizeIotaObjectId:()=>b,normalizeStructTag:()=>g,parseStructTag:()=>y}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310);const l=32;function d(e){try{return(0,u.fromB58)(e).length===l}catch(e){return!1}}const h=32;function f(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)===h}function p(e){return f(e)}function y(e){const[t,r]=e.split("::"),n=e.slice(t.length+r.length+4),i=n.includes("<")?n.slice(0,n.indexOf("<")):n,s=n.includes("<")?(0,u.splitGenericParameters)(n.slice(n.indexOf("<")+1,n.lastIndexOf(">"))).map(e=>function(e){return e.includes("::")?y(e):e}(e.trim())):[];return{address:m(t),module:r,name:i,typeParams:s}}function g(e){const{address:t,module:r,name:n,typeParams:i}="string"==typeof e?y(e):e;return`${t}::${r}::${n}${i?.length>0?`<${i.map(e=>"string"==typeof e?e:g(e)).join(",")}>`:""}`}function m(e,t=!1,r=!1){let n=e.toLowerCase().replace(/ /g,"");if(!t&&n.startsWith("0x")&&(n=n.slice(2)),n=`0x${n.padStart(2*h,"0")}`,r&&!f(n))throw new Error(`Invalid IOTA address: ${e}`);return n}function b(e,t=!1,r=!1){return m(e,t,r)}},4281:(e,t)=>{"use strict";function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}var a="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,n=0,i=0,a=0,c=128,u=191;this.handler=function(e,l){if(-1===l&&0!==a)return a=0,o(t);if(-1===l)return s;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),a=2,n=l-224;else{if(!r(l,240,244))return o(t);240===l&&(c=144),244===l&&(u=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,c,u))return n=a=i=0,c=128,u=191,e.prepend(l),o(t);if(c=128,u=191,n+=l-128<<6*(a-(i+=1)),i!==a)return null;var d=n;return n=a=i=0,d}}function d(e){e.fatal,this.handler=function(e,t){if(-1===t)return s;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}c.prototype={decode:function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o,a=new i(r),c=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==s;)null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===s)break;null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(c)}},u.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var r,o=[],a=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,c=1023&o;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}(e));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},t.TextEncoder=u,t.TextDecoder=c},4286:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsReader:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2967);class l{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)}shift(e){return this.bytePosition+=e,this}read8(){const e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){const e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){const e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){const e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){const e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){const e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){const t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){const e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=(0,u.ulebDecode)(t);return this.shift(n),r}readVec(e){const t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}},4302:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{isValidSuiNSName:()=>l,normalizeSuiNSName:()=>d}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,c=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,u=235;function l(e){return!(e.length>u)&&(e.includes("@")?a.test(e):c.test(e))}function d(e,t="at"){const r=e.toLowerCase();let n;if(r.includes("@")){if(!a.test(r))throw new Error(`Invalid SuiNS name ${e}`);const[t,i]=r.split("@");n=[...t?t.split("."):[],i]}else{if(!c.test(r))throw new Error(`Invalid SuiNS name ${e}`);n=r.split(".").slice(0,-1)}return"dot"===t?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}},4306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.btcwallet=t.bitcoin=void 0;const n=r(2767),{connectWallet:i,getAccounts:s,getAddress:o,getBalance:a,getPublicKey:c,getPublicKeyHex:u,signMessage:l,signMessageBIP322:d,signPsbt:h,signPsbts:f,sendBitcoin:p,on:y,off:g,switchNetwork:m,getNetwork:b,pushTx:w,getWalletProviderName:v,getWalletProviderIcon:E,getInscriptions:O}=n.bitcoinAPIs;t.bitcoin={requestAccounts:i,connectWallet:i,getAccounts:s,getAddress:o,getBalance:a,getPublicKey:c,getPublicKeyHex:u,signMessage:l,signMessageBIP322:d,signPsbt:h,signPsbts:f,sendBitcoin:p,on:y,off:g,switchNetwork:m,getNetwork:b,pushTx:w,getWalletProviderName:v,getWalletProviderIcon:E,getInscriptions:O},t.btcwallet={connectWallet:i,getAddress:o,getPublicKeyHex:u,signPsbt:h,signPsbts:f,getNetwork:b,signMessage:l,getInscriptions:O,on:y,off:g,getWalletProviderName:v,getWalletProviderIcon:E}},4336:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},4361:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.iotaAPIs=void 0;const s=r(3018),o=r(2175);t.iotaAPIs={on:(e,t)=>i(void 0,void 0,void 0,function*(){console.log(e,t)}),off:(e,t)=>i(void 0,void 0,void 0,function*(){console.log(e,t)}),getAccounts:()=>i(void 0,void 0,void 0,function*(){return[(yield(0,s.request)({method:"iota_getAccount",params:void 0})).address]}),getPublicKey:()=>i(void 0,void 0,void 0,function*(){return(yield(0,s.request)({method:"iota_getAccount",params:void 0})).publicKey}),getChain:()=>i(void 0,void 0,void 0,function*(){return yield(0,s.request)({method:"iota_getChain"})}),signTransaction:e=>i(void 0,void 0,void 0,function*(){const t={transactionBlockSerialized:yield e.transaction.toJSON(),signal:e.signal},r=yield(0,s.request)({method:"iota_signTransaction",params:t});return{bytes:r.bytes,signature:r.signature}}),signAndExecuteTransaction:e=>i(void 0,void 0,void 0,function*(){const t={transactionBlockSerialized:yield e.transaction.toJSON(),signal:e.signal,options:{showRawEffects:!0,showRawInput:!0}},r=yield(0,s.request)({method:"iota_signAndExecuteTransaction",params:t}),[{txSignatures:[i],intentMessage:{value:a}}]=o.bcs.SenderSignedData.parse(n.from(r.rawTransaction,"base64")),c=o.bcs.TransactionData.serialize(a).toBase64();return{digest:r.digest,effects:n.from(new Uint8Array(r.rawEffects)).toString("base64"),bytes:c,signature:i}}),signPersonalMessage:({message:e,account:t})=>i(void 0,void 0,void 0,function*(){const r=yield(0,s.request)({method:"iota_signPersonalMessage",params:{message:n.from(e).toString("base64"),accountAddress:null==t?void 0:t.address}});return{bytes:r.bytes,signature:r.signature}})}},4401:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{isValidNamedPackage:()=>h,isValidNamedType:()=>f}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(4302);const l=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,d=/^\d+$/,h=e=>{const t=e.split("/");if(t.length<2||t.length>3)return!1;const[r,n,i]=t;return!(void 0!==i&&!d.test(i))&&!!(0,u.isValidSuiNSName)(r)&&l.test(n)&&n.length<64},f=e=>{const t=e.split(/::|<|>|,/);for(const e of t)if(e.includes("/")&&!h(e))return!1;return!0}},4455:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{AsyncCache:()=>g,InMemoryCache:()=>m,ObjectCache:()=>b}),e.exports=(n=h,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var f,p,y=r(4279);class g{async getObject(e){const[t,r]=await Promise.all([this.get("OwnedObject",e),this.get("SharedOrImmutableObject",e)]);return t??r??null}async getObjects(e){return Promise.all([...e.map(e=>this.getObject(e))])}async addObject(e){return e.owner?await this.set("OwnedObject",e.objectId,e):await this.set("SharedOrImmutableObject",e.objectId,e),e}async addObjects(e){await Promise.all(e.map(async e=>this.addObject(e)))}async deleteObject(e){await Promise.all([this.delete("OwnedObject",e),this.delete("SharedOrImmutableObject",e)])}async deleteObjects(e){await Promise.all(e.map(e=>this.deleteObject(e)))}async getMoveFunctionDefinition(e){const t=`${(0,y.normalizeIotaAddress)(e.package)}::${e.module}::${e.function}`;return this.get("MoveFunction",t)}async addMoveFunctionDefinition(e){const t=(0,y.normalizeIotaAddress)(e.package),r=`${t}::${e.module}::${e.function}`,n={...e,package:t};return await this.set("MoveFunction",r,n),n}async deleteMoveFunctionDefinition(e){const t=`${(0,y.normalizeIotaAddress)(e.package)}::${e.module}::${e.function}`;await this.delete("MoveFunction",t)}async getCustom(e){return this.get("Custom",e)}async setCustom(e,t){return this.set("Custom",e,t)}async deleteCustom(e){return this.delete("Custom",e)}}class m extends g{constructor(){super(...arguments),d(this,f,{OwnedObject:new Map,SharedOrImmutableObject:new Map,MoveFunction:new Map,Custom:new Map})}async get(e,t){return l(this,f)[e].get(t)??null}async set(e,t,r){l(this,f)[e].set(t,r)}async delete(e,t){l(this,f)[e].delete(t)}async clear(e){if(e)l(this,f)[e].clear();else for(const e of Object.values(l(this,f)))e.clear()}}f=new WeakMap;class b{constructor({cache:e=new m}){var t,r;d(this,p),r=e,u(this,t=p,"write to private field"),t.set(this,r)}asPlugin(){return async(e,t,r)=>{const n=e.inputs.filter(e=>e.UnresolvedObject).map(e=>e.UnresolvedObject.objectId),i=(await l(this,p).getObjects(n)).filter(e=>null!==e),s=new Map(i.map(e=>[e.objectId,e]));for(const t of e.inputs){if(!t.UnresolvedObject)continue;const e=s.get(t.UnresolvedObject.objectId);e&&(e.initialSharedVersion&&!t.UnresolvedObject.initialSharedVersion?t.UnresolvedObject.initialSharedVersion=e.initialSharedVersion:(e.version&&!t.UnresolvedObject.version&&(t.UnresolvedObject.version=e.version),e.digest&&!t.UnresolvedObject.digest&&(t.UnresolvedObject.digest=e.digest)))}await Promise.all(e.commands.map(async e=>{if(e.MoveCall){const t=await this.getMoveFunctionDefinition({package:e.MoveCall.package,module:e.MoveCall.module,function:e.MoveCall.function});t&&(e.MoveCall._argumentTypes=t.parameters)}})),await r(),await Promise.all(e.commands.map(async e=>{e.MoveCall?._argumentTypes&&await l(this,p).addMoveFunctionDefinition({package:e.MoveCall.package,module:e.MoveCall.module,function:e.MoveCall.function,parameters:e.MoveCall._argumentTypes})}))}}async clear(){await l(this,p).clear()}async getMoveFunctionDefinition(e){return l(this,p).getMoveFunctionDefinition(e)}async getObjects(e){return l(this,p).getObjects(e)}async deleteObjects(e){return l(this,p).deleteObjects(e)}async clearOwnedObjects(){await l(this,p).clear("OwnedObject")}async clearCustom(){await l(this,p).clear("Custom")}async getCustom(e){return l(this,p).getCustom(e)}async setCustom(e,t){return l(this,p).setCustom(e,t)}async deleteCustom(e){return l(this,p).deleteCustom(e)}async applyEffects(e){if(!e.V1)throw new Error(`Unsupported transaction effects version ${e.$kind}`);const{lamportVersion:t,changedObjects:r}=e.V1,n=[];r.map(async([e,r])=>{if(r.outputState.NotExist)await l(this,p).deleteObject(e);else if(r.outputState.ObjectWrite){const[i,s]=r.outputState.ObjectWrite;n.push({objectId:e,digest:i,version:t,owner:s.AddressOwner??s.ObjectOwner??null,initialSharedVersion:s.Shared?.initialSharedVersion??null})}}),await Promise.all([l(this,p).addObjects(n),l(this,p).deleteObjects([])])}}p=new WeakMap},4489:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{getClient:()=>O,resolveTransactionData:()=>b}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9415),l=r(2175),d=r(7546),h=r(7784),f=r(5975),p=r(1234);const y=50,g=1000n,m=5e10;async function b(e,t,r){return await async function(e,t){const{inputs:r,commands:n}=e,i=[],s=new Set;n.forEach(t=>{if(t.MoveCall){if(t.MoveCall._argumentTypes)return;if(t.MoveCall.arguments.map(t=>"Input"===t.$kind?e.inputs[t.Input]:null).some(e=>e?.UnresolvedPure||e?.UnresolvedObject)){const e=`${t.MoveCall.package}::${t.MoveCall.module}::${t.MoveCall.function}`;s.add(e),i.push(t.MoveCall)}}switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach(t=>{w(t,l.bcs.U64,e)});break;case"TransferObjects":w(t.TransferObjects.address,l.bcs.Address,e)}});const o=new Map;if(s.size>0){const e=O(t);await Promise.all([...s].map(async t=>{const[r,n,i]=t.split("::"),s=await e.getNormalizedMoveFunction({package:r,module:n,function:i});o.set(t,s.parameters.map(e=>(0,p.normalizedTypeToMoveTypeSignature)(e)))}))}i.length&&await Promise.all(i.map(async e=>{const t=o.get(`${e.package}::${e.module}::${e.function}`);if(!t)return;const r=t.length>0&&(0,p.isTxContext)(t.at(-1))?t.slice(0,t.length-1):t;e._argumentTypes=r})),n.forEach(e=>{if(!e.MoveCall)return;const t=e.MoveCall,n=`${t.package}::${t.module}::${t.function}`,i=t._argumentTypes;if(i){if(i.length!==e.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${n}`);i.forEach((e,n)=>{const i=t.arguments[n];if("Input"!==i.$kind)return;const s=r[i.Input];if(!s.UnresolvedPure&&!s.UnresolvedObject)return;const o=s.UnresolvedPure?.value??s.UnresolvedObject?.objectId,a=r.indexOf(s),c=(0,p.getPureBcsSchema)(e.body);if(c)return i.type="pure",void(r[a]=f.Inputs.Pure(c.serialize(o)));if("string"!=typeof o)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(o,null,2)}`);i.type="object";const u=s.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:o}}:s;r[a]=u})}})}(e,t),await async function(e,t){const r=e.inputs.filter(e=>e.UnresolvedObject&&!(e.UnresolvedObject.version||e.UnresolvedObject?.initialSharedVersion)),n=[...new Set(r.map(e=>(0,d.normalizeIotaObjectId)(e.UnresolvedObject.objectId)))],i=n.length?(a=n,c=y,Array.from({length:Math.ceil(a.length/c)},(e,t)=>a.slice(t*c,t*c+c))):[],s=new Map,o=new Map;var a,c;if(await Promise.all(i.map(async e=>{const r=await O(t).multiGetObjects({ids:e,options:{showOwner:!0}});for(const e of r){const t=e.data?.objectId;if(t){if(e.error||!e.data)return void o.set(t,e.error);const r=e.data.owner,n=r&&"object"==typeof r&&"Shared"in r?r.Shared.initial_shared_version:null;s.set(t,{objectId:t,digest:e.data.digest,version:e.data.version,initialSharedVersion:n})}}})),o.size>0)throw new Error(`The following input objects are invalid: ${Array.from(o).join(", ")}`);for(const[t,r]of e.inputs.entries()){if(!r.UnresolvedObject)continue;let n;const i=(0,d.normalizeIotaAddress)(r.UnresolvedObject.objectId),o=s.get(i);r.UnresolvedObject.initialSharedVersion??o?.initialSharedVersion?n=f.Inputs.SharedObjectRef({objectId:i,initialSharedVersion:r.UnresolvedObject.initialSharedVersion||o?.initialSharedVersion,mutable:v(e,t)}):E(e,t)&&(n=f.Inputs.ReceivingRef({objectId:i,digest:r.UnresolvedObject.digest??o?.digest,version:r.UnresolvedObject.version??o?.version})),e.inputs[e.inputs.indexOf(r)]=n??f.Inputs.ObjectRef({objectId:i,digest:r.UnresolvedObject.digest??o?.digest,version:r.UnresolvedObject.version??o?.version})}}(e,t),t.onlyTransactionKind||(await async function(e,t){e.gasConfig.price||(e.gasConfig.price=String(await O(t).getReferenceGasPrice()))}(e,t),await async function(e,t){if(e.gasConfig.budget)return;const r=await O(t).dryRunTransactionBlock({transactionBlock:e.build({overrides:{gasData:{budget:String(m),payment:[]}}})});if("success"!==r.effects.status.status)throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});const n=g*BigInt(e.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,s=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);e.gasConfig.budget=String(s>i?s:i)}(e,t),await async function(e,t){if(!e.gasConfig.payment){const r=(await O(t).getCoins({owner:e.gasConfig.owner||e.sender,coinType:d.IOTA_TYPE_ARG})).data.filter(t=>!e.inputs.find(e=>!!e.Object?.ImmOrOwnedObject&&t.coinObjectId===e.Object.ImmOrOwnedObject.objectId)).map(e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");e.gasConfig.payment=r.map(e=>(0,u.parse)(h.ObjectRef,e))}}(e,t)),await function(e){e.inputs.forEach((e,t)=>{if("Object"!==e.$kind&&"Pure"!==e.$kind)throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}(e),await r()}function w(e,t,r){if("Input"!==e.$kind)return;const n=r.inputs[e.Input];"UnresolvedPure"===n.$kind&&(r.inputs[e.Input]=f.Inputs.Pure(t.serialize(n.UnresolvedPure.value)))}function v(e,t){let r=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const n=t.MoveCall.arguments.indexOf(e);r="&"!==t.MoveCall._argumentTypes[n].ref||r}"MakeMoveVec"!==t.$kind&&"MergeCoins"!==t.$kind&&"SplitCoins"!==t.$kind||(r=!0)}),r}function E(e,t){let r=!1;return e.getInputUses(t,(e,t)=>{if(t.MoveCall&&t.MoveCall._argumentTypes){const i=t.MoveCall.arguments.indexOf(e);n=t.MoveCall._argumentTypes[i],r="object"==typeof n.body&&"datatype"in n.body&&"0x2"===n.body.datatype.package&&"transfer"===n.body.datatype.module&&"Receiving"===n.body.datatype.type||r}var n}),r}function O(e){if(!e.client)throw new Error("No iota client passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}},4686:(e,t,r)=>{"use strict";var n=r(8287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToHex=t.hexToBytes=void 0,t.hexToBytes=function(e){return new Uint8Array(n.from(e,"hex"))},t.bytesToHex=function(e){return n.from(e).toString("hex")}},4794:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9572),t)},4822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifySignIn=function(e,t){const{signedMessage:r,signature:i,account:{publicKey:o}}=t,a=s(e,t);return!!a&&(0,n.verifyMessageSignature)({message:a,signedMessage:r,signature:i,publicKey:o})},t.deriveSignInMessage=s,t.deriveSignInMessageText=o,t.parseSignInMessage=a,t.parseSignInMessageText=u,t.createSignInMessage=function(e){const t=l(e);return(new TextEncoder).encode(t)},t.createSignInMessageText=l;const n=r(5442),i=r(7096);function s(e,t){const r=o(e,t);return r?(new TextEncoder).encode(r):null}function o(e,t){const r=a(t.signedMessage);if(!r)return null;if(e.domain&&e.domain!==r.domain)return null;if(e.address&&e.address!==r.address)return null;if(e.statement!==r.statement)return null;if(e.uri!==r.uri)return null;if(e.version!==r.version)return null;if(e.chainId!==r.chainId)return null;if(e.nonce!==r.nonce)return null;if(e.issuedAt!==r.issuedAt)return null;if(e.expirationTime!==r.expirationTime)return null;if(e.notBefore!==r.notBefore)return null;if(e.requestId!==r.requestId)return null;if(e.resources){if(!r.resources)return null;if(!(0,i.arraysEqual)(e.resources,r.resources))return null}else if(r.resources)return null;return l(r)}function a(e){return u((new TextDecoder).decode(e))}const c=new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");function u(e){var t;const r=c.exec(e);if(!r)return null;const n=r.groups;return n?{domain:n.domain,address:n.address,statement:n.statement,uri:n.uri,version:n.version,nonce:n.nonce,chainId:n.chainId,issuedAt:n.issuedAt,expirationTime:n.expirationTime,notBefore:n.notBefore,requestId:n.requestId,resources:null===(t=n.resources)||void 0===t?void 0:t.split("\n- ").slice(1)}:null}function l(e){let t=`${e.domain} wants you to sign in with your Solana account:\n`;t+=`${e.address}`,e.statement&&(t+=`\n\n${e.statement}`);const r=[];if(e.uri&&r.push(`URI: ${e.uri}`),e.version&&r.push(`Version: ${e.version}`),e.chainId&&r.push(`Chain ID: ${e.chainId}`),e.nonce&&r.push(`Nonce: ${e.nonce}`),e.issuedAt&&r.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&r.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&r.push(`Not Before: ${e.notBefore}`),e.requestId&&r.push(`Request ID: ${e.requestId}`),e.resources){r.push("Resources:");for(const t of e.resources)r.push(`- ${t}`)}return r.length&&(t+=`\n\n${r.join("\n")}`),t}},4934:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},4967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNegativeLE=void 0,t.mod=p,t.pow=function(e,t,r){return O(A(r),e,t)},t.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},t.invert=y,t.tonelliShanks=w,t.FpSqrt=v,t.validateField=function(e){const t=E.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,n._validateObject)(e,t),e},t.FpPow=O,t.FpInvertBatch=S,t.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?y(r,e.ORDER):e.inv(r))},t.FpLegendre=_,t.FpIsSquare=function(e,t){return 1===_(e,t)},t.nLength=k,t.Field=A,t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},t.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,o=k(t).nByteLength+8;if(o<24||i<o||i>1024)throw new Error("hashToPrivateScalar: expected "+o+"-1024 bytes of input, got "+i);return p(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s},t.getFieldBytesLength=I,t.getMinHashLength=x,t.mapHashToField=function(e,t,r=!1){const i=e.length,o=I(t),a=x(t);if(i<16||i<a||i>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+i);const c=p(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(c,o):(0,n.numberToBytesBE)(c,o)};const n=r(8627),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(7),d=BigInt(8),h=BigInt(9),f=BigInt(16);function p(e,t){const r=e%t;return r>=i?r:t+r}function y(e,t){if(e===i)throw new Error("invert: expected non-zero number");if(t<=i)throw new Error("invert: expected positive modulus, got "+t);let r=p(e,t),n=t,o=i,a=s,c=s,u=i;for(;r!==i;){const e=n/r,t=n%r,i=o-c*e,s=a-u*e;n=r,r=t,o=c,a=u,c=i,u=s}if(n!==s)throw new Error("invert: does not exist");return p(o,t)}function g(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function m(e,t){const r=(e.ORDER+s)/c,n=e.pow(t,r);return g(e,n,t),n}function b(e,t){const r=(e.ORDER-u)/d,n=e.mul(t,o),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,o),i),c=e.mul(s,e.sub(a,e.ONE));return g(e,c,t),c}function w(e){if(e<a)throw new Error("sqrt is not defined for small field");let t=e-s,r=0;for(;t%o===i;)t/=o,r++;let n=o;const c=A(e);for(;1===_(c,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return m;let u=c.pow(n,t);const l=(t+s)/o;return function(e,n){if(e.is0(n))return n;if(1!==_(e,n))throw new Error("Cannot find square root");let i=r,o=e.mul(e.ONE,u),a=e.pow(n,t),c=e.pow(n,l);for(;!e.eql(a,e.ONE);){if(e.is0(a))return e.ZERO;let t=1,r=e.sqr(a);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=s<<BigInt(i-t-1),u=e.pow(o,n);i=t,o=e.sqr(u),a=e.mul(a,o),c=e.mul(c,u)}return c}}function v(e){return e%c===a?m:e%d===u?b:e%f===h?function(e){const t=A(e),r=w(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+l)/f;return(e,t)=>{let r=e.pow(t,o),a=e.mul(r,n);const c=e.mul(r,i),u=e.mul(r,s),l=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);r=e.cmov(r,a,l),a=e.cmov(u,c,d);const h=e.eql(e.sqr(a),t),f=e.cmov(r,a,h);return g(e,f,t),f}}(e):w(e)}t.isNegativeLE=(e,t)=>(p(e,t)&s)===s;const E=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O(e,t,r){if(r<i)throw new Error("invalid exponent, negatives unsupported");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;for(;r>i;)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n}function S(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function _(e,t){const r=(e.ORDER-s)/o,n=e.pow(t,r),i=e.eql(n,e.ONE),a=e.eql(n,e.ZERO),c=e.eql(n,e.neg(e.ONE));if(!i&&!a&&!c)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function k(e,t){void 0!==t&&(0,n.anumber)(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function A(e,t,r=!1,o={}){if(e<=i)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,c,u,l=!1;if("object"==typeof t&&null!=t){if(o.sqrt||r)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(a=e.BITS),e.sqrt&&(c=e.sqrt),"boolean"==typeof e.isLE&&(r=e.isLE),"boolean"==typeof e.modFromBytes&&(l=e.modFromBytes),u=e.allowedLengths}else"number"==typeof t&&(a=t),o.sqrt&&(c=o.sqrt);const{nBitLength:d,nByteLength:h}=k(e,a);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const g=Object.freeze({ORDER:e,isLE:r,BITS:d,BYTES:h,MASK:(0,n.bitMask)(d),ZERO:i,ONE:s,allowedLengths:u,create:t=>p(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isValidNot0:e=>!g.is0(e)&&g.isValid(e),isOdd:e=>(e&s)===s,neg:t=>p(-t,e),eql:(e,t)=>e===t,sqr:t=>p(t*t,e),add:(t,r)=>p(t+r,e),sub:(t,r)=>p(t-r,e),mul:(t,r)=>p(t*r,e),pow:(e,t)=>O(g,e,t),div:(t,r)=>p(t*y(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>y(t,e),sqrt:c||(t=>(f||(f=v(e)),f(g,t))),toBytes:e=>r?(0,n.numberToBytesLE)(e,h):(0,n.numberToBytesBE)(e,h),fromBytes:(t,i=!0)=>{if(u){if(!u.includes(t.length)||t.length>h)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+t.length);const e=new Uint8Array(h);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+t.length);let s=r?(0,n.bytesToNumberLE)(t):(0,n.bytesToNumberBE)(t);if(l&&(s=p(s,e)),!i&&!g.isValid(s))throw new Error("invalid field element: outside of range 0..ORDER");return s},invertBatch:e=>S(g,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(g)}function I(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function x(e){const t=I(e);return t+Math.ceil(t/2)}},4989:(e,t,r)=>{var n=r(1462);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},5100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_CHAINS=t.SOLANA_LOCALNET_CHAIN=t.SOLANA_TESTNET_CHAIN=t.SOLANA_DEVNET_CHAIN=t.SOLANA_MAINNET_CHAIN=void 0,t.isSolanaChain=function(e){return t.SOLANA_CHAINS.includes(e)},t.SOLANA_MAINNET_CHAIN="solana:mainnet",t.SOLANA_DEVNET_CHAIN="solana:devnet",t.SOLANA_TESTNET_CHAIN="solana:testnet",t.SOLANA_LOCALNET_CHAIN="solana:localnet",t.SOLANA_CHAINS=[t.SOLANA_MAINNET_CHAIN,t.SOLANA_DEVNET_CHAIN,t.SOLANA_TESTNET_CHAIN,t.SOLANA_LOCALNET_CHAIN]},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},5145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},5169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosRPCError=void 0;class r extends Error{constructor(e,t){super(t),this.name="CosmosRPCError",this.code=e;const n={error:{code:e,message:t}};this.rpcMessage=n,Object.setPrototypeOf(this,r.prototype)}}t.CosmosRPCError=r},5172:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};async function a(e,t){if(!e.features["iota:signAndExecuteTransaction"])throw new Error(`Provided wallet (${e.name}) does not support the signAndExecuteTransaction feature.`);return e.features["iota:signAndExecuteTransaction"].signAndExecuteTransaction(t)}async function c(e,t){if(!e.features["iota:signTransaction"])throw new Error(`Provided wallet (${e.name}) does not support the signTransaction feature.`);return e.features["iota:signTransaction"].signTransaction(t)}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{signAndExecuteTransaction:()=>a,signTransaction:()=>c}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},5192:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Arguments:()=>b.Arguments,AsyncCache:()=>p.AsyncCache,Commands:()=>d.Commands,Inputs:()=>l.Inputs,ObjectCache:()=>p.ObjectCache,ParallelTransactionExecutor:()=>g.ParallelTransactionExecutor,SerialTransactionExecutor:()=>y.SerialTransactionExecutor,Transaction:()=>h.Transaction,TransactionDataBuilder:()=>f.TransactionDataBuilder,UpgradePolicy:()=>d.UpgradePolicy,coinWithBalance:()=>m.coinWithBalance,getPureBcsSchema:()=>u.getPureBcsSchema,isTransaction:()=>h.isTransaction,normalizedTypeToMoveTypeSignature:()=>u.normalizedTypeToMoveTypeSignature}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(1234),l=r(5975),d=r(6456),h=r(7568),f=r(2984),p=r(4455),y=r(7358),g=r(9329),m=r(1823),b=r(7004)},5209:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?"%5B"+e.map(r).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?Object.assign({},e):e))}function n([e,t]){return`${e}=${r(t)}`}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeEncodedContext=function(e){const t=atob(e);return Object.fromEntries(new URLSearchParams(t).entries())},t.encodeContextObject=function(e){const t=Object.entries(e).map(n).join("&");return btoa(t)}},5355:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{formatAddress:()=>d,formatDigest:()=>h,formatType:()=>f,trimAddress:()=>y,trimOrFormatAddress:()=>g}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(4279);const l="…";function d(e){if(e.length<=6)return e;const t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}${l}${e.slice(-4)}`}function h(e){return`${e.slice(0,10)}${l}`}function f(e){const t=new RegExp(`0x[a-fA-F0-9]{${2*u.IOTA_ADDRESS_LENGTH}}`,"g"),r=e.match(t)??[];for(const t of r)((0,u.isValidIotaAddress)(t)||(0,u.isValidIotaObjectId)(t))&&(e=e.replace(t,d(t)));return e}const p=8;function y(e){return`0x${e.toLowerCase().replace(/^0x/,"").replace(/^0+/,"")||"0"}`}function g(e){if(e.length<=6)return e;const t=y(e);return t.length<=p?t:d(e)}},5403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5417:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4794),t),i(r(9888),t),i(r(3894),t),i(r(7744),t)},5442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyMessageSignature=s,t.verifySignMessage=function(e,t){const{message:r,account:{publicKey:n}}=e,{signedMessage:i,signature:o}=t;return s({message:r,signedMessage:i,signature:o,publicKey:n})};const n=r(459),i=r(7096);function s({message:e,signedMessage:t,signature:r,publicKey:s}){return(0,i.bytesEqual)(e,t)&&n.ed25519.verify(r,t,s)}},5496:function(e,t,r){"use strict";var n,i,s,o,a,c,u,l,d,h=r(8287).Buffer,f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},y=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},g=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmostationSolanaWallet=void 0;const m=g(r(8957)),b=r(5590),w=r(1910),v=r(3894),E=r(4189),O=r(9813),S=r(1138),_=r(963);t.CosmostationSolanaWallet=class{constructor(){this.url="https://www.cosmostation.io/",this.version="1.0.0",this.name=b.COSMOSTATION_WALLET_NAME,this.icon=b.COSMOSTATION_ENCODED_LOGO_IMAGE,this.chains=["solana:mainnet"],n.set(this,{}),this.accounts=[],i.set(this,null),s.set(this,()=>()=>{}),o.set(this,()=>f(this,void 0,void 0,function*(){try{if(!p(this,i,"f")){const e=yield(0,O.request)({method:"connect",params:void 0}),{publicKey:t}=e,r={publicKey:new Uint8Array(t.toBytes()),address:t.toBase58(),chains:["solana:mainnet"],features:[v.StandardConnect,v.StandardDisconnect,v.StandardEvents,E.SolanaSignAndSendTransaction,E.SolanaSignTransaction,E.SolanaSignMessage,E.SolanaSignIn]};return y(this,i,r,"f"),this.accounts=[r],{accounts:this.accounts}}return{accounts:this.accounts}}catch(e){return{accounts:[]}}})),a.set(this,()=>f(this,void 0,void 0,function*(){p(this,i,"f")&&(y(this,i,null,"f"),this.accounts=[])})),c.set(this,(...e)=>f(this,void 0,void 0,function*(){var t;const r=[];if(1===e.length){const{message:n,account:s}=e[0];if(s.address!==(null===(t=p(this,i,"f"))||void 0===t?void 0:t.address))throw new Error("invalid account");const o=yield(0,O.request)({method:"signMessage",params:{message:n}});r.push({signedMessage:n,signature:o.signature})}else if(e.length>1)for(const t of e)r.push(...yield p(this,c,"f").call(this,t));return r})),u.set(this,(...e)=>f(this,void 0,void 0,function*(){if(!p(this,i,"f"))throw new Error("not connected");const t=[];if(1===e.length){const{transaction:r,account:n,chain:s}=e[0];if(n.address!==p(this,i,"f").address)throw new Error("invalid account");if(s&&!(0,_.isSolanaChain)(s))throw new Error("invalid chain");const o=[{tx:S.VersionedTransaction.deserialize(r)}],a=yield(0,O.request)({method:"signTransaction",params:o});t.push({signedTransaction:a.tx})}else if(e.length>1){for(const t of e){const{account:e,chain:r}=t;if(e.address!==p(this,i,"f").address)throw new Error("invalid account");if(r&&!(0,_.isSolanaChain)(r))throw new Error("invalid chain")}const r=e.map(({transaction:e})=>({tx:S.VersionedTransaction.deserialize(e)})),n=yield(0,O.request)({method:"signAllTransactions",params:r});for(const{tx:e}of n)t.push({signedTransaction:e})}return t})),l.set(this,(...e)=>f(this,void 0,void 0,function*(){if(!p(this,i,"f"))throw new Error("not connected");const t=[];if(1===e.length){const{transaction:r,account:n,chain:s,options:o}=e[0],{minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:l}=o||{};if(n.address!==p(this,i,"f").address)throw new Error("invalid account");if(!(0,_.isSolanaChain)(s))throw new Error("invalid chain");const d=[{tx:S.VersionedTransaction.deserialize(r),minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:l}],h=yield(0,O.request)({method:"signAndSendTransaction",params:d});t.push({signature:m.default.decode(h.signature)})}else if(e.length>1)for(const r of e)t.push(...yield p(this,l,"f").call(this,r));return t})),d.set(this,(...e)=>f(this,void 0,void 0,function*(){var t;try{const r=[];if(1===e.length){const n=null===(t=p(this,i,"f"))||void 0===t?void 0:t.address;if(!n||!p(this,i,"f"))throw new Error("No account Error");const{domain:s,address:o=n}=e[0],a=(()=>{var e,t;if(s)return s;if("undefined"!=typeof window){const r=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href;return r?new URL(r).host:(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname)||"UNKNOWN"}return"UNKNOWN"})(),u=(0,w.createSignInMessageText)(Object.assign(Object.assign({},e[0]),{domain:a,address:o})),l=[{message:(new TextEncoder).encode(u),account:p(this,i,"f")}],d=(yield p(this,c,"f").call(this,...l))[0].signature;if(!d||!d.length)throw new Error("Failed to sign message");const f={address:n,publicKey:new Uint8Array(new S.PublicKey(n).toBytes()),label:b.COSMOSTATION_WALLET_NAME,chains:["solana:mainnet"],features:[v.StandardConnect,v.StandardDisconnect,v.StandardEvents,E.SolanaSignAndSendTransaction,E.SolanaSignTransaction,E.SolanaSignMessage,E.SolanaSignIn]};y(this,i,f,"f"),r.push({account:f,signedMessage:new Uint8Array(h.from(u,"utf8")),signature:d})}else if(e.length>1)for(const t of e)r.push(...yield p(this,d,"f").call(this,t));return r}catch(e){throw console.error("Error signing in:",e),e}})),this.request=O.request}get features(){return{[v.StandardConnect]:{version:"1.0.0",connect:p(this,o,"f")},[v.StandardDisconnect]:{version:"1.0.0",disconnect:p(this,a,"f")},[v.StandardEvents]:{version:"1.0.0",on:p(this,s,"f")},[E.SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:p(this,l,"f")},[E.SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:p(this,u,"f")},[E.SolanaSignMessage]:{version:"1.0.0",signMessage:p(this,c,"f")},[E.SolanaSignIn]:{version:"1.0.0",signIn:p(this,d,"f")}}}},n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap},5590:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COSMOSTATION_RDNS=t.COSMOSTATION_WALLET_NAME=t.COSMOSTATION_ENCODED_LOGO_IMAGE=void 0,t.COSMOSTATION_ENCODED_LOGO_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvxSURBVHgB7Z1/aF1nGce/TbauKy5mRKVKq6cIVbSjjSto62C3LQytKW7Yjnagvdsf04HSbhRFIjPKClPGGpmgDmYbRTd00slKh4UmKcy1f1iTsDokIvdWw6bTuDST1nSO7nzPyWlvb++9531Oz/vr5nzgadK7c0bveZ/3eZ9f73sWwSxra+RD8z9JgIVJNZSZeZkIZbxG2oLuUPaEMhLKG6FcLERJ+KwOhVKGp5OjhHjQfXngrguV4U54QDmUCvx6uD5JZf4ZO0cJxcAvSEUIUJh6m3IAFn2E3SgcOxeEY1CGQejZ74ffD60dZT8MECCOUX16MAtJxqBxSQhQOHo+SAUalCBAMfgLVgkCFIO/oJWgWPP9FfoE3WhBJ1pDz9KLFGRBQ5aFsiSU3yEDZfil7YU0lz1owqImnwdQMB8F3sBycy/i8vMVdDS5YQDF4LcTHMsDqheX4Zd5K0RdSqij0RJQwcLt0Gl3qqGsrP2gfgkooxj8diZAXeGo3gJ4PfuXLu7Gqg+UcONit9yX6TermHxtFI5QRY0VuK7mPzDeD+AhHPi+W7+NTbfsgatQCU5MHsThU9+BZQLEvsAo/1KbCHo0lI/CMzj4/V8Yw8dXfAYus/SG2DqRydeOwzJBKEP8paPmg8/DQ7ZvGETPTQF8oe/WAawNrCdXS5gP8ztqPvCOnncFWL9qF3xj+/r9keWyTJl/JArgZb5/V+kAfIQWywF/JbL4iQLcDs9Yv6p8aU31kc237I4smEWiXVkd8794l/al1+8zDFW3bzDSxtcMjvlaKkAJnsHB98nxawadwVXvL8EikQIE8AiazU2r3Y33pVi2ZJECrIFH9K0biGLqdoF+jEWHMGAqmHX/tfAAzv5991RE90z/t4rp2SpM0tMViBy88xdm0P/LlTh3YQaGqTIV7M10emjriOh6Dv7jz2+M0rAm4bou+bfSIaQVOHxqAKbxxgdg2Cd1/I69/APjg09Y+DkxOSS6J3JszYeFQQc8ICn2SODsH355ELbgbJaadBuJLS8UYBOTJsLZf/gPdqtutDzDoQWSQIfQdFjovALQLLKAIoFlV4ptaIFoiSSYtgLOKwDDPinaa+5dXcCerwP3fbnlZVwCfv3Sg5BASydV+GvBaQVgpkxa7Rs+rdnx+9SngSOjsQJQut7d8vLx6nOYfHUUElgnMFUtdFoBWDaVQHN7TJfj97HVwDO/jWX5B+PPOPgpVoBILRLDws8ZyhA6qwBZwj46frnPfpr7h/fFs56zvx5ageUrWv4vGBZKHcLNYV7AhEPopALEjp887Mvd8ePsfnEsfZY/9kOkkSUsNFEncFIB6PhJZ//QyL3IDc7oIyPxzE9Z4yNoGRpZhxo4+FnCQt3tY84pQJY2L878XNuuZ2fVBr6Wx55IvYRWQBoW6m4fY1fwAByCcfCybllz8o+P3hUVVHJjbg6Y+juw9S71exKFOfn7lpdN/XsC6z9ShiqsfL719py2fQVOWQA6flKTRw9bS9h39EjqYF4FfYUUy8GBzBIW6qoTOKUAmfL9pzXm+we/L7o8GnxGBSkMHZf5Kzrbx5xRgCxtXgz7zs1prKHTAvz0J6JbIiuQ4hBmqRPoah9zQgFix68suUVP2NcIWoHZs6JbVKyAK2GhE07g3RsGxS3e+37Tm6/j1ww6hDcsSZ3VV8BM4Sungb/+peklb739P/w/dO4kW9poIc9dOIvK6yeRF9YtQNawz2ijB5eBqb+JbsHDj6Q6hExbSx3CraEVyDMstK4AD9xxSHQ9zabxHbZcAvZ+TXRLZAU01QnybCK1qgBc95e/R9aPOmypzStyCLOEhQp1AqkVyLN9zKoCZAn7bDROXuK7/aLL47DwG6mXMSy01T5mTQGyVvusQsdOGhZu26ElLGTreR6+gDUF2Lx6t+h6Nla40OalKyxUbR9LfCBGQXnsI7AWBt75yUdxfecS5eufeOGzZsK+NBgWUm7frH4PHUJGEbQgTWBYeH7ubMtUOCfAU8d2YiKcDLw+D6xZgPPCDN4a+6dqXIbLQIvBbIhCaTmqar46etXn/IwbXIZG783dAbamANJzcvKOf6+ZLA6hMCykif/ViQfx+OGN2qqB1pYAWgBJWZTLxXWhvDKV6eDr/GG5mM5d0h+oAvsKnz8U9xs0gX7A0sU340/h93xqeKc4RJTCzaEXYYldpYPiLCA3UUqbKrQRdQ6NyppHmEvY4c55XFbzAL5sn2oKrYA0LFRoHzOJVQXwZftUS6gA0rCQDqEjWK8F+LB9qiUcfKlDSF9AwSE0gfVyMOPZ/7x5Bus+vEP5nviEkEXunL/LkFDqEPauA34xFOcULOJEQ4jr26eU0NQ+phtnuoKnQyvgfVhIC0DzrgqtwLNPtwwLdWPOAnCLVQtc3j6lzOD35A6hwq4inehXAK6NL/4RePLnqZe6un1KGQ/DQn1LAJMkHPRkC7ViQeT6zhtF/YEsKU9NT+AfM3+GE/D7cUOJdGfR0Rdgg/wtQHJ4AjdV1mu2QkHExe1TIqKw8FuiW2xagHwVINlN28y7VSyISDd6OnL69mVS2sCugkuHJfJRAGowD05Q2U2rqU/OgdO3Y/jdpEkerxWAA/7kz9TNGK9X8HyzbJ/qW+eAQ8geQElCiDB6sMS1KwDXPA2eL+sE0pbp6B0CNsNCzv5t6hnNiGefaYMlQFNBhHUCr8JCaUzPqMji7Cf5hIHMZ//rdeCOLer3vPd9sdKMnWp6SdbtU8wqTk2Pwyic+fd9RXRLNHEshX8J+TaE0BGUhDRUgNs+kWo9HuobEeUGrJy+zWSXZO3n7Od3t0y+YaCmgojt7VOpRCeFSR0/4bPSRL4KwHYnOjUSfA8Ls4R9PH1E+pw0kX8mUFNBRLp9ilbASOMIwz5p2lfaQKKR/BVAU0HEyfYxD8O+evRUA7Psp1c4Zi1LWHi3zlez0emV4EDYV4+eaqCmY9YYFs6e+6foJLGupctyP1UjgjN/207RLZHpP/kSXELvvoB2DQtZ8eR+AA/Dvnr0NoQ4EBZy0PnuoEjV84IJH2nYJy0RG0JvTyCXAQ4qe99U4bVcBlo4SuwX6LlpJVb0tD5dRMdu2kuNLhLo+P1I5sCaQv/WMCoAs2Q5b59iA8gj91QaNoIwZ0AroaVtnCGr1PO/rdcpz78W/T2BWauFKXWFRqdv0zJwC7W23bT8d0kHn8ugo4NPzG0OzZIr37KxpUPI2d+/bSxK+lAZeGys1pNDs3wHWrJCAXC5a0gCZ0+KI7k89APo5Ws/OYwzX1ru3ftVZ1K+zTC7PTxLWLilZH8G0fGrfVeQCo6GffWY3RrGGSFB8Zg17WQJ++7/EnzArAJkqRMoHLOmlSzVPpp96RlCljC/OVTTMWvayGKBHMv3t4Kvj6/C5BvEOfhUAskhCbQAnIWso5uEoWibhX11VOkEVmDjFfLMpUt20vqAJ45fDeNcAiZgA4eaInLDkTYvATNUgCpskOX0bZeh0+d4zN+ACSqA4f7pGhgWSh1CV7n/i/CQql0FyBIWuohjbV4CRpMq+Ruh2NlfnaVa6BIe5PubwKLJzUkewJ4VyHLMmkv4O/ujw5oTBRBWaXKGD9FHhzBq8vTO8094jn8kCnAQtvHxQfo7+GSUfyQKMJN8YA1aAOmbuWzCwfcv7Eugxa/yl86aD8+EUoZNolj66dAh7I47b11zDOmvHB8G+vf6PPjkm6FEp2rV98raSQsXmKQaysrkL/XVQMuv5SowwBVj3KhbvrAC7UsVNbOfNOoHkJ3OVOATyhZ+BHGvYCHtIwfQgGYbpoJQxmArPVyQNwzze9Gg8tvZ4ga+yUD9dKYCl3kAGfM8g/DLzBVytQziGuASMAbgYiFeSi5FvgBxaOjLly4klgpyDOcDFEqwYAc/IUChBAt28BMCFD6ByzIOQ1ncIjpwTzgmRvM2ZcS9hD49pHYUjoG116UEiLuJfHpg7SQjcKRwV0bhIJqUSiglOEgZhSLoHvgyPIBHeR6CXw/XZRmBozM+jQCxxlIZCodRXfisRhA7d1o9+zzPz1SBJzuWECvGGsRfrhsLtwOpOv+T8fuZ+Z+JGOEd+e5WzUnmzPkAAAAASUVORK5CYII=",t.COSMOSTATION_WALLET_NAME="Cosmostation Wallet",t.COSMOSTATION_RDNS="io.cosmostation"},5606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=o(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5621:(e,t,r)=>{"use strict";var n=r(2861).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===c;)i++,r++;for(var o=(e.length-r)*u+1>>>0,l=new Uint8Array(o);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,r++}for(var y=o-s;y!==o&&0===l[y];)y++;var g=n.allocUnsafe(i+(o-y));g.fill(0,0,i);for(var m=i;y!==o;)g[m++]=l[y++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var u=(o-s)*l+1>>>0,d=new Uint8Array(u);s!==o;){for(var h=t[s],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var y=u-i;y!==u&&0===d[y];)y++;for(var g=c.repeat(r);y<u;++y)g+=e.charAt(d[y]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},5773:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){function t(t){return e(t)}return t.system=()=>t("0x5"),t.clock=()=>t("0x6"),t.random=()=>t("0x8"),t.denyList=()=>t("0x403"),t.option=({type:e,value:t})=>r=>r.moveCall({typeArguments:[e],target:"0x1::option::"+(null===t?"none":"some"),arguments:null===t?[]:[r.object(t)]}),t}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{createObjectMethods:()=>a}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},5898:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{DataLoader:()=>p.DataLoader,chunk:()=>h.chunk,fromBase58:()=>u.fromBase58,fromBase64:()=>l.fromBase64,fromHex:()=>d.fromHex,promiseWithResolvers:()=>f.promiseWithResolvers,toBase58:()=>u.toBase58,toBase64:()=>l.toBase64,toHex:()=>d.toHex}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6561),l=r(842),d=r(8171),h=r(9391),f=r(3839),p=r(9279)},5936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tendermint=t.cosmos=t.cosmosWallet=t.keplr=void 0;const n=r(3365),i=r(5590),s=r(2413),o=r(9617);t.keplr={mode:"extension",version:"0.0.0",defaultOptions:{sign:{disableBalanceCheck:!1,preferNoSetFee:!1,preferNoSetMemo:!1}},enable:n.keplrAPIs.enable,getKey:n.keplrAPIs.getKey,experimentalSuggestChain:n.keplrAPIs.experimentalSuggestChain,signAmino:n.keplrAPIs.signAmino,signDirect:n.keplrAPIs.signDirect,sendTx:n.keplrAPIs.sendTx,getOfflineSigner:n.keplrAPIs.getOfflineSigner,getOfflineSignerOnlyAmino:n.keplrAPIs.getOfflineSignerOnlyAmino,getOfflineSignerAuto:n.keplrAPIs.getOfflineSignerAuto,signArbitrary:n.keplrAPIs.signArbitrary,verifyArbitrary:n.keplrAPIs.verifyArbitrary,suggestToken:n.keplrAPIs.suggestToken},t.cosmosWallet={name:i.COSMOSTATION_WALLET_NAME,logo:i.COSMOSTATION_ENCODED_LOGO_IMAGE,methods:{connect:o.walletsAPIs.connect,getAccount:o.walletsAPIs.getAccount,signAmino:o.walletsAPIs.signAmino,signDirect:o.walletsAPIs.signDirect,sendTransaction:o.walletsAPIs.sendTransaction,signMessage:o.walletsAPIs.signMessage,verifyMessage:o.walletsAPIs.verifyMessage,disconnect:o.walletsAPIs.disconnect,addChain:o.walletsAPIs.addChain,getSupportedChainIds:o.walletsAPIs.getSupportedChainIds},events:{on:o.walletsAPIs.on,off:o.walletsAPIs.off}};const a=(e,t)=>{},c=(e,t)=>{};t.cosmos={on:a,off:c,request:s.request},t.tendermint={on:a,off:c,request:s.request}},5970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHumanReadableErrorMessage=function(e,t={}){const r=i.WalletStandardErrorMessages[e];if(0===r.length)return"";let n;function c(e){if(n[a]===s.Variable){const i=r.slice(n[o]+1,e);u.push(i in t?`${t[i]}`:`$${i}`)}else n[a]===s.Text&&u.push(r.slice(n[o],e))}const u=[];return r.split("").forEach((e,t)=>{if(0===t)return void(n={[o]:0,[a]:"\\"===r[0]?s.EscapeSequence:"$"===r[0]?s.Variable:s.Text});let i;switch(n[a]){case s.EscapeSequence:i={[o]:t,[a]:s.Text};break;case s.Text:"\\"===e?i={[o]:t,[a]:s.EscapeSequence}:"$"===e&&(i={[o]:t,[a]:s.Variable});break;case s.Variable:"\\"===e?i={[o]:t,[a]:s.EscapeSequence}:"$"===e?i={[o]:t,[a]:s.Variable}:e.match(/\w/)||(i={[o]:t,[a]:s.Text})}i&&(n!==i&&c(t),n=i)}),c(),u.join("")},t.getErrorMessage=function(e,t={}){{let r=`Wallet Standard error #${e}; Decode this error by running \`npx @wallet-standard/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${(0,n.encodeContextObject)(t)}'`),`${r}\``}};const n=r(5209),i=r(6556);var s;!function(e){e[e.EscapeSequence=0]="EscapeSequence",e[e.Text=1]="Text",e[e.Variable=2]="Variable"}(s||(s={}));const o="i",a="t"},5975:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Inputs:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(4279);const d={Pure:function(e){return{$kind:"Pure",Pure:{bytes:e instanceof Uint8Array?(0,u.toBase64)(e):e.toBase64()}}},ObjectRef:({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:r,objectId:(0,l.normalizeIotaAddress)(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:r,objectId:(0,l.normalizeIotaAddress)(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:r,objectId:(0,l.normalizeIotaAddress)(e)}}})}},6107:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{IOTA_CLOCK_OBJECT_ID:()=>y,IOTA_DECIMALS:()=>l,IOTA_FRAMEWORK_ADDRESS:()=>f,IOTA_SYSTEM_ADDRESS:()=>p,IOTA_SYSTEM_MODULE_NAME:()=>g,IOTA_SYSTEM_STATE_OBJECT_ID:()=>b,IOTA_TYPE_ARG:()=>m,MOVE_STDLIB_ADDRESS:()=>h,NANOS_PER_IOTA:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(4279);const l=9,d=BigInt(1e9),h="0x1",f="0x2",p="0x3",y=(0,u.normalizeIotaObjectId)("0x6"),g="iota_system",m=`${f}::iota::IOTA`,b=(0,u.normalizeIotaObjectId)("0x5")},6156:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},6197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOCALNET_ENDPOINT=t.TESTNET_ENDPOINT=t.DEVNET_ENDPOINT=t.MAINNET_ENDPOINT=void 0,t.getChainForEndpoint=function(e){return e.includes(t.MAINNET_ENDPOINT)?n.SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(e)?n.SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(e)?n.SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?n.SOLANA_LOCALNET_CHAIN:n.SOLANA_MAINNET_CHAIN},t.getEndpointForChain=function(e,r){return r||(e===n.SOLANA_MAINNET_CHAIN?t.MAINNET_ENDPOINT:e===n.SOLANA_DEVNET_CHAIN?t.DEVNET_ENDPOINT:e===n.SOLANA_TESTNET_CHAIN?t.TESTNET_ENDPOINT:e===n.SOLANA_LOCALNET_CHAIN?t.LOCALNET_ENDPOINT:t.MAINNET_ENDPOINT)};const n=r(5100);t.MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com",t.DEVNET_ENDPOINT="https://api.devnet.solana.com",t.TESTNET_ENDPOINT="https://api.testnet.solana.com",t.LOCALNET_ENDPOINT="http://localhost:8899"},6228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(6619),i=r(5104);t.request=function(e){return new Promise((t,r)=>{const s=(0,i.uuidv4)(),o=e=>{var n,i,a;if((null===(n=e.data)||void 0===n?void 0:n.isCosmostation)&&(null===(i=e.data)||void 0===i?void 0:i.messageId)===s){window.removeEventListener("message",o);const{data:n}=e;(null===(a=n.response)||void 0===a?void 0:a.error)?r(n.response.error):t(n.response.result)}};window.addEventListener("message",o),(0,n.sendMessageWebToApp)(e,s)})}},6252:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{BcsType:()=>_,SerializedBcs:()=>I,bigUIntBcsType:()=>B,dynamicSizeBcsType:()=>P,fixedSizeBcsType:()=>x,isSerializedBcs:()=>A,lazyBcsType:()=>M,stringLikeBcsType:()=>j,uIntBcsType:()=>T}),e.exports=(n=f,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,g,m,b=r(1741),w=r(2750),v=r(3431),E=r(9511),O=r(3810),S=r(343);p=new WeakMap,y=new WeakMap;let _=class e{constructor(e){d(this,p),d(this,y),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),h(this,p,e.write),h(this,y,e.serialize??((e,t)=>{const r=new S.BcsWriter({initialSize:this.serializedSize(e)??void 0,...t});return l(this,p).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),l(this,p).call(this,e,t)}serialize(e,t){return this.validate(e),new I(this,l(this,y).call(this,e,t))}parse(e){const t=new E.BcsReader(e);return this.read(t)}fromHex(e){return this.parse((0,v.fromHex)(e))}fromBase58(e){return this.parse((0,b.fromBase58)(e))}fromBase64(e){return this.parse((0,w.fromBase64)(e))}transform({name:t,input:r,output:n,validate:i}){return new e({name:t??this.name,read:e=>n?n(this.read(e)):this.read(e),write:(e,t)=>l(this,p).call(this,r?r(e):e,t),serializedSize:e=>this.serializedSize(r?r(e):e),serialize:(e,t)=>l(this,y).call(this,r?r(e):e,t),validate:e=>{i?.(e),this.validate(r?r(e):e)}})}};const k=Symbol.for("@iota/serialized-bcs");function A(e){return!!e&&"object"==typeof e&&!0===e[k]}class I{constructor(e,t){d(this,g),d(this,m),h(this,g,e),h(this,m,t)}get[k](){return!0}toBytes(){return l(this,m)}toHex(){return(0,v.toHex)(l(this,m))}toBase64(){return(0,w.toBase64)(l(this,m))}toBase58(){return(0,b.toBase58)(l(this,m))}parse(){return l(this,g).parse(l(this,m))}}function x({size:e,...t}){return new _({...t,serializedSize:()=>e})}function T({readMethod:e,writeMethod:t,...r}){return x({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function B({readMethod:e,writeMethod:t,...r}){return x({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}function P({serialize:e,...t}){const r=new _({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}function j({toBytes:e,fromBytes:t,...r}){return new _({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=(0,O.ulebEncode)(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}function M(e){let t=null;function r(){return t||(t=e()),t}return new _({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}g=new WeakMap,m=new WeakMap},6377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrimeEdwardsPoint=void 0,t.edwards=l,t.eddsa=d,t.twistedEdwards=function(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:i}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:(0,s.Field)(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},n={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:r,hash:e.hash,eddsaOpts:n}}(e);return function(e,t){const r=t.Point;return Object.assign({},t,{ExtendedPoint:r,CURVE:e,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}(e,d(l(t,r),n,i))};const n=r(8627),i=r(2422),s=r(4967),o=BigInt(0),a=BigInt(1),c=BigInt(2),u=BigInt(8);function l(e,t={}){const r=(0,i._createCurveFields)("edwards",e,t,t.FpFnLE),{Fp:s,Fn:l}=r;let d=r.CURVE;const{h}=d;(0,n._validateObject)(t,{},{uvRatio:"function"});const f=c<<BigInt(8*l.BYTES)-a,p=e=>s.create(e),y=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:s.sqrt(s.div(e,t))}}catch(e){return{isValid:!1,value:o}}});if(!function(e,t,r,n){const i=e.sqr(r),s=e.sqr(n),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}(s,d,d.Gx,d.Gy))throw new Error("bad curve params: generator point");function g(e,t,r=!1){const i=r?a:o;return(0,n.aInRange)("coordinate "+e,t,i,f),t}function m(e){if(!(e instanceof v))throw new Error("ExtendedPoint expected")}const b=(0,n.memoized)((e,t)=>{const{X:r,Y:n,Z:i}=e,c=e.is0();null==t&&(t=c?u:s.inv(i));const l=p(r*t),d=p(n*t),h=s.mul(i,t);if(c)return{x:o,y:a};if(h!==a)throw new Error("invZ was invalid");return{x:l,y:d}}),w=(0,n.memoized)(e=>{const{a:t,d:r}=d;if(e.is0())throw new Error("bad point: ZERO");const{X:n,Y:i,Z:s,T:o}=e,a=p(n*n),c=p(i*i),u=p(s*s),l=p(u*u),h=p(a*t);if(p(u*p(h+c))!==p(l+p(r*p(a*c))))throw new Error("bad point: equation left != right (1)");if(p(n*i)!==p(s*o))throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(e,t,r,n){this.X=g("x",e),this.Y=g("y",t),this.Z=g("z",r,!0),this.T=g("t",n),Object.freeze(this)}static CURVE(){return d}static fromAffine(e){if(e instanceof v)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return g("x",t),g("y",r),new v(t,r,a,p(t*r))}static fromBytes(e,t=!1){const r=s.BYTES,{a:i,d:c}=d;e=(0,n.copyBytes)((0,n._abytes2)(e,r,"point")),(0,n._abool2)(t,"zip215");const u=(0,n.copyBytes)(e),l=e[r-1];u[r-1]=-129&l;const h=(0,n.bytesToNumberLE)(u),g=t?f:s.ORDER;(0,n.aInRange)("point.y",h,o,g);const m=p(h*h),b=p(m-a),w=p(c*m-i);let{isValid:E,value:O}=y(b,w);if(!E)throw new Error("bad point: invalid y coordinate");const S=(O&a)===a,_=!!(128&l);if(!t&&O===o&&_)throw new Error("bad point: x=0 and x_0=1");return _!==S&&(O=p(-O)),v.fromAffine({x:O,y:h})}static fromHex(e,t=!1){return v.fromBytes((0,n.ensureBytes)("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return E.createCache(this,e),t||this.multiply(c),this}assertValidity(){w(this)}equals(e){m(e);const{X:t,Y:r,Z:n}=this,{X:i,Y:s,Z:o}=e,a=p(t*o),c=p(i*n),u=p(r*o),l=p(s*n);return a===c&&u===l}is0(){return this.equals(v.ZERO)}negate(){return new v(p(-this.X),this.Y,this.Z,p(-this.T))}double(){const{a:e}=d,{X:t,Y:r,Z:n}=this,i=p(t*t),s=p(r*r),o=p(c*p(n*n)),a=p(e*i),u=t+r,l=p(p(u*u)-i-s),h=a+s,f=h-o,y=a-s,g=p(l*f),m=p(h*y),b=p(l*y),w=p(f*h);return new v(g,m,w,b)}add(e){m(e);const{a:t,d:r}=d,{X:n,Y:i,Z:s,T:o}=this,{X:a,Y:c,Z:u,T:l}=e,h=p(n*a),f=p(i*c),y=p(o*r*l),g=p(s*u),b=p((n+i)*(a+c)-h-f),w=g-y,E=g+y,O=p(f-t*h),S=p(b*w),_=p(E*O),k=p(b*O),A=p(w*E);return new v(S,_,A,k)}subtract(e){return this.add(e.negate())}multiply(e){if(!l.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:r}=E.cached(this,e,e=>(0,i.normalizeZ)(v,e));return(0,i.normalizeZ)(v,[t,r])[0]}multiplyUnsafe(e,t=v.ZERO){if(!l.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===o?v.ZERO:this.is0()||e===a?this:E.unsafe(this,e,e=>(0,i.normalizeZ)(v,e),t)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return E.unsafe(this,d.n).is0()}toAffine(e){return b(this,e)}clearCofactor(){return h===a?this:this.multiplyUnsafe(h)}toBytes(){const{x:e,y:t}=this.toAffine(),r=s.toBytes(t);return r[r.length-1]|=e&a?128:0,r}toHex(){return(0,n.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return(0,i.normalizeZ)(v,e)}static msm(e,t){return(0,i.pippenger)(v,l,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}v.BASE=new v(d.Gx,d.Gy,a,p(d.Gx*d.Gy)),v.ZERO=new v(o,a,a,o),v.Fp=s,v.Fn=l;const E=new i.wNAF(v,l.BITS);return v.BASE.precompute(8),v}function d(e,t,r={}){if("function"!=typeof t)throw new Error('"hash" function param is required');(0,n._validateObject)(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=r,{BASE:s,Fp:o,Fn:c}=e,u=r.randomBytes||n.randomBytes,l=r.adjustScalarBytes||(e=>e),d=r.domain||((e,t,r)=>{if((0,n._abool2)(r,"phflag"),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function h(e){return c.create((0,n.bytesToNumberLE)(e))}function f(e){const{head:r,prefix:i,scalar:o}=function(e){const r=b.secretKey;e=(0,n.ensureBytes)("private key",e,r);const i=(0,n.ensureBytes)("hashed private key",t(e),2*r),s=l(i.slice(0,r));return{head:s,prefix:i.slice(r,2*r),scalar:h(s)}}(e),a=s.multiply(o),c=a.toBytes();return{head:r,prefix:i,scalar:o,point:a,pointBytes:c}}function p(e){return f(e).pointBytes}function y(e=Uint8Array.of(),...r){const s=(0,n.concatBytes)(...r);return h(t(d(s,(0,n.ensureBytes)("context",e),!!i)))}const g={zip215:!0},m=o.BYTES,b={secretKey:m,publicKey:m,signature:2*m,seed:m};function w(e=u(b.seed)){return(0,n._abytes2)(e,b.seed,"seed")}const v={getExtendedPublicKey:f,randomSecretKey:w,isValidSecretKey:function(e){return(0,n.isBytes)(e)&&e.length===c.BYTES},isValidPublicKey:function(t,r){try{return!!e.fromBytes(t,r)}catch(e){return!1}},toMontgomery(t){const{y:r}=e.fromBytes(t),n=b.publicKey,i=32===n;if(!i&&57!==n)throw new Error("only defined for 25519 and 448");const s=i?o.div(a+r,a-r):o.div(r-a,r+a);return o.toBytes(s)},toMontgomerySecret(e){const r=b.secretKey;(0,n._abytes2)(e,r);const i=t(e.subarray(0,r));return l(i).subarray(0,r)},randomPrivateKey:w,precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=v.randomSecretKey(e);return{secretKey:t,publicKey:p(t)}},getPublicKey:p,sign:function(e,t,r={}){e=(0,n.ensureBytes)("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:u}=f(t),l=y(r.context,o,e),d=s.multiply(l).toBytes(),h=y(r.context,d,u,e),p=c.create(l+h*a);if(!c.isValid(p))throw new Error("sign failed: invalid s");const g=(0,n.concatBytes)(d,c.toBytes(p));return(0,n._abytes2)(g,b.signature,"result")},verify:function(t,r,o,a=g){const{context:c,zip215:u}=a,l=b.signature;t=(0,n.ensureBytes)("signature",t,l),r=(0,n.ensureBytes)("message",r),o=(0,n.ensureBytes)("publicKey",o,b.publicKey),void 0!==u&&(0,n._abool2)(u,"zip215"),i&&(r=i(r));const d=l/2,h=t.subarray(0,d),f=(0,n.bytesToNumberLE)(t.subarray(d,l));let p,m,w;try{p=e.fromBytes(o,u),m=e.fromBytes(h,u),w=s.multiplyUnsafe(f)}catch(e){return!1}if(!u&&p.isSmallOrder())return!1;const v=y(c,m.toBytes(),p.toBytes(),r);return m.add(p.multiplyUnsafe(v)).subtract(w).clearCofactor().is0()},utils:v,Point:e,lengths:b})}t.PrimeEdwardsPoint=class{constructor(e){this.ep=e}static fromBytes(e){(0,n.notImplemented)()}static fromHex(e){(0,n.notImplemented)()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,n.bytesToHex)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}},6446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaSignAndSendTransaction=void 0,t.SolanaSignAndSendTransaction="solana:signAndSendTransaction"},6456:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Commands:()=>p,UpgradePolicy:()=>f}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(9415),d=r(4279),h=r(7784),f=(e=>(e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY",e))(f||{});const p={MoveCall(e){const[t,r="",n=""]="target"in e?e.target.split("::"):[e.package,e.module,e.function];return{$kind:"MoveCall",MoveCall:{package:t,module:r,function:n,typeArguments:e.typeArguments??[],arguments:e.arguments??[]}}},TransferObjects:(e,t)=>({$kind:"TransferObjects",TransferObjects:{objects:e.map(e=>(0,l.parse)(h.Argument,e)),address:(0,l.parse)(h.Argument,t)}}),SplitCoins:(e,t)=>({$kind:"SplitCoins",SplitCoins:{coin:(0,l.parse)(h.Argument,e),amounts:t.map(e=>(0,l.parse)(h.Argument,e))}}),MergeCoins:(e,t)=>({$kind:"MergeCoins",MergeCoins:{destination:(0,l.parse)(h.Argument,e),sources:t.map(e=>(0,l.parse)(h.Argument,e))}}),Publish:({modules:e,dependencies:t})=>({$kind:"Publish",Publish:{modules:e.map(e=>"string"==typeof e?e:(0,u.toBase64)(new Uint8Array(e))),dependencies:t.map(e=>(0,d.normalizeIotaObjectId)(e))}}),Upgrade:({modules:e,dependencies:t,package:r,ticket:n})=>({$kind:"Upgrade",Upgrade:{modules:e.map(e=>"string"==typeof e?e:(0,u.toBase64)(new Uint8Array(e))),dependencies:t.map(e=>(0,d.normalizeIotaObjectId)(e)),package:r,ticket:(0,l.parse)(h.Argument,n)}}),MakeMoveVec:({type:e,elements:t})=>({$kind:"MakeMoveVec",MakeMoveVec:{type:e??null,elements:t.map(e=>(0,l.parse)(h.Argument,e))}}),Intent:({name:e,inputs:t={},data:r={}})=>({$kind:"$Intent",$Intent:{name:e,inputs:Object.fromEntries(Object.entries(t).map(([e,t])=>[e,Array.isArray(t)?t.map(e=>(0,l.parse)(h.Argument,e)):(0,l.parse)(h.Argument,t)])),data:r}})}},6556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletStandardErrorMessages=void 0;const n=r(8940);t.WalletStandardErrorMessages={[n.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED]:"The wallet account $address does not support the chain `$chain`",[n.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED]:"The wallet account $address does not support the `$featureName` feature",[n.WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED]:"The wallet '$walletName' does not support the `$featureName` feature",[n.WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND]:"No account with address $address could be found in the '$walletName' wallet",[n.WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND]:"No underlying Wallet Standard wallet could be found for this handle. This can happen if the wallet associated with the handle has been unregistered.",[n.WALLET_STANDARD_ERROR__USER__REQUEST_REJECTED]:"The user rejected the request"}},6561:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{fromBase58:()=>d,toBase58:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3203);const l=e=>u.base58.encode(e),d=e=>u.base58.decode(e)},6597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaSignMessage=void 0,t.SolanaSignMessage="solana:signMessage"},6599:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Address:()=>h,AppId:()=>C,Argument:()=>E,CallArg:()=>b,Command:()=>S,CompressedSignature:()=>L,GasData:()=>T,Intent:()=>R,IntentMessage:()=>N,IntentScope:()=>j,IntentVersion:()=>M,IotaObjectRef:()=>p,MultiSig:()=>q,MultiSigPkMap:()=>U,MultiSigPublicKey:()=>z,ObjectArg:()=>g,ObjectDigest:()=>f,Owner:()=>m,PasskeyAuthenticator:()=>W,ProgrammableMoveCall:()=>O,ProgrammableTransaction:()=>k,PublicKey:()=>D,SenderSignedData:()=>$,SenderSignedTransaction:()=>H,SharedObjectRef:()=>y,StructTag:()=>x,TransactionData:()=>P,TransactionDataV1:()=>B,TransactionExpiration:()=>I,TransactionKind:()=>A,TypeTag:()=>v,base64String:()=>V}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(4279),d=r(1895);const h=u.bcs.bytes(l.IOTA_ADDRESS_LENGTH).transform({validate:e=>{const t="string"==typeof e?e:(0,u.toHex)(e);if(!t||!(0,l.isValidIotaAddress)((0,l.normalizeIotaAddress)(t)))throw new Error(`Invalid IOTA address ${t}`)},input:e=>"string"==typeof e?(0,u.fromHex)((0,l.normalizeIotaAddress)(e)):e,output:e=>(0,l.normalizeIotaAddress)((0,u.toHex)(e))}),f=u.bcs.vector(u.bcs.u8()).transform({name:"ObjectDigest",input:e=>(0,u.fromBase58)(e),output:e=>(0,u.toBase58)(new Uint8Array(e)),validate:e=>{if(32!==(0,u.fromBase58)(e).length)throw new Error("ObjectDigest must be 32 bytes")}}),p=u.bcs.struct("IotaObjectRef",{objectId:h,version:u.bcs.u64(),digest:f}),y=u.bcs.struct("SharedObjectRef",{objectId:h,initialSharedVersion:u.bcs.u64(),mutable:u.bcs.bool()}),g=u.bcs.enum("ObjectArg",{ImmOrOwnedObject:p,SharedObject:y,Receiving:p}),m=u.bcs.enum("Owner",{AddressOwner:h,ObjectOwner:h,Shared:u.bcs.struct("Shared",{initialSharedVersion:u.bcs.u64()}),Immutable:null}),b=u.bcs.enum("CallArg",{Pure:u.bcs.struct("Pure",{bytes:u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))})}),Object:g}),w=u.bcs.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:u.bcs.lazy(()=>w),struct:u.bcs.lazy(()=>x),u16:null,u32:null,u256:null}),v=w.transform({input:e=>"string"==typeof e?d.TypeTagSerializer.parseFromStr(e,!0):e,output:e=>d.TypeTagSerializer.tagToString(e)}),E=u.bcs.enum("Argument",{GasCoin:null,Input:u.bcs.u16(),Result:u.bcs.u16(),NestedResult:u.bcs.tuple([u.bcs.u16(),u.bcs.u16()])}),O=u.bcs.struct("ProgrammableMoveCall",{package:h,module:u.bcs.string(),function:u.bcs.string(),typeArguments:u.bcs.vector(v),arguments:u.bcs.vector(E)}),S=u.bcs.enum("Command",{MoveCall:O,TransferObjects:u.bcs.struct("TransferObjects",{objects:u.bcs.vector(E),address:E}),SplitCoins:u.bcs.struct("SplitCoins",{coin:E,amounts:u.bcs.vector(E)}),MergeCoins:u.bcs.struct("MergeCoins",{destination:E,sources:u.bcs.vector(E)}),Publish:u.bcs.struct("Publish",{modules:u.bcs.vector(u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))})),dependencies:u.bcs.vector(h)}),MakeMoveVec:u.bcs.struct("MakeMoveVec",{type:(_=v,u.bcs.enum("Option",{None:null,Some:_})).transform({input:e=>null===e?{None:!0}:{Some:e},output:e=>e.Some??null}),elements:u.bcs.vector(E)}),Upgrade:u.bcs.struct("Upgrade",{modules:u.bcs.vector(u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))})),dependencies:u.bcs.vector(h),package:h,ticket:E})});var _;const k=u.bcs.struct("ProgrammableTransaction",{inputs:u.bcs.vector(b),commands:u.bcs.vector(S)}),A=u.bcs.enum("TransactionKind",{ProgrammableTransaction:k,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),I=u.bcs.enum("TransactionExpiration",{None:null,Epoch:u.bcs.u64({name:"unsafe_u64"}).transform({input:e=>e,output:e=>Number(e)})});const x=u.bcs.struct("StructTag",{address:h,module:u.bcs.string(),name:u.bcs.string(),typeParams:u.bcs.vector(w)}),T=u.bcs.struct("GasData",{payment:u.bcs.vector(p),owner:h,price:u.bcs.u64(),budget:u.bcs.u64()}),B=u.bcs.struct("TransactionDataV1",{kind:A,sender:h,gasData:T,expiration:I}),P=u.bcs.enum("TransactionData",{V1:B}),j=u.bcs.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),M=u.bcs.enum("IntentVersion",{V0:null}),C=u.bcs.enum("AppId",{Iota:null}),R=u.bcs.struct("Intent",{scope:j,version:M,appId:C});function N(e){return u.bcs.struct(`IntentMessage<${e.name}>`,{intent:R,value:e})}const L=u.bcs.enum("CompressedSignature",{ED25519:u.bcs.fixedArray(64,u.bcs.u8()),Secp256k1:u.bcs.fixedArray(64,u.bcs.u8()),Secp256r1:u.bcs.fixedArray(64,u.bcs.u8())}),D=u.bcs.enum("PublicKey",{ED25519:u.bcs.fixedArray(32,u.bcs.u8()),Secp256k1:u.bcs.fixedArray(33,u.bcs.u8()),Secp256r1:u.bcs.fixedArray(33,u.bcs.u8())}),U=u.bcs.struct("MultiSigPkMap",{pubKey:D,weight:u.bcs.u8()}),z=u.bcs.struct("MultiSigPublicKey",{pk_map:u.bcs.vector(U),threshold:u.bcs.u16()}),q=u.bcs.struct("MultiSig",{sigs:u.bcs.vector(L),bitmap:u.bcs.u16(),multisig_pk:z}),V=u.bcs.vector(u.bcs.u8()).transform({input:e=>"string"==typeof e?(0,u.fromBase64)(e):e,output:e=>(0,u.toBase64)(new Uint8Array(e))}),H=u.bcs.struct("SenderSignedTransaction",{intentMessage:N(P),txSignatures:u.bcs.vector(V)}),$=u.bcs.vector(H,{name:"SenderSignedData"}),W=u.bcs.struct("PasskeyAuthenticator",{authenticatorData:u.bcs.vector(u.bcs.u8()),clientDataJson:u.bcs.string(),userSignature:u.bcs.vector(u.bcs.u8())})},6617:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=s(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(7903),e.exports),u(l,r(6843),e.exports),u(l,r(2132),e.exports),u(l,r(3690),e.exports)},6619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessageWebToApp=void 0,t.sendMessageWebToApp=function(e,t){const r={isCosmostation:!0,message:e,messageId:t};window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.station&&window.webkit.messageHandlers.station.postMessage(JSON.stringify(r)),window.station&&window.station.request(JSON.stringify(r))}},6634:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{BcsEnum:()=>M,BcsStruct:()=>j,BcsTuple:()=>C,BcsType:()=>O,SerializedBcs:()=>k,bigUIntBcsType:()=>x,dynamicSizeBcsType:()=>T,fixedSizeBcsType:()=>A,isSerializedBcs:()=>_,lazyBcsType:()=>P,stringLikeBcsType:()=>B,uIntBcsType:()=>I}),e.exports=(n=f,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,g,m,b=r(5898),w=r(4286),v=r(2967),E=r(3790);p=new WeakMap,y=new WeakMap;let O=class e{constructor(e){d(this,p),d(this,y),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),h(this,p,e.write),h(this,y,e.serialize??((e,t)=>{const r=new E.BcsWriter({initialSize:this.serializedSize(e)??void 0,...t});return l(this,p).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),l(this,p).call(this,e,t)}serialize(e,t){return this.validate(e),new k(this,l(this,y).call(this,e,t))}parse(e){const t=new w.BcsReader(e);return this.read(t)}fromHex(e){return this.parse((0,b.fromHex)(e))}fromBase58(e){return this.parse((0,b.fromBase58)(e))}fromBase64(e){return this.parse((0,b.fromBase64)(e))}transform({name:t,input:r,output:n,validate:i}){return new e({name:t??this.name,read:e=>n?n(this.read(e)):this.read(e),write:(e,t)=>l(this,p).call(this,r?r(e):e,t),serializedSize:e=>this.serializedSize(r?r(e):e),serialize:(e,t)=>l(this,y).call(this,r?r(e):e,t),validate:e=>{i?.(e),this.validate(r?r(e):e)}})}};const S=Symbol.for("@mysten/serialized-bcs");function _(e){return!!e&&"object"==typeof e&&!0===e[S]}class k{constructor(e,t){d(this,g),d(this,m),h(this,g,e),h(this,m,t)}get[S](){return!0}toBytes(){return l(this,m)}toHex(){return(0,b.toHex)(l(this,m))}toBase64(){return(0,b.toBase64)(l(this,m))}toBase58(){return(0,b.toBase58)(l(this,m))}parse(){return l(this,g).parse(l(this,m))}}function A({size:e,...t}){return new O({...t,serializedSize:()=>e})}function I({readMethod:e,writeMethod:t,...r}){return A({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function x({readMethod:e,writeMethod:t,...r}){return A({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}function T({serialize:e,...t}){const r=new O({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}function B({toBytes:e,fromBytes:t,...r}){return new O({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=(0,v.ulebEncode)(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}function P(e){let t=null;function r(){return t||(t=e()),t}return new O({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}g=new WeakMap,m=new WeakMap;class j extends O{constructor({name:e,fields:t,...r}){const n=Object.entries(t);super({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})}}class M extends O{constructor({fields:e,...t}){const r=Object.entries(e);super({read:e=>{const t=e.readULEB(),n=r[t];if(!n)throw new TypeError(`Unknown value ${t} for enum ${name}`);const[i,s]=n;return{[i]:s?.read(e)??!0,$kind:i}},write:(t,n)=>{const[i,s]=Object.entries(t).filter(([t])=>Object.hasOwn(e,t))[0];for(let e=0;e<r.length;e++){const[t,o]=r[e];if(t===i)return n.writeULEB(e),void o?.write(s,n)}},...t,validate:r=>{if(t?.validate?.(r),"object"!=typeof r||null==r)throw new TypeError("Expected object, found "+typeof r);const n=Object.keys(r).filter(t=>void 0!==r[t]&&Object.hasOwn(e,t));if(1!==n.length)throw new TypeError(`Expected object with one key, but found ${n.length} for type ${name}}`);const[i]=n;if(!Object.hasOwn(e,i))throw new TypeError(`Invalid enum variant ${i}`)}})}}class C extends O{constructor({fields:e,name:t,...r}){super({name:t??`(${e.map(e=>e.name).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...r,validate:t=>{if(r?.validate?.(t),!Array.isArray(t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${t.length}`)}})}}},6719:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.BLAKE2b=void 0;const n=r(1453);t.BLAKE2b=n.BLAKE2b,t.blake2b=n.blake2b},6783:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};function s(e){const t=({register:t})=>t(e);try{window.dispatchEvent(new o(t))}catch(e){console.error("wallet-standard:register-wallet event could not be dispatched\n",e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error("wallet-standard:app-ready event listener could not be added\n",e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_registerWallet=t.registerWallet=void 0,t.registerWallet=s;class o extends Event{get detail(){return n(this,r,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),i(this,r,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}r=new WeakMap,t.DEPRECATED_registerWallet=function(e){var t;s(e);try{((t=window.navigator).wallets||(t.wallets=[])).push(({register:t})=>t(e))}catch(e){console.error("window.navigator.wallets could not be pushed\n",e)}}},6837:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{pureBcsSchemaFromTypeName:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9113),l=r(3871);function d(e){switch(e){case"u8":return u.bcs.u8();case"u16":return u.bcs.u16();case"u32":return u.bcs.u32();case"u64":return u.bcs.u64();case"u128":return u.bcs.u128();case"u256":return u.bcs.u256();case"bool":return u.bcs.bool();case"string":return u.bcs.string();case"id":case"address":return l.Address}const t=e.match(/^(vector|option)<(.+)>$/);if(t){const[e,r]=t.slice(1);return"vector"===e?u.bcs.vector(d(r)):u.bcs.option(d(r))}throw new Error(`Invalid Pure type name: ${e}`)}},6843:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},6875:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmostationWallet=void 0;const s=r(5590),o=r(1783),{on:a,getAccounts:c,getPublicKey:u,getChain:l,signTransactionBlock:d,signTransaction:h,signAndExecuteTransactionBlock:f,signAndExecuteTransaction:p,signMessage:y,signPersonalMessage:g}=o.suiAPIs;t.CosmostationWallet=class{constructor(){this.name=s.COSMOSTATION_WALLET_NAME,this.chains=[],this.features={},this.accounts=[],this.version="1.0.0",this.icon=s.COSMOSTATION_ENCODED_LOGO_IMAGE,this.chains=["sui:devnet","sui:testnet","sui:mainnet"],this.features={"standard:connect":{version:"1.0.0",connect:()=>i(this,void 0,void 0,function*(){try{const e=yield c(),t=yield u(),r=yield l();if(e.length>0&&t&&r)return this.accounts=[{address:e[0],publicKey:new Uint8Array(n.from(t.substring(2),"hex")),chains:[`sui:${r}`],features:["sui:signAndExecuteTransactionBlock","sui:signMessage","sui:signTransactionBlock","sui:signTransaction","sui:signPersonalMessage","sui:signAndExecuteTransaction"]}],{accounts:this.accounts}}catch(e){return{accounts:[]}}})},"standard:events":{version:"1.0.0",on:a},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:d},"sui:signTransaction":{version:"2.0.0",signTransaction:h},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:f},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:p},"sui:signMessage":{version:"1.0.0",signMessage:y},"sui:signPersonalMessage":{version:"2.0.0",signPersonalMessage:g}},(()=>{i(this,void 0,void 0,function*(){try{const e=yield c(),t=yield u(),r=yield l();e.length>0&&t&&r&&(this.accounts=[{address:e[0],publicKey:new Uint8Array(n.from(t.substring(2),"hex")),chains:[`sui:${r}`],features:["sui:signAndExecuteTransactionBlock","sui:signMessage","sui:signTransactionBlock","sui:signTransaction","sui:signPersonalMessage","sui:signAndExecuteTransaction"]}])}catch(e){}})})()}}},7004:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{Arguments:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(5773);const l={pure:(0,r(3184).createPure)(e=>t=>t.pure(e)),object:(0,u.createObjectMethods)(e=>t=>t.object(e)),sharedObjectRef:(...e)=>t=>t.sharedObjectRef(...e),objectRef:(...e)=>t=>t.objectRef(...e),receivingRef:(...e)=>t=>t.receivingRef(...e)}},7076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha512_224=t.sha512_256=t.sha384=t.sha512=t.sha224=t.sha256=t.SHA512_256=t.SHA512_224=t.SHA384=t.SHA512=t.SHA224=t.SHA256=void 0;const n=r(7202),i=r(2318),s=r(9175),o=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array(64);class c extends n.HashMD{constructor(e=32){super(64,e,8,!1),this.A=0|n.SHA256_IV[0],this.B=0|n.SHA256_IV[1],this.C=0|n.SHA256_IV[2],this.D=0|n.SHA256_IV[3],this.E=0|n.SHA256_IV[4],this.F=0|n.SHA256_IV[5],this.G=0|n.SHA256_IV[6],this.H=0|n.SHA256_IV[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(r,17)^(0,s.rotr)(r,19)^r>>>10;a[e]=i+a[e-7]+n+a[e-16]|0}let{A:r,B:i,C:c,D:u,E:l,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,s.rotr)(l,6)^(0,s.rotr)(l,11)^(0,s.rotr)(l,25))+(0,n.Chi)(l,d,h)+o[e]+a[e]|0,p=((0,s.rotr)(r,2)^(0,s.rotr)(r,13)^(0,s.rotr)(r,22))+(0,n.Maj)(r,i,c)|0;f=h,h=d,d=l,l=u+t|0,u=c,c=i,i=r,r=t+p|0}r=r+this.A|0,i=i+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,i,c,u,l,d,h,f)}roundClean(){(0,s.clean)(a)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,s.clean)(this.buffer)}}t.SHA256=c;class u extends c{constructor(){super(28),this.A=0|n.SHA224_IV[0],this.B=0|n.SHA224_IV[1],this.C=0|n.SHA224_IV[2],this.D=0|n.SHA224_IV[3],this.E=0|n.SHA224_IV[4],this.F=0|n.SHA224_IV[5],this.G=0|n.SHA224_IV[6],this.H=0|n.SHA224_IV[7]}}t.SHA224=u;const l=(()=>i.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),d=(()=>l[0])(),h=(()=>l[1])(),f=new Uint32Array(80),p=new Uint32Array(80);class y extends n.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=0|n.SHA512_IV[0],this.Al=0|n.SHA512_IV[1],this.Bh=0|n.SHA512_IV[2],this.Bl=0|n.SHA512_IV[3],this.Ch=0|n.SHA512_IV[4],this.Cl=0|n.SHA512_IV[5],this.Dh=0|n.SHA512_IV[6],this.Dl=0|n.SHA512_IV[7],this.Eh=0|n.SHA512_IV[8],this.El=0|n.SHA512_IV[9],this.Fh=0|n.SHA512_IV[10],this.Fl=0|n.SHA512_IV[11],this.Gh=0|n.SHA512_IV[12],this.Gl=0|n.SHA512_IV[13],this.Hh=0|n.SHA512_IV[14],this.Hl=0|n.SHA512_IV[15]}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)f[r]=e.getUint32(t),p[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|f[e-15],r=0|p[e-15],n=i.rotrSH(t,r,1)^i.rotrSH(t,r,8)^i.shrSH(t,r,7),s=i.rotrSL(t,r,1)^i.rotrSL(t,r,8)^i.shrSL(t,r,7),o=0|f[e-2],a=0|p[e-2],c=i.rotrSH(o,a,19)^i.rotrBH(o,a,61)^i.shrSH(o,a,6),u=i.rotrSL(o,a,19)^i.rotrBL(o,a,61)^i.shrSL(o,a,6),l=i.add4L(s,u,p[e-7],p[e-16]),d=i.add4H(l,n,c,f[e-7],f[e-16]);f[e]=0|d,p[e]=0|l}let{Ah:r,Al:n,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:y,El:g,Fh:m,Fl:b,Gh:w,Gl:v,Hh:E,Hl:O}=this;for(let e=0;e<80;e++){const t=i.rotrSH(y,g,14)^i.rotrSH(y,g,18)^i.rotrBH(y,g,41),S=i.rotrSL(y,g,14)^i.rotrSL(y,g,18)^i.rotrBL(y,g,41),_=y&m^~y&w,k=g&b^~g&v,A=i.add5L(O,S,k,h[e],p[e]),I=i.add5H(A,E,t,_,d[e],f[e]),x=0|A,T=i.rotrSH(r,n,28)^i.rotrBH(r,n,34)^i.rotrBH(r,n,39),B=i.rotrSL(r,n,28)^i.rotrBL(r,n,34)^i.rotrBL(r,n,39),P=r&s^r&a^s&a,j=n&o^n&c^o&c;E=0|w,O=0|v,w=0|m,v=0|b,m=0|y,b=0|g,({h:y,l:g}=i.add(0|u,0|l,0|I,0|x)),u=0|a,l=0|c,a=0|s,c=0|o,s=0|r,o=0|n;const M=i.add3L(x,B,j);r=i.add3H(M,I,T,P),n=0|M}({h:r,l:n}=i.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:o}=i.add(0|this.Bh,0|this.Bl,0|s,0|o)),({h:a,l:c}=i.add(0|this.Ch,0|this.Cl,0|a,0|c)),({h:u,l}=i.add(0|this.Dh,0|this.Dl,0|u,0|l)),({h:y,l:g}=i.add(0|this.Eh,0|this.El,0|y,0|g)),({h:m,l:b}=i.add(0|this.Fh,0|this.Fl,0|m,0|b)),({h:w,l:v}=i.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:E,l:O}=i.add(0|this.Hh,0|this.Hl,0|E,0|O)),this.set(r,n,s,o,a,c,u,l,y,g,m,b,w,v,E,O)}roundClean(){(0,s.clean)(f,p)}destroy(){(0,s.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=y;class g extends y{constructor(){super(48),this.Ah=0|n.SHA384_IV[0],this.Al=0|n.SHA384_IV[1],this.Bh=0|n.SHA384_IV[2],this.Bl=0|n.SHA384_IV[3],this.Ch=0|n.SHA384_IV[4],this.Cl=0|n.SHA384_IV[5],this.Dh=0|n.SHA384_IV[6],this.Dl=0|n.SHA384_IV[7],this.Eh=0|n.SHA384_IV[8],this.El=0|n.SHA384_IV[9],this.Fh=0|n.SHA384_IV[10],this.Fl=0|n.SHA384_IV[11],this.Gh=0|n.SHA384_IV[12],this.Gl=0|n.SHA384_IV[13],this.Hh=0|n.SHA384_IV[14],this.Hl=0|n.SHA384_IV[15]}}t.SHA384=g;const m=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),b=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class w extends y{constructor(){super(28),this.Ah=0|m[0],this.Al=0|m[1],this.Bh=0|m[2],this.Bl=0|m[3],this.Ch=0|m[4],this.Cl=0|m[5],this.Dh=0|m[6],this.Dl=0|m[7],this.Eh=0|m[8],this.El=0|m[9],this.Fh=0|m[10],this.Fl=0|m[11],this.Gh=0|m[12],this.Gl=0|m[13],this.Hh=0|m[14],this.Hl=0|m[15]}}t.SHA512_224=w;class v extends y{constructor(){super(32),this.Ah=0|b[0],this.Al=0|b[1],this.Bh=0|b[2],this.Bl=0|b[3],this.Ch=0|b[4],this.Cl=0|b[5],this.Dh=0|b[6],this.Dl=0|b[7],this.Eh=0|b[8],this.El=0|b[9],this.Fh=0|b[10],this.Fl=0|b[11],this.Gh=0|b[12],this.Gl=0|b[13],this.Hh=0|b[14],this.Hl=0|b[15]}}t.SHA512_256=v,t.sha256=(0,s.createHasher)(()=>new c),t.sha224=(0,s.createHasher)(()=>new u),t.sha512=(0,s.createHasher)(()=>new y),t.sha384=(0,s.createHasher)(()=>new g),t.sha512_256=(0,s.createHasher)(()=>new v),t.sha512_224=(0,s.createHasher)(()=>new w)},7096:(e,t)=>{"use strict";function r(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.arraysEqual=r,t.bytesEqual=function(e,t){return r(e,t)}},7113:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{bcs:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(6634),l=r(2967);const d={u8:e=>(0,u.uIntBcsType)({readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e,name:e?.name??"u8"}),u16:e=>(0,u.uIntBcsType)({readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e,name:e?.name??"u16"}),u32:e=>(0,u.uIntBcsType)({readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e,name:e?.name??"u32"}),u64:e=>(0,u.bigUIntBcsType)({readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e,name:e?.name??"u64"}),u128:e=>(0,u.bigUIntBcsType)({readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e,name:e?.name??"u128"}),u256:e=>(0,u.bigUIntBcsType)({readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e,name:e?.name??"u256"}),bool:e=>(0,u.fixedSizeBcsType)({size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,name:e?.name??"bool",validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>(0,u.dynamicSizeBcsType)({read:e=>e.readULEB(),serialize:e=>Uint8Array.from((0,l.ulebEncode)(e)),...e,name:e?.name??"uleb128"}),bytes:(e,t)=>(0,u.fixedSizeBcsType)({size:e,read:t=>t.readBytes(e),write:(t,r)=>{const n=new Uint8Array(t);for(let t=0;t<e;t++)r.write8(n[t]??0)},...t,name:t?.name??`bytes[${e}]`,validate:r=>{if(t?.validate?.(r),!r||"object"!=typeof r||!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),byteVector:e=>new u.BcsType({read:e=>{const t=e.readULEB();return e.readBytes(t)},write:(e,t)=>{const r=new Uint8Array(e);t.writeULEB(r.length);for(let e=0;e<r.length;e++)t.write8(r[e]??0)},...e,name:e?.name??"vector<u8>",serializedSize:e=>{const t="length"in e?e.length:null;return null==t?null:(0,l.ulebEncode)(t).length+t},validate:t=>{if(e?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t)}}),string:e=>(0,u.stringLikeBcsType)({toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e,name:e?.name??"string"}),fixedArray:function(e,t,r){return new u.BcsType({read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,name:r?.name??`${t.name}[${e}]`,validate:t=>{if(r?.validate?.(t),!t||"object"!=typeof t||!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}})},option:function(e){return d.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"===e.$kind?e.Some:null})},vector:function(e,t){return new u.BcsType({read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,name:t?.name??`vector<${e.name}>`,validate:e=>{if(t?.validate?.(e),!e||"object"!=typeof e||!("length"in e))throw new TypeError("Expected array, found "+typeof e)}})},tuple:(e,t)=>new u.BcsTuple({fields:e,...t}),struct:(e,t,r)=>new u.BcsStruct({name:e,fields:t,...r}),enum:(e,t,r)=>new u.BcsEnum({name:e,fields:t,...r}),map:function(e,t){return d.vector(d.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}})},lazy:e=>(0,u.lazyBcsType)(e)}},7114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(6619),i=r(5104);t.request=function(e){return new Promise((t,r)=>{const s=(0,i.uuidv4)(),o=e=>{var n,i,a;if((null===(n=e.data)||void 0===n?void 0:n.isCosmostation)&&(null===(i=e.data)||void 0===i?void 0:i.messageId)===s){window.removeEventListener("message",o);const{data:n}=e;(null===(a=n.response)||void 0===a?void 0:a.error)?r(n.response.error):t(n.response.result)}};window.addEventListener("message",o),(0,n.sendMessageWebToApp)(e,s)})}},7141:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of o(t))a.call(e,c)||c===r||i(e,c,{get:()=>t[c],enumerable:!(n=s(t,c))||n.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),l={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(l,{signAndExecuteTransaction:()=>d.signAndExecuteTransaction,signTransaction:()=>d.signTransaction}),e.exports=(n=l,c(i({},"__esModule",{value:!0}),n)),u(l,r(5417),e.exports);var d=r(5172);u(l,r(6617),e.exports),u(l,r(8122),e.exports),u(l,r(7215),e.exports),u(l,r(6156),e.exports)},7202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA512_IV=t.SHA384_IV=t.SHA224_IV=t.SHA256_IV=t.HashMD=void 0,t.setBigUint64=i,t.Chi=function(e,t,r){return e&t^~e&r},t.Maj=function(e,t,r){return e&t^e&r^t&r};const n=r(9175);function i(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}class s extends n.Hash{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){(0,n.aexists)(this),e=(0,n.toBytes)(e),(0,n.abytes)(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const t=(0,n.createView)(e);for(;i<=s-o;o+=i)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.aexists)(this),(0,n.aoutput)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,(0,n.clean)(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;i(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,n.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}t.HashMD=s,t.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),t.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),t.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])},7215:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{SUPPORTED_CHAINS:()=>l,isSupportedChain:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(538);const l=Object.values((0,u.getAllNetworks)()).map(e=>e.chain);function d(e){return l.includes(e)||"iota"===e.split(":")[0]}},7235:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},7358:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(f,{SerialTransactionExecutor:()=>k,getGasCoinFromEffects:()=>A}),e.exports=(n=f,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var p,y,g,m,b,w,v=r(2310),E=r(2175),O=r(7568),S=r(1877),_=r(1571);class k{constructor({signer:e,defaultGasBudget:t=50000000n,...r}){d(this,p,new _.SerialQueue),d(this,y),d(this,g),d(this,m),d(this,b,async e=>{if(!e.V1)return;const t=A(e).ref;t?l(this,g).cache.setCustom("gasCoin",t):l(this,g).cache.deleteCustom("gasCoin")}),d(this,w,async e=>{const t=await l(this,g).cache.getCustom("gasCoin"),r=O.Transaction.from(e);return t&&r.setGasPayment([t]),r.setGasBudgetIfNotSet(l(this,m)),r.setSenderIfNotSet(l(this,y).toIotaAddress()),l(this,g).buildTransaction({transaction:r})}),h(this,y,e),h(this,m,t),h(this,g,new S.CachingTransactionExecutor({client:r.client,cache:r.cache}))}async applyEffects(e){return Promise.all([l(this,b).call(this,e),l(this,g).cache.applyEffects(e)])}async buildTransaction(e){return l(this,p).runTask(()=>l(this,w).call(this,e))}resetCache(){return l(this,g).reset()}waitForLastTransaction(){return l(this,g).waitForLastTransaction()}executeTransaction(e,t){return l(this,p).runTask(async()=>{const r=(0,O.isTransaction)(e)?await l(this,w).call(this,e):e,{signature:n}=await l(this,y).signTransaction(r),i=await l(this,g).executeTransaction({signature:n,transaction:r,options:t}).catch(async e=>{throw await this.resetCache(),e}),s=Uint8Array.from(i.rawEffects),o=E.bcs.TransactionEffects.parse(s);return await this.applyEffects(o),{digest:i.digest,effects:(0,v.toBase64)(s),data:i}})}}function A(e){if(!e.V1)throw new Error("Unexpected effects version");const t=e.V1.changedObjects[e.V1.gasObjectIndex];if(!t)throw new Error("Gas object not found in effects");const[r,{outputState:n}]=t;if(!n.ObjectWrite)throw new Error("Unexpected gas object state");const[i,s]=n.ObjectWrite;return{ref:{objectId:r,digest:i,version:e.V1.lamportVersion},owner:s.AddressOwner||s.ObjectOwner}}p=new WeakMap,y=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap},7476:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{decodeStr:()=>d,encodeStr:()=>l,splitGenericParameters:()=>h}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(5898);function l(e,t){switch(t){case"base58":return(0,u.toBase58)(e);case"base64":return(0,u.toBase64)(e);case"hex":return(0,u.toHex)(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function d(e,t){switch(t){case"base58":return(0,u.fromBase58)(e);case"base64":return(0,u.fromBase64)(e);case"hex":return(0,u.fromHex)(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function h(e,t=["<",">"]){const[r,n]=t,i=[];let s="",o=0;for(let t=0;t<e.length;t++){const a=e[t];a===r&&o++,a===n&&o--,0!==o||","!==a?s+=a:(i.push(s.trim()),s="")}return i.push(s.trim()),i}},7496:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{Network:()=>a,getAllNetworks:()=>c,getDefaultNetwork:()=>l,getFullnodeUrl:()=>d,getGraphQLUrl:()=>h,getNetwork:()=>u}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var a=(e=>(e.Mainnet="mainnet",e.Devnet="devnet",e.Testnet="testnet",e.Localnet="localnet",e.Custom="custom",e))(a||{});function c(){let e;try{e=JSON.parse('{\n    "mainnet": {\n        "id": "mainnet",\n        "name": "Mainnet",\n        "url": "https://api.mainnet.iota.cafe",\n        "graphql": "https://graphql.mainnet.iota.cafe",\n        "explorer": "https://explorer.rebased.iota.org",\n        "chain": "iota:mainnet"\n    },\n    "testnet": {\n        "id": "testnet",\n        "name": "Testnet",\n        "url": "https://api.testnet.iota.cafe",\n        "graphql": "https://graphql.testnet.iota.cafe",\n        "explorer": "https://explorer.rebased.iota.org",\n        "chain": "iota:testnet",\n        "faucet": "https://faucet.testnet.iota.cafe",\n        "kiosk": {\n            "royaltyRulePackageId": "0x975f749f57701209454e4b9b9e33825ccb6a9abf57de2ce86979e5fa86c343f2",\n            "kioskLockRulePackageId": "0x975f749f57701209454e4b9b9e33825ccb6a9abf57de2ce86979e5fa86c343f2",\n            "floorPriceRulePackageId": "0x975f749f57701209454e4b9b9e33825ccb6a9abf57de2ce86979e5fa86c343f2",\n            "personalKioskRulePackageId": "0x975f749f57701209454e4b9b9e33825ccb6a9abf57de2ce86979e5fa86c343f2"\n        }\n    },\n    "devnet": {\n        "id": "devnet",\n        "name": "Devnet",\n        "url": "https://api.devnet.iota.cafe",\n        "graphql": "https://graphql.devnet.iota.cafe",\n        "explorer": "https://explorer.rebased.iota.org",\n        "chain": "iota:devnet",\n        "faucet": "https://faucet.devnet.iota.cafe"\n    },\n    "localnet": {\n        "id": "localnet",\n        "name": "Localnet",\n        "url": "http://localhost:9000",\n        "graphql": "http://localhost:9125",\n        "explorer": "http://localhost:3000",\n        "chain": "iota:local",\n        "faucet": "http://localhost:9123"\n    }\n}')}catch{throw new Error('Failed to parse env var "IOTA_NETWORKS".')}return e}function u(e){return c()[e]??e}function l(){return"mainnet"}function d(e){return u(e).url}function h(e){return u(e).graphql}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=a(e),o=s[0],c=s[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,c)),l=0,d=c>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(u(e,a,a+o>c?c:a+o));return 1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function u(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(c(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7546:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{CoinFormat:()=>d.CoinFormat,IOTA_ADDRESS_LENGTH:()=>h.IOTA_ADDRESS_LENGTH,IOTA_CLOCK_OBJECT_ID:()=>p.IOTA_CLOCK_OBJECT_ID,IOTA_DECIMALS:()=>p.IOTA_DECIMALS,IOTA_FRAMEWORK_ADDRESS:()=>p.IOTA_FRAMEWORK_ADDRESS,IOTA_SYSTEM_ADDRESS:()=>p.IOTA_SYSTEM_ADDRESS,IOTA_SYSTEM_MODULE_NAME:()=>p.IOTA_SYSTEM_MODULE_NAME,IOTA_SYSTEM_STATE_OBJECT_ID:()=>p.IOTA_SYSTEM_STATE_OBJECT_ID,IOTA_TYPE_ARG:()=>p.IOTA_TYPE_ARG,MOVE_STDLIB_ADDRESS:()=>p.MOVE_STDLIB_ADDRESS,NANOS_PER_IOTA:()=>p.NANOS_PER_IOTA,deriveDynamicFieldID:()=>y.deriveDynamicFieldID,formatAddress:()=>u.formatAddress,formatAmount:()=>d.formatAmount,formatBalance:()=>d.formatBalance,formatDigest:()=>u.formatDigest,formatType:()=>u.formatType,formatWithSubscript:()=>d.formatWithSubscript,fromB64:()=>f.fromB64,fromBase58:()=>f.fromBase58,fromBase64:()=>f.fromBase64,fromHEX:()=>f.fromHEX,fromHex:()=>f.fromHex,isValidIotaAddress:()=>h.isValidIotaAddress,isValidIotaObjectId:()=>h.isValidIotaObjectId,isValidTransactionDigest:()=>h.isValidTransactionDigest,normalizeIotaAddress:()=>h.normalizeIotaAddress,normalizeIotaObjectId:()=>h.normalizeIotaObjectId,normalizeStructTag:()=>h.normalizeStructTag,parseAmount:()=>l.parseAmount,parseStructTag:()=>h.parseStructTag,safeParseAmount:()=>l.safeParseAmount,toB64:()=>f.toB64,toBase58:()=>f.toBase58,toBase64:()=>f.toBase64,toHEX:()=>f.toHEX,toHex:()=>f.toHex,trimAddress:()=>u.trimAddress,trimOrFormatAddress:()=>u.trimOrFormatAddress}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(5355),l=r(7798),d=r(3511),h=r(4279),f=r(2310),p=r(6107),y=r(9065)},7568:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f=(e,t,r)=>(u(e,t,"access private method"),r),p={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(p,{Transaction:()=>V,isTransaction:()=>D}),e.exports=(n=p,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var y,g,m,b,w,v,E,O,S,_=r(2310),k=r(9415),A=r(4279),I=r(6456),x=r(7784),T=r(2016),B=r(9417),P=r(5975),j=r(4489),M=r(5773),C=r(3184),R=r(2984),N=r(9825);const L=Symbol.for("@iota/transaction");function D(e){return!!e&&"object"==typeof e&&!0===e[L]}const U={buildPlugins:new Map,serializationPlugins:new Map},z=Symbol.for("@iota/transaction/registry");function q(){try{const e=globalThis;return e[z]||(e[z]=U),e[z]}catch(e){return U}}y=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakSet,v=function(e){return(0,_.isSerializedBcs)(e)?this.pure(e):f(this,w,E).call(this,e)},E=function(e){return"function"==typeof e?(0,k.parse)(x.Argument,e(this)):(0,k.parse)(x.Argument,e)},O=async function(e){if(!e.onlyTransactionKind&&!l(this,b).sender)throw new Error("Missing transaction sender");await f(this,w,S).call(this,[...l(this,g),j.resolveTransactionData],e)},S=async function(e,t){const r=n=>{if(n>=e.length)return()=>{};const i=e[n];return async()=>{const e=r(n+1);let s=!1,o=!1;if(await i(l(this,b),t,async()=>{if(s)throw new Error(`next() was call multiple times in TransactionPlugin ${n}`);s=!0,await e(),o=!0}),!s)throw new Error(`next() was not called in TransactionPlugin ${n}`);if(!o)throw new Error(`next() was not awaited in TransactionPlugin ${n}`)}};await r(0)()};let V=class e{constructor(){d(this,w),d(this,y),d(this,g),d(this,m,new Map),d(this,b),this.object=(0,M.createObjectMethods)(e=>{if("function"==typeof e)return this.object(e(this));if("object"==typeof e&&(0,k.is)(x.Argument,e))return e;const t=(0,N.getIdFromCallArg)(e),r=l(this,b).inputs.find(e=>t===(0,N.getIdFromCallArg)(e));return r?.Object?.SharedObject&&"object"==typeof e&&e.Object?.SharedObject&&(r.Object.SharedObject.mutable=r.Object.SharedObject.mutable||e.Object.SharedObject.mutable),r?{$kind:"Input",Input:l(this,b).inputs.indexOf(r),type:"object"}:l(this,b).addInput("object","string"==typeof e?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:(0,A.normalizeIotaAddress)(e)}}:e)});const e=q();h(this,b,new R.TransactionDataBuilder),h(this,g,[...e.buildPlugins.values()]),h(this,y,[...e.serializationPlugins.values()])}static fromKind(t){const r=new e;return h(r,b,R.TransactionDataBuilder.fromKindBytes("string"==typeof t?(0,_.fromBase64)(t):t)),r}static from(t){const r=new e;return D(t)?h(r,b,new R.TransactionDataBuilder(t.getData())):"string"==typeof t&&t.startsWith("{")?h(r,b,R.TransactionDataBuilder.restore(JSON.parse(t))):h(r,b,R.TransactionDataBuilder.fromBytes("string"==typeof t?(0,_.fromBase64)(t):t)),r}static registerGlobalSerializationPlugin(e,t){q().serializationPlugins.set(e,t??e)}static unregisterGlobalSerializationPlugin(e){q().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,t){q().buildPlugins.set(e,t??e)}static unregisterGlobalBuildPlugin(e){q().buildPlugins.delete(e)}addSerializationPlugin(e){l(this,y).push(e)}addBuildPlugin(e){l(this,g).push(e)}addIntentResolver(e,t){if(l(this,m).has(e)&&l(this,m).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);l(this,m).set(e,t)}setSender(e){l(this,b).sender=e}setSenderIfNotSet(e){l(this,b).sender||(l(this,b).sender=e)}setExpiration(e){l(this,b).expiration=e?(0,k.parse)(x.TransactionExpiration,e):null}setGasPrice(e){l(this,b).gasConfig.price=String(e)}setGasBudget(e){l(this,b).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){null==l(this,b).gasData.budget&&(l(this,b).gasConfig.budget=String(e))}setGasOwner(e){l(this,b).gasConfig.owner=e}setGasPayment(e){l(this,b).gasConfig.payment=e.map(e=>(0,k.parse)(x.ObjectRef,e))}get blockData(){return(0,T.serializeV1TransactionData)(l(this,b).snapshot())}getData(){return l(this,b).snapshot()}get[L](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:(0,C.createPure)(e=>(0,_.isSerializedBcs)(e)?l(this,b).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):l(this,b).addInput("pure",(0,k.is)(x.NormalizedCallArg,e)?(0,k.parse)(x.NormalizedCallArg,e):e instanceof Uint8Array?P.Inputs.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(P.Inputs.ObjectRef(...e))}receivingRef(...e){return this.object(P.Inputs.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(P.Inputs.SharedObjectRef(...e))}add(e){return"function"==typeof e?e(this):function(e){const t=[],r=r=>t[r]??(t[r]={$kind:"NestedResult",NestedResult:[e,r]});return new Proxy({$kind:"Result",Result:e},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){let e=0;for(;;)yield r(e),e++};if("symbol"==typeof t)return;const n=parseInt(t,10);return Number.isNaN(n)||n<0?void 0:r(n)}})}(l(this,b).commands.push(e)-1)}splitCoins(e,t){return this.add(I.Commands.SplitCoins("string"==typeof e?this.object(e):f(this,w,E).call(this,e),t.map(e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):f(this,w,v).call(this,e))))}mergeCoins(e,t){return this.add(I.Commands.MergeCoins(this.object(e),t.map(e=>this.object(e))))}publish({modules:e,dependencies:t}){return this.add(I.Commands.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:r,ticket:n}){return this.add(I.Commands.Upgrade({modules:e,dependencies:t,package:r,ticket:this.object(n)}))}moveCall({arguments:e,...t}){return this.add(I.Commands.MoveCall({...t,arguments:e?.map(e=>f(this,w,v).call(this,e))}))}transferObjects(e,t){return this.add(I.Commands.TransferObjects(e.map(e=>this.object(e)),"string"==typeof t?this.pure.address(t):f(this,w,v).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add(I.Commands.MakeMoveVec({type:e,elements:t.map(e=>this.object(e))}))}serialize(){return JSON.stringify((0,T.serializeV1TransactionData)(l(this,b).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify((0,k.parse)(B.SerializedTransactionDataV2,l(this,b).snapshot()),(e,t)=>"bigint"==typeof t?t.toString():t,2)}async sign(e){const{signer:t,...r}=e,n=await this.build(r);return t.signTransaction(n)}async build(e={}){return await this.prepareForSerialization(e),await f(this,w,O).call(this,e),l(this,b).build({maxSizeBytes:e.maxSizeBytes,onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await f(this,w,O).call(this,e),l(this,b).getDigest()}async prepareForSerialization(e){const t=new Set;for(const e of l(this,b).commands)e.$Intent&&t.add(e.$Intent.name);const r=[...l(this,y)];for(const n of t)if(!e.supportedIntents?.includes(n)){if(!l(this,m).has(n))throw new Error(`Missing intent resolver for ${n}`);r.push(l(this,m).get(n))}await f(this,w,S).call(this,r,e)}}},7710:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4794),t),i(r(9888),t),i(r(2158),t),i(r(3894),t),i(r(7744),t)},7744:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6783),t),i(r(3802),t)},7784:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{$Intent:()=>S,Argument:()=>m,BCSBytes:()=>p,Command:()=>_,GasData:()=>b,IotaAddress:()=>h,JsonU64:()=>y,NormalizedCallArg:()=>I,ObjectArg:()=>k,ObjectID:()=>f,ObjectRef:()=>g,OpenMoveTypeSignature:()=>E,OpenMoveTypeSignatureBody:()=>v,StructTag:()=>w,TransactionData:()=>T,TransactionExpiration:()=>x,safeEnum:()=>d}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9415),l=r(4279);function d(e){const t=Object.entries(e).map(([e,t])=>(0,u.object)({[e]:t}));return(0,u.pipe)((0,u.union)(t),(0,u.transform)(e=>({...e,$kind:Object.keys(e)[0]})))}const h=(0,u.pipe)((0,u.string)(),(0,u.transform)(e=>(0,l.normalizeIotaAddress)(e)),(0,u.check)(l.isValidIotaAddress)),f=h,p=(0,u.string)(),y=(0,u.pipe)((0,u.union)([(0,u.string)(),(0,u.pipe)((0,u.number)(),(0,u.integer)())]),(0,u.check)(e=>{try{return BigInt(e),BigInt(e)>=0&&BigInt(e)<=18446744073709551615n}catch{return!1}},"Invalid u64")),g=(0,u.object)({objectId:h,version:y,digest:(0,u.string)()}),m=(0,u.pipe)((0,u.union)([(0,u.object)({GasCoin:(0,u.literal)(!0)}),(0,u.object)({Input:(0,u.pipe)((0,u.number)(),(0,u.integer)()),type:(0,u.optional)((0,u.literal)("pure"))}),(0,u.object)({Input:(0,u.pipe)((0,u.number)(),(0,u.integer)()),type:(0,u.optional)((0,u.literal)("object"))}),(0,u.object)({Result:(0,u.pipe)((0,u.number)(),(0,u.integer)())}),(0,u.object)({NestedResult:(0,u.tuple)([(0,u.pipe)((0,u.number)(),(0,u.integer)()),(0,u.pipe)((0,u.number)(),(0,u.integer)())])})]),(0,u.transform)(e=>({...e,$kind:Object.keys(e)[0]}))),b=(0,u.object)({budget:(0,u.nullable)(y),price:(0,u.nullable)(y),owner:(0,u.nullable)(h),payment:(0,u.nullable)((0,u.array)(g))}),w=(0,u.object)({address:(0,u.string)(),module:(0,u.string)(),name:(0,u.string)(),typeParams:(0,u.array)((0,u.string)())}),v=(0,u.union)([(0,u.literal)("address"),(0,u.literal)("bool"),(0,u.literal)("u8"),(0,u.literal)("u16"),(0,u.literal)("u32"),(0,u.literal)("u64"),(0,u.literal)("u128"),(0,u.literal)("u256"),(0,u.object)({vector:(0,u.lazy)(()=>v)}),(0,u.object)({datatype:(0,u.object)({package:(0,u.string)(),module:(0,u.string)(),type:(0,u.string)(),typeParameters:(0,u.array)((0,u.lazy)(()=>v))})}),(0,u.object)({typeParameter:(0,u.pipe)((0,u.number)(),(0,u.integer)())})]),E=(0,u.object)({ref:(0,u.nullable)((0,u.union)([(0,u.literal)("&"),(0,u.literal)("&mut")])),body:v}),O=(0,u.object)({package:f,module:(0,u.string)(),function:(0,u.string)(),typeArguments:(0,u.array)((0,u.string)()),arguments:(0,u.array)(m),_argumentTypes:(0,u.optional)((0,u.nullable)((0,u.array)(E)))}),S=(0,u.object)({name:(0,u.string)(),inputs:(0,u.record)((0,u.string)(),(0,u.union)([m,(0,u.array)(m)])),data:(0,u.record)((0,u.string)(),(0,u.unknown)())}),_=d({MoveCall:O,TransferObjects:(0,u.object)({objects:(0,u.array)(m),address:m}),SplitCoins:(0,u.object)({coin:m,amounts:(0,u.array)(m)}),MergeCoins:(0,u.object)({destination:m,sources:(0,u.array)(m)}),Publish:(0,u.object)({modules:(0,u.array)(p),dependencies:(0,u.array)(f)}),MakeMoveVec:(0,u.object)({type:(0,u.nullable)((0,u.string)()),elements:(0,u.array)(m)}),Upgrade:(0,u.object)({modules:(0,u.array)(p),dependencies:(0,u.array)(f),package:f,ticket:m}),$Intent:S}),k=d({ImmOrOwnedObject:g,SharedObject:(0,u.object)({objectId:f,initialSharedVersion:y,mutable:(0,u.boolean)()}),Receiving:g}),A=d({Object:k,Pure:(0,u.object)({bytes:p}),UnresolvedPure:(0,u.object)({value:(0,u.unknown)()}),UnresolvedObject:(0,u.object)({objectId:f,version:(0,u.optional)((0,u.nullable)(y)),digest:(0,u.optional)((0,u.nullable)((0,u.string)())),initialSharedVersion:(0,u.optional)((0,u.nullable)(y))})}),I=d({Object:k,Pure:(0,u.object)({bytes:p})}),x=d({None:(0,u.literal)(!0),Epoch:y}),T=(0,u.object)({version:(0,u.literal)(2),sender:(0,u.nullish)(h),expiration:(0,u.nullish)(x),gasData:b,inputs:(0,u.array)(A),commands:(0,u.array)(_)})},7790:()=>{},7798:(e,t,r)=>{"use strict";var n,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||s(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},d={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(d,{parseAmount:()=>f,safeParseAmount:()=>p}),e.exports=(n=d,l(s({},"__esModule",{value:!0}),n));var h=((e,t,r)=>(r=null!=e?i(c(e)):{},l(e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)))(r(1594));function f(e,t){try{return BigInt(new h.default(e).shiftedBy(t).integerValue().toString())}catch(e){return BigInt(0)}}function p(e,t){try{return BigInt(new h.default(e).shiftedBy(t).integerValue().toString())}catch(e){return null}}},7825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.announceEthereumProvider=t.ethereum=void 0;const n=r(5104),i=r(5590),s=r(6228),o=r(229);t.ethereum={isMetaMask:!0,on:o.ethereumAPIs.on,addListener:o.ethereumAPIs.on,off:o.ethereumAPIs.off,removeListener:o.ethereumAPIs.off,request:s.request,send:o.ethereumAPIs.send,sendAsync:o.ethereumAPIs.sendAsync,enable:o.ethereumAPIs.enable};const a=(0,n.uuidv4)(),c=()=>{const e={uuid:a,name:i.COSMOSTATION_WALLET_NAME,icon:i.COSMOSTATION_ENCODED_LOGO_IMAGE,rdns:i.COSMOSTATION_RDNS};window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:Object.freeze({info:e,provider:t.ethereum})}))};t.announceEthereumProvider=()=>{window.addEventListener("eip6963:requestProvider",()=>{c()}),c()}},7879:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{decodeStr:()=>f,encodeStr:()=>h,splitGenericParameters:()=>p}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(1741),l=r(2750),d=r(3431);function h(e,t){switch(t){case"base58":return(0,u.toBase58)(e);case"base64":return(0,l.toBase64)(e);case"hex":return(0,d.toHex)(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function f(e,t){switch(t){case"base58":return(0,u.fromBase58)(e);case"base64":return(0,l.fromBase64)(e);case"hex":return(0,d.fromHex)(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function p(e,t=["<",">"]){const[r,n]=t,i=[];let s="",o=0;for(let t=0;t<e.length;t++){const a=e[t];a===r&&o++,a===n&&o--,0!==o||","!==a?s+=a:(i.push(s.trim()),s="")}return i.push(s.trim()),i}},7903:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},8122:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{isWalletWithRequiredFeatureSet:()=>c}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a=["standard:connect","standard:events"];function c(e,t=[]){return[...a,...t].every(t=>t in e.features)}},8171:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}`,n=r.match(/[0-9a-fA-F]{2}/g)?.map(e=>parseInt(e,16))??[];if(n.length!==r.length/2)throw new Error(`Invalid hex string ${e}`);return Uint8Array.from(n)}function c(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{fromHex:()=>a,toHex:()=>c}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},8269:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=a(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(u(e,s+n)!==u(t,n)){r=!1;break}if(r)return s}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(Y(n))return o;e[r+o]=n}return o}function E(e,t,r,n){return G(F(t,e.length-r),e,r,n)}function O(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return G(K(t),e,r,n)}function _(e,t,r,n){return G(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==l[e]){s=u[e],o=l[e];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){V(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function R(e,t,r,n,i){V(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function N(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,s){return t=+t,r>>>=0,s||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,s){return t=+t,r>>>=0,s||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=X(function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||M(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||M(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=X(function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=X(function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const U={};function z(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,s)}function H(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),z("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function F(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function K(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},8293:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty;e.exports=((e,s,o,a)=>{if(s)for(let o of n(s))i.call(e,o)||void 0===o||t(e,o,{get:()=>s[o],enumerable:!(a=r(s,o))||a.enumerable});return e})(t({},"__esModule",{value:!0}),{})},8341:(e,t,r)=>{"use strict";var n;r.d(t,{v4:()=>l});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&o.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},l=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return u(n)}},8395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const n=r(6619),i=r(5104);t.request=e=>new Promise((t,r)=>{const s=(0,i.uuidv4)(),o=e=>{var n,i,a;if((null===(n=e.data)||void 0===n?void 0:n.isCosmostation)&&(null===(i=e.data)||void 0===i?void 0:i.messageId)===s){window.removeEventListener("message",o);const{data:n}=e;(null===(a=n.response)||void 0===a?void 0:a.error)?r(n.response.error):t(n.response.result)}};window.addEventListener("message",o),(0,n.sendMessageWebToApp)(e,s)})},8627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=t.bitMask=t.utf8ToBytes=t.randomBytes=t.isBytes=t.hexToBytes=t.concatBytes=t.bytesToUtf8=t.bytesToHex=t.anumber=t.abytes=void 0,t.abool=function(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)},t._abool2=function(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e},t._abytes2=function(e,t,r=""){const i=(0,n.isBytes)(e),s=e?.length,o=void 0!==t;if(!i||o&&s!==t)throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(i?`length=${s}`:"type="+typeof e));return e},t.numberToHexUnpadded=a,t.hexToNumber=c,t.bytesToNumberBE=function(e){return c((0,n.bytesToHex)(e))},t.bytesToNumberLE=function(e){return(0,n.abytes)(e),c((0,n.bytesToHex)(Uint8Array.from(e).reverse()))},t.numberToBytesBE=u,t.numberToBytesLE=function(e,t){return u(e,t).reverse()},t.numberToVarBytesBE=function(e){return(0,n.hexToBytes)(a(e))},t.ensureBytes=function(e,t,r){let i;if("string"==typeof t)try{i=(0,n.hexToBytes)(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!(0,n.isBytes)(t))throw new Error(e+" must be hex string or Uint8Array");i=Uint8Array.from(t)}const s=i.length;if("number"==typeof r&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return i},t.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},t.copyBytes=function(e){return Uint8Array.from(e)},t.asciiToBytes=function(e){return Uint8Array.from(e,(t,r)=>{const n=t.charCodeAt(0);if(1!==t.length||n>127)throw new Error(`string contains non-ASCII character "${e[r]}" with code ${n} at position ${r}`);return n})},t.inRange=d,t.aInRange=function(e,t,r,n){if(!d(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)},t.bitLen=function(e){let t;for(t=0;e>s;e>>=o,t+=1);return t},t.bitGet=function(e,t){return e>>BigInt(t)&o},t.bitSet=function(e,t,r){return e|(r?o:s)<<BigInt(t)},t.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");const i=e=>new Uint8Array(e),s=e=>Uint8Array.of(e);let o=i(e),a=i(e),c=0;const u=()=>{o.fill(1),a.fill(0),c=0},l=(...e)=>r(a,o,...e),d=(e=i(0))=>{a=l(s(0),e),o=l(),0!==e.length&&(a=l(s(1),e),o=l())},h=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){o=l();const t=o.slice();r.push(t),e+=o.length}return(0,n.concatBytes)(...r)};return(e,t)=>{let r;for(u(),d(e);!(r=t(h()));)d();return u(),r}},t.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=h[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e},t.isHash=function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)},t._validateObject=function(e,t,r={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function n(t,r,n){const i=e[t];if(n&&void 0===i)return;const s=typeof i;if(s!==r||null===i)throw new Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))},t.memoized=function(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}};const n=r(9175);var i=r(9175);Object.defineProperty(t,"abytes",{enumerable:!0,get:function(){return i.abytes}}),Object.defineProperty(t,"anumber",{enumerable:!0,get:function(){return i.anumber}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return i.bytesToHex}}),Object.defineProperty(t,"bytesToUtf8",{enumerable:!0,get:function(){return i.bytesToUtf8}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return i.concatBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return i.hexToBytes}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return i.isBytes}}),Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return i.randomBytes}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return i.utf8ToBytes}});const s=BigInt(0),o=BigInt(1);function a(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function c(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}function u(e,t){return(0,n.hexToBytes)(e.toString(16).padStart(2*t,"0"))}const l=e=>"bigint"==typeof e&&s<=e;function d(e,t,r){return l(e)&&l(t)&&l(r)&&t<=e&&e<r}t.bitMask=e=>(o<<BigInt(e))-o;const h={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||(0,n.isBytes)(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};t.notImplemented=()=>{throw new Error("not implemented")}},8733:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{ObjectOut:()=>E,TransactionEffects:()=>A}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(6599);const d=u.bcs.enum("PackageUpgradeError",{UnableToFetchPackage:u.bcs.struct("UnableToFetchPackage",{packageId:l.Address}),NotAPackage:u.bcs.struct("NotAPackage",{objectId:l.Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:u.bcs.struct("DigestDoesNotMatch",{digest:u.bcs.vector(u.bcs.u8())}),UnknownUpgradePolicy:u.bcs.struct("UnknownUpgradePolicy",{policy:u.bcs.u8()}),PackageIDDoesNotMatch:u.bcs.struct("PackageIDDoesNotMatch",{packageId:l.Address,ticketId:l.Address})}),h=u.bcs.struct("ModuleId",{address:l.Address,name:u.bcs.string()}),f=u.bcs.struct("MoveLocation",{module:h,function:u.bcs.u16(),instruction:u.bcs.u16(),functionName:u.bcs.option(u.bcs.string())}),p=u.bcs.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:u.bcs.struct("IndexOutOfBounds",{idx:u.bcs.u16()}),SecondaryIndexOutOfBounds:u.bcs.struct("SecondaryIndexOutOfBounds",{resultIdx:u.bcs.u16(),secondaryIdx:u.bcs.u16()}),InvalidResultArity:u.bcs.struct("InvalidResultArity",{resultIdx:u.bcs.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),y=u.bcs.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),g=u.bcs.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:u.bcs.struct("MoveObjectTooBig",{objectSize:u.bcs.u64(),maxObjectSize:u.bcs.u64()}),MovePackageTooBig:u.bcs.struct("MovePackageTooBig",{objectSize:u.bcs.u64(),maxObjectSize:u.bcs.u64()}),CircularObjectOwnership:u.bcs.struct("CircularObjectOwnership",{object:l.Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,IotaMoveVerificationError:null,MovePrimitiveRuntimeError:u.bcs.option(f),MoveAbort:u.bcs.tuple([f,u.bcs.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:u.bcs.struct("CommandArgumentError",{argIdx:u.bcs.u16(),kind:p}),TypeArgumentError:u.bcs.struct("TypeArgumentError",{argumentIdx:u.bcs.u16(),kind:y}),UnusedValueWithoutDrop:u.bcs.struct("UnusedValueWithoutDrop",{resultIdx:u.bcs.u16(),secondaryIdx:u.bcs.u16()}),InvalidPublicFunctionReturnType:u.bcs.struct("InvalidPublicFunctionReturnType",{idx:u.bcs.u16()}),InvalidTransferObject:null,EffectsTooLarge:u.bcs.struct("EffectsTooLarge",{currentSize:u.bcs.u64(),maxSize:u.bcs.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:u.bcs.struct("PackageUpgradeError",{upgradeError:d}),WrittenObjectsTooLarge:u.bcs.struct("WrittenObjectsTooLarge",{currentSize:u.bcs.u64(),maxSize:u.bcs.u64()}),CertificateDenied:null,IotaMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:u.bcs.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:u.bcs.vector(l.Address)}),AddressDeniedForCoin:u.bcs.struct("AddressDeniedForCoin",{address:l.Address,coinType:u.bcs.string()}),CoinTypeGlobalPause:u.bcs.struct("CoinTypeGlobalPause",{coinType:u.bcs.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),m=u.bcs.enum("ExecutionStatus",{Success:null,Failed:u.bcs.struct("ExecutionFailed",{error:g,command:u.bcs.option(u.bcs.u64())})}),b=u.bcs.struct("GasCostSummary",{computationCost:u.bcs.u64(),computationCostBurned:u.bcs.u64(),storageCost:u.bcs.u64(),storageRebate:u.bcs.u64(),nonRefundableStorageFee:u.bcs.u64()}),w=u.bcs.tuple([u.bcs.u64(),l.ObjectDigest]),v=u.bcs.enum("ObjectIn",{NotExist:null,Exist:u.bcs.tuple([w,l.Owner])}),E=u.bcs.enum("ObjectOut",{NotExist:null,ObjectWrite:u.bcs.tuple([l.ObjectDigest,l.Owner]),PackageWrite:w}),O=u.bcs.enum("IDOperation",{None:null,Created:null,Deleted:null}),S=u.bcs.struct("EffectsObjectChange",{inputState:v,outputState:E,idOperation:O}),_=u.bcs.enum("UnchangedSharedKind",{ReadOnlyRoot:w,MutateDeleted:u.bcs.u64(),ReadDeleted:u.bcs.u64(),Cancelled:u.bcs.u64(),PerEpochConfig:null}),k=u.bcs.struct("TransactionEffectsV1",{status:m,executedEpoch:u.bcs.u64(),gasUsed:b,transactionDigest:l.ObjectDigest,gasObjectIndex:u.bcs.option(u.bcs.u32()),eventsDigest:u.bcs.option(l.ObjectDigest),dependencies:u.bcs.vector(l.ObjectDigest),lamportVersion:u.bcs.u64(),changedObjects:u.bcs.vector(u.bcs.tuple([l.Address,S])),unchangedSharedObjects:u.bcs.vector(u.bcs.tuple([l.Address,_])),auxDataDigest:u.bcs.option(l.ObjectDigest)}),A=u.bcs.enum("TransactionEffects",{V1:k})},8823:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsEnum:()=>f.BcsEnum,BcsStruct:()=>f.BcsStruct,BcsTuple:()=>f.BcsTuple,BcsType:()=>f.BcsType,TypeTagSerializer:()=>h.TypeTagSerializer,bcs:()=>y,pureBcsSchemaFromTypeName:()=>p.pureBcsSchemaFromTypeName}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9113),l=r(3871),d=r(1989),h=r(3583),f=r(9113),p=r(6837);const y={...u.bcs,U8:u.bcs.u8(),U16:u.bcs.u16(),U32:u.bcs.u32(),U64:u.bcs.u64(),U128:u.bcs.u128(),U256:u.bcs.u256(),ULEB128:u.bcs.uleb128(),Bool:u.bcs.bool(),String:u.bcs.string(),Address:l.Address,AppId:l.AppId,Argument:l.Argument,CallArg:l.CallArg,Command:l.Command,CompressedSignature:l.CompressedSignature,GasData:l.GasData,Intent:l.Intent,IntentMessage:l.IntentMessage,IntentScope:l.IntentScope,IntentVersion:l.IntentVersion,MultiSig:l.MultiSig,MultiSigPkMap:l.MultiSigPkMap,MultiSigPublicKey:l.MultiSigPublicKey,ObjectArg:l.ObjectArg,ObjectDigest:l.ObjectDigest,Owner:l.Owner,PasskeyAuthenticator:l.PasskeyAuthenticator,ProgrammableMoveCall:l.ProgrammableMoveCall,ProgrammableTransaction:l.ProgrammableTransaction,PublicKey:l.PublicKey,SenderSignedData:l.SenderSignedData,SenderSignedTransaction:l.SenderSignedTransaction,SharedObjectRef:l.SharedObjectRef,StructTag:l.StructTag,SuiObjectRef:l.SuiObjectRef,TransactionData:l.TransactionData,TransactionDataV1:l.TransactionDataV1,TransactionEffects:d.TransactionEffects,TransactionExpiration:l.TransactionExpiration,TransactionKind:l.TransactionKind,TypeTag:l.TypeTag}},8940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED=t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED=t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED=t.WALLET_STANDARD_ERROR__USER__REQUEST_REJECTED=t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND=t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND=void 0,t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND=3834e3,t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND=3834001,t.WALLET_STANDARD_ERROR__USER__REQUEST_REJECTED=4001e3,t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED=616e4,t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED=6160001,t.WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED=6160002},8957:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1487));t.default=(0,i.default)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9065:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{deriveDynamicFieldID:()=>h}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(2310),l=r(6719),d=r(2175);function h(e,t,r){const n=d.bcs.Address.serialize(e).toBytes(),i=d.bcs.TypeTag.serialize(t).toBytes(),s=d.bcs.u64().serialize(r.length).toBytes(),o=l.blake2b.create({dkLen:32});return o.update(new Uint8Array([240])),o.update(n),o.update(s),o.update(r),o.update(i),`0x${(0,u.toHex)(o.digest().slice(0,32))}`}},9113:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsEnum:()=>l.BcsEnum,BcsReader:()=>h.BcsReader,BcsStruct:()=>l.BcsStruct,BcsTuple:()=>l.BcsTuple,BcsType:()=>l.BcsType,BcsWriter:()=>p.BcsWriter,SerializedBcs:()=>l.SerializedBcs,bcs:()=>d.bcs,decodeStr:()=>f.decodeStr,encodeStr:()=>f.encodeStr,fromB58:()=>g,fromB64:()=>b,fromBase58:()=>u.fromBase58,fromBase64:()=>u.fromBase64,fromHEX:()=>v,fromHex:()=>u.fromHex,isSerializedBcs:()=>l.isSerializedBcs,splitGenericParameters:()=>f.splitGenericParameters,toB58:()=>y,toB64:()=>m,toBase58:()=>u.toBase58,toBase64:()=>u.toBase64,toHEX:()=>w,toHex:()=>u.toHex}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(5898),l=r(6634),d=r(7113),h=r(4286),f=r(7476),p=r(3790);const y=u.toBase58,g=u.fromBase58,m=u.toBase64,b=u.fromBase64,w=u.toHex,v=u.fromHex},9175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=s,t.abytes=o,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},t.aoutput=function(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=a,t.byteSwap32=c,t.bytesToHex=function(e){if(o(e),u)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=l[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=f,t.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},t.toBytes=p,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=f(e)),o(e),e},t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];o(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=y,t.createOptHasher=g,t.createXOFer=m,t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")};const n=r(5145);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function o(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function c(e){for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>a(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:c;const u=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),d={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function f(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),o(e),e}function y(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function g(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function m(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}t.nextTick=async()=>{},t.Hash=class{},t.wrapConstructor=y,t.wrapConstructorWithOpts=g,t.wrapXOFConstructorWithOpts=m},9279:(e,t,r)=>{"use strict";var n,i=r(5606),s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,u={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(u,{DataLoader:()=>l}),e.exports=(n=u,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of a(t))c.call(e,r)||void 0===r||s(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));class l{constructor(e,t){if("function"!=typeof e)throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: ${e}.`);this._batchLoadFn=e,this._maxBatchSize=function(e){if(!(!e||!1!==e.batch))return 1;const t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw new TypeError(`maxBatchSize must be a positive number: ${t}`);return t}(t),this._batchScheduleFn=function(e){const t=e&&e.batchScheduleFn;if(void 0===t)return d;if("function"!=typeof t)throw new TypeError(`batchScheduleFn must be a function: ${t}`);return t}(t),this._cacheKeyFn=function(e){const t=e&&e.cacheKeyFn;if(void 0===t)return e=>e;if("function"!=typeof t)throw new TypeError(`cacheKeyFn must be a function: ${t}`);return t}(t),this._cacheMap=function(e){if(!(!e||!1!==e.cache))return null;const t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){const e=["get","set","delete","clear"].filter(e=>t&&"function"!=typeof t[e]);if(0!==e.length)throw new TypeError("Custom cacheMap missing methods: "+e.join(", "))}return t}(t),this._batch=null,this.name=function(e){return e&&e.name?e.name:null}(t)}load(e){if(null==e)throw new TypeError(`The loader.load() function must be called with a value, but got: ${String(e)}.`);const t=function(e){const t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;const r={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=r,e._batchScheduleFn(()=>{!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void p(t);let r;try{r=e._batchLoadFn(t.keys)}catch(r){return f(e,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: ${String(r)}.`))}if(!r||"function"!=typeof r.then)return f(e,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: ${String(r)}.`));Promise.resolve(r).then(e=>{if(!y(e))throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: ${String(e)}.`);if(e.length!==t.keys.length)throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n${String(t.keys)}\n\nValues:\n${String(e)}`);p(t);for(let r=0;r<t.callbacks.length;r++){const n=e[r];n instanceof Error?t.callbacks[r].reject(n):t.callbacks[r].resolve(n)}}).catch(r=>{f(e,t,r)})}(e,r)}),r}(this),r=this._cacheMap;let n;if(r){n=this._cacheKeyFn(e);const i=r.get(n);if(i){const e=t.cacheHits||(t.cacheHits=[]);return new Promise(t=>{e.push(()=>{t(i)})})}}t.keys.push(e);const i=new Promise((e,r)=>{t.callbacks.push({resolve:e,reject:r})});return r&&r.set(n,i),i}loadMany(e){if(!y(e))throw new TypeError(`The loader.loadMany() function must be called with Array<key>, but got: ${e}.`);const t=[];for(let r=0;r<e.length;r++)t.push(this.load(e[r]).catch(e=>e));return Promise.all(t)}clear(e){const t=this._cacheMap;if(t){const r=this._cacheKeyFn(e);t.delete(r)}return this}clearAll(){const e=this._cacheMap;return e&&e.clear(),this}prime(e,t){const r=this._cacheMap;if(r){const n=this._cacheKeyFn(e);if(void 0===r.get(n)){let e;t instanceof Error?(e=Promise.reject(t),e.catch(()=>{})):e=Promise.resolve(t),r.set(n,e)}}return this}}const d="object"==typeof i&&"function"==typeof i.nextTick?function(e){h||(h=Promise.resolve()),h.then(()=>{i.nextTick(e)})}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};let h;function f(e,t,r){p(t);for(let n=0;n<t.keys.length;n++)e.clear(t.keys[n]),t.callbacks[n].reject(r)}function p(e){if(e.cacheHits)for(let t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function y(e){return"object"==typeof e&&null!==e&&"length"in e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}},9329:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=e=>{throw TypeError(e)},u=(e,t,r)=>t.has(e)||c("Cannot "+r),l=(e,t,r)=>(u(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,n)=>(u(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),f=(e,t,r)=>(u(e,t,"access private method"),r),p=(e,t,r,n)=>({set _(n){h(e,t,n,r)},get _(){return l(e,t,n)}}),y={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(y,{ParallelTransactionExecutor:()=>Z}),e.exports=(n=y,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var g,m,b,w,v,E,O,S,_,k,A,I,x,T,B,P,j,M,C,R,N,L,D,U,z,q,V=r(2310),H=r(2175),$=r(7568),W=r(2984),F=r(1877),K=r(1571),G=r(7358);class Z{constructor(e){d(this,C),d(this,g),d(this,m),d(this,b),d(this,w),d(this,v),d(this,E),d(this,O),d(this,S),d(this,_),d(this,k,[]),d(this,A),d(this,I,new Map),d(this,x,new K.SerialQueue),d(this,T),d(this,B,null),d(this,P,null),d(this,j,0),d(this,M,null),h(this,g,e.signer),h(this,m,e.client),h(this,b,e.coinBatchSize??20),h(this,w,e.initialCoinBalance??200000000n),h(this,v,e.minimumCoinBalance??50000000n),h(this,O,e.defaultGasBudget??l(this,v)),h(this,E,e.epochBoundaryWindow??1e3),h(this,S,e.maxPoolSize??50),h(this,A,new F.CachingTransactionExecutor({client:e.client,cache:e.cache})),h(this,T,new K.ParallelQueue(l(this,S))),h(this,_,e.sourceCoins?new Map(e.sourceCoins.map(e=>[e,null])):null)}resetCache(){return h(this,M,null),f(this,C,L).call(this,()=>l(this,A).reset())}async waitForLastTransaction(){await f(this,C,L).call(this,()=>f(this,C,D).call(this))}async executeTransaction(e,t){const{promise:r,resolve:n,reject:i}=function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}(),s=await f(this,C,R).call(this,e),o=()=>{l(this,T).runTask(()=>f(this,C,N).call(this,e,s,t).then(n,i))},a=new Set;return s.forEach(e=>{l(this,I).get(e)?(a.add(e),l(this,I).get(e).push(()=>{a.delete(e),0===a.size&&o()})):l(this,I).set(e,[])}),0===a.size&&o(),r}}g=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,v=new WeakMap,E=new WeakMap,O=new WeakMap,S=new WeakMap,_=new WeakMap,k=new WeakMap,A=new WeakMap,I=new WeakMap,x=new WeakMap,T=new WeakMap,B=new WeakMap,P=new WeakMap,j=new WeakMap,M=new WeakMap,C=new WeakSet,R=async function(e){const t=new Set;let r=!1;return e.addSerializationPlugin(async(e,n,i)=>{await i(),r||(r=!0,e.inputs.forEach(e=>{e.Object?.ImmOrOwnedObject?.objectId?t.add(e.Object.ImmOrOwnedObject.objectId):e.Object?.Receiving?.objectId?t.add(e.Object.Receiving.objectId):e.UnresolvedObject?.objectId&&!e.UnresolvedObject.initialSharedVersion&&t.add(e.UnresolvedObject.objectId)}))}),await e.prepareForSerialization({client:l(this,m)}),t},N=async function(e,t,r){let n;try{e.setSenderIfNotSet(l(this,g).toIotaAddress()),await l(this,x).runTask(async()=>{e.getData().gasData.price||e.setGasPrice(await f(this,C,z).call(this)),e.setGasBudgetIfNotSet(l(this,O)),await f(this,C,L).call(this),n=await f(this,C,U).call(this),p(this,j)._++,e.setGasPayment([{objectId:n.id,version:n.version,digest:n.digest}]),await l(this,A).buildTransaction({transaction:e,onlyTransactionKind:!0})});const t=await e.build({client:l(this,m)}),{signature:i}=await l(this,g).signTransaction(t),s=await l(this,A).executeTransaction({transaction:t,signature:i,options:{...r,showEffects:!0}}),o=Uint8Array.from(s.rawEffects),a=H.bcs.TransactionEffects.parse(o),c=(0,G.getGasCoinFromEffects)(a),u=a.V1?.gasUsed;if(n&&u&&c.owner===l(this,g).toIotaAddress()){const t=BigInt(u.computationCost)+BigInt(u.storageCost)+BigInt(u.storageCost)-BigInt(u.storageRebate);let r=!1;new W.TransactionDataBuilder(e.getData()).mapArguments(e=>("GasCoin"===e.$kind&&(r=!0),e)),!r&&n.balance>=l(this,v)?l(this,k).push({id:c.ref.objectId,version:c.ref.version,digest:c.ref.digest,balance:n.balance-t}):(l(this,_)||h(this,_,new Map),l(this,_).set(c.ref.objectId,c.ref))}return h(this,B,s.digest),{digest:s.digest,effects:(0,V.toBase64)(o),data:s}}catch(e){throw n&&(l(this,_)||h(this,_,new Map),l(this,_).set(n.id,null)),await f(this,C,L).call(this,async()=>{await Promise.all([l(this,A).cache.deleteObjects([...t]),f(this,C,D).call(this)])}),e}finally{t.forEach(e=>{const t=l(this,I).get(e);t&&t.length>0?t.shift()():t&&l(this,I).delete(e)}),p(this,j)._--}},L=async function(e){l(this,P)&&await l(this,P),h(this,P,e?.().then(()=>{h(this,P,null)},()=>{})??null)},D=async function(){const e=l(this,B);e&&(h(this,B,null),await l(this,m).waitForTransaction({digest:e}))},U=async function(){if(0===l(this,k).length&&l(this,j)<=l(this,S)&&await f(this,C,q).call(this),0===l(this,k).length)throw new Error("No coins available");return l(this,k).shift()},z=async function(){if((l(this,M)?l(this,M).expiration-l(this,E)-Date.now():0)>0)return l(this,M).price;if(l(this,M)){const e=Math.max(l(this,M).expiration+l(this,E)-Date.now(),1e3);await new Promise(t=>setTimeout(t,e))}const e=await l(this,m).getLatestIotaSystemState();return h(this,M,{price:BigInt(e.referenceGasPrice),expiration:Number.parseInt(e.epochStartTimestampMs,10)+Number.parseInt(e.epochDurationMs,10)}),f(this,C,z).call(this)},q=async function(){const e=Math.min(l(this,b),l(this,S)-(l(this,k).length+l(this,j))+1);if(0===e)return;const t=new $.Transaction,r=l(this,g).toIotaAddress();if(t.setSender(r),l(this,_)){const e=[],r=[];for(const[t,n]of l(this,_))n?e.push(n):r.push(t);if(r.length>0){const t=await l(this,m).multiGetObjects({ids:r});e.push(...t.filter(e=>null!==e.data).map(({data:e})=>({objectId:e.objectId,version:e.version,digest:e.digest})))}t.setGasPayment(e),h(this,_,new Map)}const n=new Array(e).fill(l(this,w)),i=t.splitCoins(t.gas,n),s=[];for(let e=0;e<n.length;e++)s.push(i[e]);t.transferObjects(s,r),await this.waitForLastTransaction();const o=await l(this,m).signAndExecuteTransaction({transaction:t,signer:l(this,g),options:{showRawEffects:!0}}),a=H.bcs.TransactionEffects.parse(Uint8Array.from(o.rawEffects));a.V1?.changedObjects.forEach(([e,{outputState:t}],r)=>{r!==a.V1?.gasObjectIndex&&t.ObjectWrite&&l(this,k).push({id:e,version:a.V1.lamportVersion,digest:t.ObjectWrite[0],balance:BigInt(l(this,w))})}),l(this,_)||h(this,_,new Map);const c=(0,G.getGasCoinFromEffects)(a).ref;l(this,_).set(c.objectId,c),await l(this,m).waitForTransaction({digest:o.digest})}},9391:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(e,t){return Array.from({length:Math.ceil(e.length/t)},(r,n)=>e.slice(n*t,(n+1)*t))}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{chunk:()=>a}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t))},9404:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7790).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var s=0,o=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&o<i,"Invalid character"),s+=o}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var d=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var p=u-f|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?h[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],l=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(l).toString(e);r=(d=d.idivn(l)).isZero()?y+r:h[u-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,s,o=e.words,a=t.words,c=r.words,u=0,l=0|o[0],d=8191&l,h=l>>>13,f=0|o[1],p=8191&f,y=f>>>13,g=0|o[2],m=8191&g,b=g>>>13,w=0|o[3],v=8191&w,E=w>>>13,O=0|o[4],S=8191&O,_=O>>>13,k=0|o[5],A=8191&k,I=k>>>13,x=0|o[6],T=8191&x,B=x>>>13,P=0|o[7],j=8191&P,M=P>>>13,C=0|o[8],R=8191&C,N=C>>>13,L=0|o[9],D=8191&L,U=L>>>13,z=0|a[0],q=8191&z,V=z>>>13,H=0|a[1],$=8191&H,W=H>>>13,F=0|a[2],K=8191&F,G=F>>>13,Z=0|a[3],Y=8191&Z,J=Z>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],de=8191&le,he=le>>>13,fe=0|a[9],pe=8191&fe,ye=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,q))|0)+((8191&(i=(i=Math.imul(d,V))+Math.imul(h,q)|0))<<13)|0;u=((s=Math.imul(h,V))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,V))+Math.imul(y,q)|0,s=Math.imul(y,V);var me=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,$)|0))<<13)|0;u=((s=s+Math.imul(h,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,q),i=(i=Math.imul(m,V))+Math.imul(b,q)|0,s=Math.imul(b,V),n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(y,$)|0,s=s+Math.imul(y,W)|0;var be=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,K)|0))<<13)|0;u=((s=s+Math.imul(h,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,V))+Math.imul(E,q)|0,s=Math.imul(E,V),n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,G)|0;var we=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,Y)|0))<<13)|0;u=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,V))+Math.imul(_,q)|0,s=Math.imul(_,V),n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,W)|0,n=n+Math.imul(m,K)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,Y)|0,s=s+Math.imul(y,J)|0;var ve=(u+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,V))+Math.imul(I,q)|0,s=Math.imul(I,V),n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,G)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(b,Y)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,ee)|0;var Ee=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((s=s+Math.imul(h,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(T,q),i=(i=Math.imul(T,V))+Math.imul(B,q)|0,s=Math.imul(B,V),n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,W)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,G)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(E,Y)|0,s=s+Math.imul(E,J)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ne)|0;var Oe=(u+(n=n+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;u=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,q),i=(i=Math.imul(j,V))+Math.imul(M,q)|0,s=Math.imul(M,V),n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0;var Se=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((s=s+Math.imul(h,ue)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,q),i=(i=Math.imul(R,V))+Math.imul(N,q)|0,s=Math.imul(N,V),n=n+Math.imul(j,$)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,W)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,G)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(I,Y)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(m,se)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,ue)|0;var _e=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,V))+Math.imul(U,q)|0,s=Math.imul(U,V),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(j,K)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,G)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(B,Y)|0,s=s+Math.imul(B,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(v,se)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,de)|0,s=s+Math.imul(y,he)|0;var ke=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((s=s+Math.imul(h,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,s=Math.imul(U,W),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,J)|0)+Math.imul(M,Y)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(I,re)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(E,ce)|0,s=s+Math.imul(E,ue)|0,n=n+Math.imul(m,de)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(b,de)|0,s=s+Math.imul(b,he)|0;var Ae=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((s=s+Math.imul(y,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,G))+Math.imul(U,K)|0,s=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(A,se)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,s=s+Math.imul(_,ue)|0,n=n+Math.imul(v,de)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(E,de)|0,s=s+Math.imul(E,he)|0;var Ie=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(b,pe)|0))<<13)|0;u=((s=s+Math.imul(b,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,J))+Math.imul(U,Y)|0,s=Math.imul(U,J),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(j,re)|0,i=(i=i+Math.imul(j,ne)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(I,ce)|0,s=s+Math.imul(I,ue)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(_,de)|0,s=s+Math.imul(_,he)|0;var xe=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(E,pe)|0))<<13)|0;u=((s=s+Math.imul(E,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,s=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(j,se)|0,i=(i=i+Math.imul(j,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,n=n+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(B,ce)|0,s=s+Math.imul(B,ue)|0,n=n+Math.imul(A,de)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(I,de)|0,s=s+Math.imul(I,he)|0;var Te=(u+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((s=s+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,s=Math.imul(U,ne),n=n+Math.imul(R,se)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,ue)|0,n=n+Math.imul(T,de)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(B,de)|0,s=s+Math.imul(B,he)|0;var Be=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((s=s+Math.imul(I,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(D,se),i=(i=Math.imul(D,oe))+Math.imul(U,se)|0,s=Math.imul(U,oe),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(N,ce)|0,s=s+Math.imul(N,ue)|0,n=n+Math.imul(j,de)|0,i=(i=i+Math.imul(j,he)|0)+Math.imul(M,de)|0,s=s+Math.imul(M,he)|0;var Pe=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ye)|0)+Math.imul(B,pe)|0))<<13)|0;u=((s=s+Math.imul(B,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(U,ce)|0,s=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,de)|0,s=s+Math.imul(N,he)|0;var je=(u+(n=n+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ye)|0)+Math.imul(M,pe)|0))<<13)|0;u=((s=s+Math.imul(M,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(D,de),i=(i=Math.imul(D,he))+Math.imul(U,de)|0,s=Math.imul(U,he);var Me=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((s=s+Math.imul(N,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ce=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ye))+Math.imul(U,pe)|0))<<13)|0;return u=((s=Math.imul(U,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=ge,c[1]=me,c[2]=be,c[3]=we,c[4]=ve,c[5]=Ee,c[6]=Oe,c[7]=Se,c[8]=_e,c[9]=ke,c[10]=Ae,c[11]=Ie,c[12]=xe,c[13]=Te,c[14]=Be,c[15]=Pe,c[16]=je,c[17]=Me,c[18]=Ce,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var l=s-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function b(e,t,r){return m(e,t,r)}function w(e,t){this.x=e,this.y=t}Math.imul||(g=y),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?y(this,e,t):r<1024?m(this,e,t):b(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},w.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,h=u,f=0;f<o;f++){var p=r[l+f],y=n[l+f],g=r[l+f+o],m=n[l+f+o],b=d*g-h*m;m=d*m+h*g,g=b,r[l+f]=p+g,n[l+f]=y+m,r[l+f+o]=p-g,n[l+f+o]=y-m,f!==a&&(b=c*d-u*h,h=c*h+u*d,d=b)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},w.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,l,d,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,h,s,n,i),this.conjugate(h,s,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),b(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-s|d>>>s,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,y=1;0===(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(c)):(r.isub(t),a.isub(i),c.isub(o))}return{a,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var d=0,h=1;0===(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new A(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(O,E),O.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},O.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,E),i(_,E),i(k,E),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new O;else if("p224"===e)t=new S;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return v[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var y=f,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var m=this.pow(d,new s(1).iushln(p-g-1));h=h.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new I(e)},i(I,A),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},9415:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};function a(){return{kind:"transformation",type:"await",reference:a,async:!0,_run:async e=>(e.value=await e.value,e)}}((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{BIC_REGEX:()=>h,CUID2_REGEX:()=>f,DECIMAL_REGEX:()=>p,EMAIL_REGEX:()=>y,EMOJI_REGEX:()=>g,HEXADECIMAL_REGEX:()=>m,HEX_COLOR_REGEX:()=>b,IMEI_REGEX:()=>w,IPV4_REGEX:()=>v,IPV6_REGEX:()=>E,IP_REGEX:()=>O,ISO_DATE_REGEX:()=>S,ISO_DATE_TIME_REGEX:()=>_,ISO_TIMESTAMP_REGEX:()=>I,ISO_TIME_REGEX:()=>k,ISO_TIME_SECOND_REGEX:()=>A,ISO_WEEK_REGEX:()=>x,MAC48_REGEX:()=>T,MAC64_REGEX:()=>B,MAC_REGEX:()=>P,OCTAL_REGEX:()=>j,ULID_REGEX:()=>M,UUID_REGEX:()=>C,ValiError:()=>ne,_addIssue:()=>G,_isLuhnAlgo:()=>Y,_isValidObjectKey:()=>J,_stringify:()=>K,any:()=>Yt,array:()=>Jt,arrayAsync:()=>Xt,awaitAsync:()=>a,bic:()=>ie,bigint:()=>Qt,blob:()=>er,boolean:()=>tr,brand:()=>se,bytes:()=>oe,check:()=>ae,checkAsync:()=>ce,checkItems:()=>ue,config:()=>Lt,creditCard:()=>fe,cuid2:()=>pe,custom:()=>rr,customAsync:()=>nr,date:()=>ir,decimal:()=>ye,deleteGlobalConfig:()=>L,deleteGlobalMessage:()=>z,deleteSchemaMessage:()=>H,deleteSpecificMessage:()=>F,email:()=>ge,emoji:()=>me,empty:()=>be,endsWith:()=>we,entriesFromList:()=>X,enum:()=>sr,enum_:()=>sr,everyItem:()=>ve,excludes:()=>Ee,fallback:()=>Ut,fallbackAsync:()=>zt,file:()=>or,filterItems:()=>Oe,findItem:()=>Se,finite:()=>_e,flatten:()=>qt,forward:()=>Vt,forwardAsync:()=>Ht,function:()=>ar,function_:()=>ar,getDefault:()=>$t,getDefaults:()=>Wt,getDefaultsAsync:()=>Ft,getDotPath:()=>Q,getFallback:()=>Dt,getFallbacks:()=>Kt,getFallbacksAsync:()=>Gt,getGlobalConfig:()=>N,getGlobalMessage:()=>U,getSchemaMessage:()=>V,getSpecificMessage:()=>W,hash:()=>Ae,hexColor:()=>xe,hexadecimal:()=>Ie,imei:()=>Te,includes:()=>Be,instance:()=>cr,integer:()=>Pe,intersect:()=>lr,intersectAsync:()=>dr,ip:()=>je,ipv4:()=>Me,ipv6:()=>Ce,is:()=>Zt,isOfKind:()=>ee,isOfType:()=>te,isValiError:()=>re,isoDate:()=>Re,isoDateTime:()=>Ne,isoTime:()=>Le,isoTimeSecond:()=>De,isoTimestamp:()=>Ue,isoWeek:()=>ze,keyof:()=>fn,lazy:()=>hr,lazyAsync:()=>fr,length:()=>qe,literal:()=>pr,looseObject:()=>yr,looseObjectAsync:()=>gr,looseTuple:()=>mr,looseTupleAsync:()=>br,mac:()=>Ve,mac48:()=>He,mac64:()=>$e,map:()=>wr,mapAsync:()=>vr,mapItems:()=>We,maxBytes:()=>Fe,maxLength:()=>Ke,maxSize:()=>Ge,maxValue:()=>Ze,mimeType:()=>Ye,minBytes:()=>Je,minLength:()=>Xe,minSize:()=>Qe,minValue:()=>et,multipleOf:()=>tt,nan:()=>Er,never:()=>Or,nonEmpty:()=>rt,nonNullable:()=>Sr,nonNullableAsync:()=>_r,nonNullish:()=>kr,nonNullishAsync:()=>Ar,nonOptional:()=>Ir,nonOptionalAsync:()=>xr,normalize:()=>nt,notBytes:()=>it,notLength:()=>st,notSize:()=>ot,notValue:()=>at,null:()=>Tr,null_:()=>Tr,nullable:()=>Br,nullableAsync:()=>Pr,nullish:()=>jr,nullishAsync:()=>Mr,number:()=>Cr,object:()=>Rr,objectAsync:()=>Nr,objectWithRest:()=>Lr,objectWithRestAsync:()=>Dr,octal:()=>ct,omit:()=>pn,optional:()=>Ur,optionalAsync:()=>zr,parse:()=>yn,parseAsync:()=>gn,parser:()=>mn,parserAsync:()=>bn,partial:()=>wn,partialAsync:()=>vn,partialCheck:()=>lt,partialCheckAsync:()=>dt,pick:()=>En,picklist:()=>qr,pipe:()=>On,pipeAsync:()=>Sn,promise:()=>Vr,rawCheck:()=>ht,rawCheckAsync:()=>ft,rawTransform:()=>pt,rawTransformAsync:()=>yt,readonly:()=>gt,record:()=>Hr,recordAsync:()=>$r,reduceItems:()=>mt,regex:()=>bt,required:()=>_n,requiredAsync:()=>kn,safeInteger:()=>wt,safeParse:()=>An,safeParseAsync:()=>In,safeParser:()=>xn,safeParserAsync:()=>Tn,set:()=>Wr,setAsync:()=>Fr,setGlobalConfig:()=>R,setGlobalMessage:()=>D,setSchemaMessage:()=>q,setSpecificMessage:()=>$,size:()=>vt,someItem:()=>Et,sortItems:()=>Ot,startsWith:()=>St,strictObject:()=>Kr,strictObjectAsync:()=>Gr,strictTuple:()=>Zr,strictTupleAsync:()=>Yr,string:()=>Jr,symbol:()=>Xr,toLowerCase:()=>_t,toMaxValue:()=>kt,toMinValue:()=>At,toUpperCase:()=>It,transform:()=>xt,transformAsync:()=>Tt,trim:()=>Bt,trimEnd:()=>Pt,trimStart:()=>jt,tuple:()=>Qr,tupleAsync:()=>en,tupleWithRest:()=>tn,tupleWithRestAsync:()=>rn,ulid:()=>Mt,undefined:()=>nn,undefined_:()=>nn,union:()=>on,unionAsync:()=>an,unknown:()=>cn,unwrap:()=>Bn,url:()=>Ct,uuid:()=>Rt,value:()=>Nt,variant:()=>ln,variantAsync:()=>dn,void:()=>hn,void_:()=>hn}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var c,u,l,d,h=/^[A-Z]{6}(?!00)[A-Z\d]{2}(?:[A-Z\d]{3})?$/u,f=/^[a-z][\da-z]*$/u,p=/^\d+$/u,y=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,g=/^[\p{Extended_Pictographic}\p{Emoji_Component}]+$/u,m=/^(?:0h|0x)?[\da-f]+$/iu,b=/^#(?:[\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/iu,w=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,v=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,E=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,O=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,S=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,_=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3]):[0-5]\d$/u,k=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,A=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,I=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,x=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,T=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,B=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,P=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,j=/^(?:0o)?[0-7]+$/iu,M=/^[\da-hjkmnp-tv-z]{26}$/iu,C=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu;function R(e){c={...c,...e}}function N(e){return{lang:e?.lang??c?.lang,message:e?.message,abortEarly:e?.abortEarly??c?.abortEarly,abortPipeEarly:e?.abortPipeEarly??c?.abortPipeEarly}}function L(){c=void 0}function D(e,t){u||(u=new Map),u.set(t,e)}function U(e){return u?.get(e)}function z(e){u?.delete(e)}function q(e,t){l||(l=new Map),l.set(t,e)}function V(e){return l?.get(e)}function H(e){l?.delete(e)}function $(e,t,r){d||(d=new Map),d.get(e)||d.set(e,new Map),d.get(e).set(r,t)}function W(e,t){return d?.get(e)?.get(t)}function F(e,t){d?.get(e)?.delete(t)}function K(e){const t=typeof e;return"string"===t?`"${e}"`:"number"===t||"bigint"===t||"boolean"===t?`${e}`:"object"===t||"function"===t?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function G(e,t,r,n,i){const s=i&&"input"in i?i.input:r.value,o=i?.expected??e.expects??null,a=i?.received??K(s),c={kind:e.kind,type:e.type,input:s,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},u="schema"===e.kind,l=i?.message??e.message??W(e.reference,c.lang)??(u?V(c.lang):null)??n.message??U(c.lang);l&&(c.message="function"==typeof l?l(c):l),u&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}var Z=/\D/gu;function Y(e){const t=e.replace(Z,"");let r=t.length,n=1,i=0;for(;r;){const e=+t[--r];n^=1,i+=n?[0,2,4,6,8,1,3,5,7,9][e]:e}return i%10==0}function J(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}function X(e,t){const r={};for(const n of e)r[n]=t;return r}function Q(e){if(e.path){let t="";for(const r of e.path){if("string"!=typeof r.key&&"number"!=typeof r.key)return null;t+=t?`.${r.key}`:r.key}return t}return null}function ee(e,t){return t.kind===e}function te(e,t){return t.type===e}function re(e){return e instanceof ne}var ne=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function ie(e){return{kind:"validation",type:"bic",reference:ie,async:!1,expects:null,requirement:h,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"BIC",e,t),e}}}function se(e){return{kind:"transformation",type:"brand",reference:se,async:!1,name:e,_run:e=>e}}function oe(e,t){return{kind:"validation",type:"bytes",reference:oe,async:!1,expects:`${e}`,requirement:e,message:t,_run(e,t){if(e.typed){const r=(new TextEncoder).encode(e.value).length;r!==this.requirement&&G(this,"bytes",e,t,{received:`${r}`})}return e}}}function ae(e,t){return{kind:"validation",type:"check",reference:ae,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"input",e,t),e}}}function ce(e,t){return{kind:"validation",type:"check",reference:ce,async:!0,expects:null,requirement:e,message:t,async _run(e,t){return e.typed&&!await this.requirement(e.value)&&G(this,"input",e,t),e}}}function ue(e,t){return{kind:"validation",type:"check_items",reference:ue,async:!1,expects:null,requirement:e,message:t,_run(e,t){if(e.typed)for(let r=0;r<e.value.length;r++){const n=e.value[r];this.requirement(n,r,e.value)||G(this,"item",e,t,{input:n,path:[{type:"array",origin:"value",input:e.value,key:r,value:n}]})}return e}}}var le=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,de=/[- ]/gu,he=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u];function fe(e){return{kind:"validation",type:"credit_card",reference:fe,async:!1,expects:null,requirement(e){let t;return le.test(e)&&(t=e.replace(de,""))&&he.some(e=>e.test(t))&&Y(t)},message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"credit card",e,t),e}}}function pe(e){return{kind:"validation",type:"cuid2",reference:pe,async:!1,expects:null,requirement:f,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"Cuid2",e,t),e}}}function ye(e){return{kind:"validation",type:"decimal",reference:ye,async:!1,expects:null,requirement:p,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"decimal",e,t),e}}}function ge(e){return{kind:"validation",type:"email",reference:ge,expects:null,async:!1,requirement:y,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"email",e,t),e}}}function me(e){return{kind:"validation",type:"emoji",reference:me,async:!1,expects:null,requirement:g,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"emoji",e,t),e}}}function be(e){return{kind:"validation",type:"empty",reference:be,async:!1,expects:"0",message:e,_run(e,t){return e.typed&&e.value.length>0&&G(this,"length",e,t,{received:`${e.value.length}`}),e}}}function we(e,t){return{kind:"validation",type:"ends_with",reference:we,async:!1,expects:`"${e}"`,requirement:e,message:t,_run(e,t){return e.typed&&!e.value.endsWith(this.requirement)&&G(this,"end",e,t,{received:`"${e.value.slice(-this.requirement.length)}"`}),e}}}function ve(e,t){return{kind:"validation",type:"every_item",reference:ve,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!e.value.every(this.requirement)&&G(this,"item",e,t),e}}}function Ee(e,t){const r=K(e);return{kind:"validation",type:"excludes",reference:Ee,async:!1,expects:`!${r}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.includes(this.requirement)&&G(this,"content",e,t,{received:r}),e}}}function Oe(e){return{kind:"transformation",type:"filter_items",reference:Oe,async:!1,operation:e,_run(e){return e.value=e.value.filter(this.operation),e}}}function Se(e){return{kind:"transformation",type:"find_item",reference:Se,async:!1,operation:e,_run(e){return e.value=e.value.find(this.operation),e}}}function _e(e){return{kind:"validation",type:"finite",reference:_e,async:!1,expects:null,requirement:Number.isFinite,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"finite",e,t),e}}}var ke={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function Ae(e,t){return{kind:"validation",type:"hash",reference:Ae,expects:null,async:!1,requirement:RegExp(e.map(e=>`^[a-f0-9]{${ke[e]}}$`).join("|"),"iu"),message:t,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"hash",e,t),e}}}function Ie(e){return{kind:"validation",type:"hexadecimal",reference:Ie,async:!1,expects:null,requirement:m,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"hexadecimal",e,t),e}}}function xe(e){return{kind:"validation",type:"hex_color",reference:xe,async:!1,expects:null,requirement:b,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"hex color",e,t),e}}}function Te(e){return{kind:"validation",type:"imei",reference:Te,async:!1,expects:null,requirement:e=>w.test(e)&&Y(e),message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"IMEI",e,t),e}}}function Be(e,t){const r=K(e);return{kind:"validation",type:"includes",reference:Be,async:!1,expects:r,requirement:e,message:t,_run(e,t){return e.typed&&!e.value.includes(this.requirement)&&G(this,"content",e,t,{received:`!${r}`}),e}}}function Pe(e){return{kind:"validation",type:"integer",reference:Pe,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"integer",e,t),e}}}function je(e){return{kind:"validation",type:"ip",reference:je,async:!1,expects:null,requirement:O,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"IP",e,t),e}}}function Me(e){return{kind:"validation",type:"ipv4",reference:Me,async:!1,expects:null,requirement:v,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"IPv4",e,t),e}}}function Ce(e){return{kind:"validation",type:"ipv6",reference:Ce,async:!1,expects:null,requirement:E,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"IPv6",e,t),e}}}function Re(e){return{kind:"validation",type:"iso_date",reference:Re,async:!1,expects:null,requirement:S,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"date",e,t),e}}}function Ne(e){return{kind:"validation",type:"iso_date_time",reference:Ne,async:!1,expects:null,requirement:_,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"date-time",e,t),e}}}function Le(e){return{kind:"validation",type:"iso_time",reference:Le,async:!1,expects:null,requirement:k,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"time",e,t),e}}}function De(e){return{kind:"validation",type:"iso_time_second",reference:De,async:!1,expects:null,requirement:A,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"time-second",e,t),e}}}function Ue(e){return{kind:"validation",type:"iso_timestamp",reference:Ue,async:!1,expects:null,requirement:I,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"timestamp",e,t),e}}}function ze(e){return{kind:"validation",type:"iso_week",reference:ze,async:!1,expects:null,requirement:x,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"week",e,t),e}}}function qe(e,t){return{kind:"validation",type:"length",reference:qe,async:!1,expects:`${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.length!==this.requirement&&G(this,"length",e,t,{received:`${e.value.length}`}),e}}}function Ve(e){return{kind:"validation",type:"mac",reference:Ve,async:!1,expects:null,requirement:P,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"MAC",e,t),e}}}function He(e){return{kind:"validation",type:"mac48",reference:He,async:!1,expects:null,requirement:T,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"48-bit MAC",e,t),e}}}function $e(e){return{kind:"validation",type:"mac64",reference:$e,async:!1,expects:null,requirement:B,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"64-bit MAC",e,t),e}}}function We(e){return{kind:"transformation",type:"map_items",reference:We,async:!1,operation:e,_run(e){return e.value=e.value.map(this.operation),e}}}function Fe(e,t){return{kind:"validation",type:"max_bytes",reference:Fe,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(e,t){if(e.typed){const r=(new TextEncoder).encode(e.value).length;r>this.requirement&&G(this,"bytes",e,t,{received:`${r}`})}return e}}}function Ke(e,t){return{kind:"validation",type:"max_length",reference:Ke,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.length>this.requirement&&G(this,"length",e,t,{received:`${e.value.length}`}),e}}}function Ge(e,t){return{kind:"validation",type:"max_size",reference:Ge,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.size>this.requirement&&G(this,"size",e,t,{received:`${e.value.size}`}),e}}}function Ze(e,t){return{kind:"validation",type:"max_value",reference:Ze,async:!1,expects:`<=${e instanceof Date?e.toJSON():K(e)}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value>this.requirement&&G(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():K(e.value)}),e}}}function Ye(e,t){return{kind:"validation",type:"mime_type",reference:Ye,async:!1,expects:e.map(e=>`"${e}"`).join(" | ")||"never",requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement.includes(e.value.type)&&G(this,"MIME type",e,t,{received:`"${e.value.type}"`}),e}}}function Je(e,t){return{kind:"validation",type:"min_bytes",reference:Je,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(e,t){if(e.typed){const r=(new TextEncoder).encode(e.value).length;r<this.requirement&&G(this,"bytes",e,t,{received:`${r}`})}return e}}}function Xe(e,t){return{kind:"validation",type:"min_length",reference:Xe,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.length<this.requirement&&G(this,"length",e,t,{received:`${e.value.length}`}),e}}}function Qe(e,t){return{kind:"validation",type:"min_size",reference:Qe,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.size<this.requirement&&G(this,"size",e,t,{received:`${e.value.size}`}),e}}}function et(e,t){return{kind:"validation",type:"min_value",reference:et,async:!1,expects:`>=${e instanceof Date?e.toJSON():K(e)}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value<this.requirement&&G(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():K(e.value)}),e}}}function tt(e,t){return{kind:"validation",type:"multiple_of",reference:tt,async:!1,expects:`%${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value%this.requirement!==0&&G(this,"multiple",e,t),e}}}function rt(e){return{kind:"validation",type:"non_empty",reference:rt,async:!1,expects:"!0",message:e,_run(e,t){return e.typed&&0===e.value.length&&G(this,"length",e,t,{received:"0"}),e}}}function nt(e){return{kind:"transformation",type:"normalize",reference:nt,async:!1,form:e,_run(e){return e.value=e.value.normalize(this.form),e}}}function it(e,t){return{kind:"validation",type:"not_bytes",reference:it,async:!1,expects:`!${e}`,requirement:e,message:t,_run(e,t){if(e.typed){const r=(new TextEncoder).encode(e.value).length;r===this.requirement&&G(this,"bytes",e,t,{received:`${r}`})}return e}}}function st(e,t){return{kind:"validation",type:"not_length",reference:st,async:!1,expects:`!${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.length===this.requirement&&G(this,"length",e,t,{received:`${e.value.length}`}),e}}}function ot(e,t){return{kind:"validation",type:"not_size",reference:ot,async:!1,expects:`!${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.size===this.requirement&&G(this,"size",e,t,{received:`${e.value.size}`}),e}}}function at(e,t){return{kind:"validation",type:"not_value",reference:at,async:!1,expects:e instanceof Date?`!${e.toJSON()}`:`!${K(e)}`,requirement:e,message:t,_run(e,t){return e.typed&&this.requirement<=e.value&&this.requirement>=e.value&&G(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():K(e.value)}),e}}}function ct(e){return{kind:"validation",type:"octal",reference:ct,async:!1,expects:null,requirement:j,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"octal",e,t),e}}}function ut(e,t){if(e.issues)for(const r of t)for(const t of e.issues){let e=!1;const n=Math.min(r.length,t.path?.length??0);for(let i=0;i<n;i++)if(r[i]!==t.path[i].key){e=!0;break}if(!e)return!1}return!0}function lt(e,t,r){return{kind:"validation",type:"partial_check",reference:lt,async:!1,expects:null,requirement:t,message:r,_run(t,r){return ut(t,e)&&!this.requirement(t.value)&&G(this,"input",t,r),t}}}function dt(e,t,r){return{kind:"validation",type:"partial_check",reference:dt,async:!0,expects:null,requirement:t,message:r,async _run(t,r){return ut(t,e)&&!await this.requirement(t.value)&&G(this,"input",t,r),t}}}function ht(e){return{kind:"validation",type:"raw_check",reference:ht,async:!1,expects:null,_run(t,r){return e({dataset:t,config:r,addIssue:e=>G(this,e?.label??"input",t,r,e)}),t}}}function ft(e){return{kind:"validation",type:"raw_check",reference:ft,async:!0,expects:null,async _run(t,r){return await e({dataset:t,config:r,addIssue:e=>G(this,e?.label??"input",t,r,e)}),t}}}function pt(e){return{kind:"transformation",type:"raw_transform",reference:pt,async:!1,_run(t,r){const n=e({dataset:t,config:r,addIssue:e=>G(this,e?.label??"input",t,r,e),NEVER:null});return t.issues?t.typed=!1:t.value=n,t}}}function yt(e){return{kind:"transformation",type:"raw_transform",reference:yt,async:!0,async _run(t,r){const n=await e({dataset:t,config:r,addIssue:e=>G(this,e?.label??"input",t,r,e),NEVER:null});return t.issues?t.typed=!1:t.value=n,t}}}function gt(){return{kind:"transformation",type:"readonly",reference:gt,async:!1,_run:e=>e}}function mt(e,t){return{kind:"transformation",type:"reduce_items",reference:mt,async:!1,operation:e,initial:t,_run(e){return e.value=e.value.reduce(this.operation,this.initial),e}}}function bt(e,t){return{kind:"validation",type:"regex",reference:bt,async:!1,expects:`${e}`,requirement:e,message:t,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"format",e,t),e}}}function wt(e){return{kind:"validation",type:"safe_integer",reference:wt,async:!1,expects:null,requirement:Number.isSafeInteger,message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"safe integer",e,t),e}}}function vt(e,t){return{kind:"validation",type:"size",reference:vt,async:!1,expects:`${e}`,requirement:e,message:t,_run(e,t){return e.typed&&e.value.size!==this.requirement&&G(this,"size",e,t,{received:`${e.value.size}`}),e}}}function Et(e,t){return{kind:"validation",type:"some_item",reference:Et,async:!1,expects:null,requirement:e,message:t,_run(e,t){return e.typed&&!e.value.some(this.requirement)&&G(this,"item",e,t),e}}}function Ot(e){return{kind:"transformation",type:"sort_items",reference:Ot,async:!1,operation:e,_run(e){return e.value=e.value.sort(this.operation),e}}}function St(e,t){return{kind:"validation",type:"starts_with",reference:St,async:!1,expects:`"${e}"`,requirement:e,message:t,_run(e,t){return e.typed&&!e.value.startsWith(this.requirement)&&G(this,"start",e,t,{received:`"${e.value.slice(0,this.requirement.length)}"`}),e}}}function _t(){return{kind:"transformation",type:"to_lower_case",reference:_t,async:!1,_run:e=>(e.value=e.value.toLowerCase(),e)}}function kt(e){return{kind:"transformation",type:"to_max_value",reference:kt,async:!1,requirement:e,_run(e){return e.value=e.value>this.requirement?this.requirement:e.value,e}}}function At(e){return{kind:"transformation",type:"to_min_value",reference:At,async:!1,requirement:e,_run(e){return e.value=e.value<this.requirement?this.requirement:e.value,e}}}function It(){return{kind:"transformation",type:"to_upper_case",reference:It,async:!1,_run:e=>(e.value=e.value.toUpperCase(),e)}}function xt(e){return{kind:"transformation",type:"transform",reference:xt,async:!1,operation:e,_run(e){return e.value=this.operation(e.value),e}}}function Tt(e){return{kind:"transformation",type:"transform",reference:Tt,async:!0,operation:e,async _run(e){return e.value=await this.operation(e.value),e}}}function Bt(){return{kind:"transformation",type:"trim",reference:Bt,async:!1,_run:e=>(e.value=e.value.trim(),e)}}function Pt(){return{kind:"transformation",type:"trim_end",reference:Pt,async:!1,_run:e=>(e.value=e.value.trimEnd(),e)}}function jt(){return{kind:"transformation",type:"trim_start",reference:jt,async:!1,_run:e=>(e.value=e.value.trimStart(),e)}}function Mt(e){return{kind:"validation",type:"ulid",reference:Mt,async:!1,expects:null,requirement:M,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"ULID",e,t),e}}}function Ct(e){return{kind:"validation",type:"url",reference:Ct,async:!1,expects:null,requirement(e){try{return new URL(e),!0}catch{return!1}},message:e,_run(e,t){return e.typed&&!this.requirement(e.value)&&G(this,"URL",e,t),e}}}function Rt(e){return{kind:"validation",type:"uuid",reference:Rt,async:!1,expects:null,requirement:C,message:e,_run(e,t){return e.typed&&!this.requirement.test(e.value)&&G(this,"UUID",e,t),e}}}function Nt(e,t){return{kind:"validation",type:"value",reference:Nt,async:!1,expects:e instanceof Date?e.toJSON():K(e),requirement:e,message:t,_run(e,t){return!e.typed||this.requirement<=e.value&&this.requirement>=e.value||G(this,"value",e,t,{received:e.value instanceof Date?e.value.toJSON():K(e.value)}),e}}}function Lt(e,t){return{...e,_run:(r,n)=>e._run(r,{...n,...t})}}function Dt(e,t,r){return"function"==typeof e.fallback?e.fallback(t,r):e.fallback}function Ut(e,t){return{...e,fallback:t,_run(t,r){return e._run(t,r),t.issues?{typed:!0,value:Dt(this,t,r)}:t}}}function zt(e,t){return{...e,fallback:t,async:!0,async _run(t,r){return e._run(t,r),t.issues?{typed:!0,value:await Dt(this,t,r)}:t}}}function qt(e){const t={};for(const r of e)if(r.path){const e=Q(r);e?(t.nested||(t.nested={}),t.nested[e]?t.nested[e].push(r.message):t.nested[e]=[r.message]):t.other?t.other.push(r.message):t.other=[r.message]}else t.root?t.root.push(r.message):t.root=[r.message];return t}function Vt(e,t){return{...e,_run(r,n){const i=r.issues&&[...r.issues];if(e._run(r,n),r.issues)for(const e of r.issues)if(!i?.includes(e)){let n=r.value;for(const r of t){const t=n[r],i={type:"unknown",origin:"value",input:n,key:r,value:t};if(e.path?e.path.push(i):e.path=[i],!t)break;n=t}}return r}}}function Ht(e,t){return{...e,async:!0,async _run(r,n){const i=r.issues&&[...r.issues];if(await e._run(r,n),r.issues)for(const e of r.issues)if(!i?.includes(e)){let n=r.value;for(const r of t){const t=n[r],i={type:"unknown",origin:"value",input:n,key:r,value:t};if(e.path?e.path.push(i):e.path=[i],!t)break;n=t}}return r}}}function $t(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function Wt(e){if("entries"in e){const t={};for(const r in e.entries)t[r]=Wt(e.entries[r]);return t}return"items"in e?e.items.map(Wt):$t(e)}async function Ft(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await Ft(t)]))):"items"in e?Promise.all(e.items.map(Ft)):$t(e)}function Kt(e){if("entries"in e){const t={};for(const r in e.entries)t[r]=Kt(e.entries[r]);return t}return"items"in e?e.items.map(Kt):Dt(e)}async function Gt(e){return"entries"in e?Object.fromEntries(await Promise.all(Object.entries(e.entries).map(async([e,t])=>[e,await Gt(t)]))):"items"in e?Promise.all(e.items.map(Gt)):Dt(e)}function Zt(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function Yt(){return{kind:"schema",type:"any",reference:Yt,expects:"any",async:!1,_run:e=>(e.typed=!0,e)}}function Jt(e,t){return{kind:"schema",type:"array",reference:Jt,expects:"Array",async:!1,item:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<r.length;n++){const i=r[n],s=this.item._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else G(this,"type",e,t);return e}}}function Xt(e,t){return{kind:"schema",type:"array",reference:Xt,expects:"Array",async:!0,item:e,message:t,async _run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];const n=await Promise.all(r.map(e=>this.item._run({typed:!1,value:e},t)));for(let i=0;i<n.length;i++){const s=n[i];if(s.issues){const n={type:"array",origin:"value",input:r,key:i,value:r[i]};for(const t of s.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else G(this,"type",e,t);return e}}}function Qt(e){return{kind:"schema",type:"bigint",reference:Qt,expects:"bigint",async:!1,message:e,_run(e,t){return"bigint"==typeof e.value?e.typed=!0:G(this,"type",e,t),e}}}function er(e){return{kind:"schema",type:"blob",reference:er,expects:"Blob",async:!1,message:e,_run(e,t){return e.value instanceof Blob?e.typed=!0:G(this,"type",e,t),e}}}function tr(e){return{kind:"schema",type:"boolean",reference:tr,expects:"boolean",async:!1,message:e,_run(e,t){return"boolean"==typeof e.value?e.typed=!0:G(this,"type",e,t),e}}}function rr(e,t){return{kind:"schema",type:"custom",reference:rr,expects:"unknown",async:!1,check:e,message:t,_run(e,t){return this.check(e.value)?e.typed=!0:G(this,"type",e,t),e}}}function nr(e,t){return{kind:"schema",type:"custom",reference:nr,expects:"unknown",async:!0,check:e,message:t,async _run(e,t){return await this.check(e.value)?e.typed=!0:G(this,"type",e,t),e}}}function ir(e){return{kind:"schema",type:"date",reference:ir,expects:"Date",async:!1,message:e,_run(e,t){return e.value instanceof Date?isNaN(e.value)?G(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:G(this,"type",e,t),e}}}function sr(e,t){const r=Object.entries(e).filter(([e])=>isNaN(+e)).map(([,e])=>e);return{kind:"schema",type:"enum",reference:sr,expects:r.map(K).join(" | ")||"never",async:!1,enum:e,options:r,message:t,_run(e,t){return this.options.includes(e.value)?e.typed=!0:G(this,"type",e,t),e}}}function or(e){return{kind:"schema",type:"file",reference:or,expects:"File",async:!1,message:e,_run(e,t){return e.value instanceof File?e.typed=!0:G(this,"type",e,t),e}}}function ar(e){return{kind:"schema",type:"function",reference:ar,expects:"Function",async:!1,message:e,_run(e,t){return"function"==typeof e.value?e.typed=!0:G(this,"type",e,t),e}}}function cr(e,t){return{kind:"schema",type:"instance",reference:cr,expects:e.name,async:!1,class:e,message:t,_run(e,t){return e.value instanceof this.class?e.typed=!0:G(this,"type",e,t),e}}}function ur(e,t){if(typeof e==typeof t){if(e===t||e instanceof Date&&t instanceof Date&&+e===+t)return{value:e};if(e&&t&&e.constructor===Object&&t.constructor===Object){for(const r in t)if(r in e){const n=ur(e[r],t[r]);if(n.issue)return n;e[r]=n.value}else e[r]=t[r];return{value:e}}if(Array.isArray(e)&&Array.isArray(t)&&e.length===t.length){for(let r=0;r<e.length;r++){const n=ur(e[r],t[r]);if(n.issue)return n;e[r]=n.value}return{value:e}}}return{issue:!0}}function lr(e,t){return{kind:"schema",type:"intersect",reference:lr,expects:[...new Set(e.map(e=>e.expects))].join(" & ")||"never",async:!1,options:e,message:t,_run(e,t){if(this.options.length){const r=e.value;let n;e.typed=!0;for(const i of this.options){const s=i._run({typed:!1,value:r},t);if(s.issues&&(e.issues?e.issues.push(...s.issues):e.issues=s.issues,t.abortEarly)){e.typed=!1;break}s.typed||(e.typed=!1),e.typed&&(n?n.push(s.value):n=[s.value])}if(e.typed){e.value=n[0];for(let r=1;r<n.length;r++){const i=ur(e.value,n[r]);if(i.issue){G(this,"type",e,t,{received:"unknown"});break}e.value=i.value}}}else G(this,"type",e,t);return e}}}function dr(e,t){return{kind:"schema",type:"intersect",reference:dr,expects:[...new Set(e.map(e=>e.expects))].join(" & ")||"never",async:!0,options:e,message:t,async _run(e,t){if(this.options.length){const r=e.value;let n;e.typed=!0;const i=await Promise.all(this.options.map(e=>e._run({typed:!1,value:r},t)));for(const r of i){if(r.issues&&(e.issues?e.issues.push(...r.issues):e.issues=r.issues,t.abortEarly)){e.typed=!1;break}r.typed||(e.typed=!1),e.typed&&(n?n.push(r.value):n=[r.value])}if(e.typed){e.value=n[0];for(let r=1;r<n.length;r++){const i=ur(e.value,n[r]);if(i.issue){G(this,"type",e,t,{received:"unknown"});break}e.value=i.value}}}else G(this,"type",e,t);return e}}}function hr(e){return{kind:"schema",type:"lazy",reference:hr,expects:"unknown",async:!1,getter:e,_run(e,t){return this.getter(e.value)._run(e,t)}}}function fr(e){return{kind:"schema",type:"lazy",reference:fr,expects:"unknown",async:!0,getter:e,async _run(e,t){return(await this.getter(e.value))._run(e,t)}}}function pr(e,t){return{kind:"schema",type:"literal",reference:pr,expects:K(e),async:!1,literal:e,message:t,_run(e,t){return e.value===this.literal?e.typed=!0:G(this,"type",e,t),e}}}function yr(e,t){return{kind:"schema",type:"loose_object",reference:yr,expects:"Object",async:!1,entries:e,message:t,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}if(!e.issues||!t.abortEarly)for(const t in r)J(r,t)&&!(t in this.entries)&&(e.value[t]=r[t])}else G(this,"type",e,t);return e}}}function gr(e,t){return{kind:"schema",type:"loose_object",reference:gr,expects:"Object",async:!0,entries:e,message:t,async _run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};const n=await Promise.all(Object.entries(this.entries).map(async([e,n])=>{const i=r[e];return[e,i,await n._run({typed:!1,value:i},t)]}));for(const[i,s,o]of n){if(o.issues){const n={type:"object",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),(void 0!==o.value||i in r)&&(e.value[i]=o.value)}if(!e.issues||!t.abortEarly)for(const t in r)J(r,t)&&!(t in this.entries)&&(e.value[t]=r[t])}else G(this,"type",e,t);return e}}}function mr(e,t){return{kind:"schema",type:"loose_tuple",reference:mr,expects:"Array",async:!1,items:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){const i=r[n],s=this.items[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}if(!e.issues||!t.abortEarly)for(let t=this.items.length;t<r.length;t++)e.value.push(r[t])}else G(this,"type",e,t);return e}}}function br(e,t){return{kind:"schema",type:"loose_tuple",reference:br,expects:"Array",async:!0,items:e,message:t,async _run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];const n=await Promise.all(this.items.map(async(e,n)=>{const i=r[n];return[n,i,await e._run({typed:!1,value:i},t)]}));for(const[i,s,o]of n){if(o.issues){const n={type:"array",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}if(!e.issues||!t.abortEarly)for(let t=this.items.length;t<r.length;t++)e.value.push(r[t])}else G(this,"type",e,t);return e}}}function wr(e,t,r){return{kind:"schema",type:"map",reference:wr,expects:"Map",async:!1,key:e,value:t,message:r,_run(e,t){const r=e.value;if(r instanceof Map){e.typed=!0,e.value=new Map;for(const[n,i]of r){const s=this.key._run({typed:!1,value:n},t);if(s.issues){const o={type:"map",origin:"key",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const o=this.value._run({typed:!1,value:i},t);if(o.issues){const s={type:"map",origin:"value",input:r,key:n,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}s.typed&&o.typed||(e.typed=!1),e.value.set(s.value,o.value)}}else G(this,"type",e,t);return e}}}function vr(e,t,r){return{kind:"schema",type:"map",reference:vr,expects:"Map",async:!0,key:e,value:t,message:r,async _run(e,t){const r=e.value;if(r instanceof Map){e.typed=!0,e.value=new Map;const n=await Promise.all([...r].map(([e,r])=>Promise.all([e,r,this.key._run({typed:!1,value:e},t),this.value._run({typed:!1,value:r},t)])));for(const[i,s,o,a]of n){if(o.issues){const n={type:"map",origin:"key",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}if(a.issues){const n={type:"map",origin:"value",input:r,key:i,value:s};for(const t of a.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}o.typed&&a.typed||(e.typed=!1),e.value.set(o.value,a.value)}}else G(this,"type",e,t);return e}}}function Er(e){return{kind:"schema",type:"nan",reference:Er,expects:"NaN",async:!1,message:e,_run(e,t){return Number.isNaN(e.value)?e.typed=!0:G(this,"type",e,t),e}}}function Or(e){return{kind:"schema",type:"never",reference:Or,expects:"never",async:!1,message:e,_run(e,t){return G(this,"type",e,t),e}}}function Sr(e,t){return{kind:"schema",type:"non_nullable",reference:Sr,expects:"!null",async:!1,wrapped:e,message:t,_run(e,t){return null===e.value?(G(this,"type",e,t),e):this.wrapped._run(e,t)}}}function _r(e,t){return{kind:"schema",type:"non_nullable",reference:_r,expects:"!null",async:!0,wrapped:e,message:t,async _run(e,t){return null===e.value?(G(this,"type",e,t),e):this.wrapped._run(e,t)}}}function kr(e,t){return{kind:"schema",type:"non_nullish",reference:kr,expects:"!null & !undefined",async:!1,wrapped:e,message:t,_run(e,t){return null===e.value||void 0===e.value?(G(this,"type",e,t),e):this.wrapped._run(e,t)}}}function Ar(e,t){return{kind:"schema",type:"non_nullish",reference:Ar,expects:"!null & !undefined",async:!0,wrapped:e,message:t,async _run(e,t){return null===e.value||void 0===e.value?(G(this,"type",e,t),e):this.wrapped._run(e,t)}}}function Ir(e,t){return{kind:"schema",type:"non_optional",reference:Ir,expects:"!undefined",async:!1,wrapped:e,message:t,_run(e,t){return void 0===e.value?(G(this,"type",e,t),e):this.wrapped._run(e,t)}}}function xr(e,t){return{kind:"schema",type:"non_optional",reference:xr,expects:"!undefined",async:!0,wrapped:e,message:t,async _run(e,t){return void 0===e.value?(G(this,"type",e,t),e):this.wrapped._run(e,t)}}}function Tr(e){return{kind:"schema",type:"null",reference:Tr,expects:"null",async:!1,message:e,_run(e,t){return null===e.value?e.typed=!0:G(this,"type",e,t),e}}}function Br(e,...t){const r={kind:"schema",type:"nullable",reference:Br,expects:`${e.expects} | null`,async:!1,wrapped:e,_run(e,t){return null===e.value&&("default"in this&&(e.value=$t(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function Pr(e,...t){const r={kind:"schema",type:"nullable",reference:Pr,expects:`${e.expects} | null`,async:!0,wrapped:e,async _run(e,t){return null===e.value&&("default"in this&&(e.value=await $t(this,e,t)),null===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function jr(e,...t){const r={kind:"schema",type:"nullish",reference:jr,expects:`${e.expects} | null | undefined`,async:!1,wrapped:e,_run(e,t){return null!==e.value&&void 0!==e.value||("default"in this&&(e.value=$t(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped._run(e,t):(e.typed=!0,e)}};return 0 in t&&(r.default=t[0]),r}function Mr(e,...t){const r={kind:"schema",type:"nullish",reference:Mr,expects:`${e.expects} | null | undefined`,async:!0,wrapped:e,async _run(e,t){return null!==e.value&&void 0!==e.value||("default"in this&&(e.value=await $t(this,e,t)),null!==e.value&&void 0!==e.value)?this.wrapped._run(e,t):(e.typed=!0,e)}};return 0 in t&&(r.default=t[0]),r}function Cr(e){return{kind:"schema",type:"number",reference:Cr,expects:"number",async:!1,message:e,_run(e,t){return"number"!=typeof e.value||isNaN(e.value)?G(this,"type",e,t):e.typed=!0,e}}}function Rr(e,t){return{kind:"schema",type:"object",reference:Rr,expects:"Object",async:!1,entries:e,message:t,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}}else G(this,"type",e,t);return e}}}function Nr(e,t){return{kind:"schema",type:"object",reference:Nr,expects:"Object",async:!0,entries:e,message:t,async _run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};const n=await Promise.all(Object.entries(this.entries).map(async([e,n])=>{const i=r[e];return[e,i,await n._run({typed:!1,value:i},t)]}));for(const[i,s,o]of n){if(o.issues){const n={type:"object",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),(void 0!==o.value||i in r)&&(e.value[i]=o.value)}}else G(this,"type",e,t);return e}}}function Lr(e,t,r){return{kind:"schema",type:"object_with_rest",reference:Lr,expects:"Object",async:!1,entries:e,rest:t,message:r,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}if(!e.issues||!t.abortEarly)for(const n in r)if(J(r,n)&&!(n in this.entries)){const i=r[n],s=this.rest._run({typed:!1,value:i},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value[n]=s.value}}else G(this,"type",e,t);return e}}}function Dr(e,t,r){return{kind:"schema",type:"object_with_rest",reference:Dr,expects:"Object",async:!0,entries:e,rest:t,message:r,async _run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};const[n,i]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([e,n])=>{const i=r[e];return[e,i,await n._run({typed:!1,value:i},t)]})),Promise.all(Object.entries(r).filter(([e])=>J(r,e)&&!(e in this.entries)).map(async([e,r])=>[e,r,await this.rest._run({typed:!1,value:r},t)]))]);for(const[i,s,o]of n){if(o.issues){const n={type:"object",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),(void 0!==o.value||i in r)&&(e.value[i]=o.value)}if(!e.issues||!t.abortEarly)for(const[n,s,o]of i){if(o.issues){const i={type:"object",origin:"value",input:r,key:n,value:s};for(const t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[n]=o.value}}else G(this,"type",e,t);return e}}}function Ur(e,...t){const r={kind:"schema",type:"optional",reference:Ur,expects:`${e.expects} | undefined`,async:!1,wrapped:e,_run(e,t){return void 0===e.value&&("default"in this&&(e.value=$t(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function zr(e,...t){const r={kind:"schema",type:"optional",reference:zr,expects:`${e.expects} | undefined`,async:!0,wrapped:e,async _run(e,t){return void 0===e.value&&("default"in this&&(e.value=await $t(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped._run(e,t)}};return 0 in t&&(r.default=t[0]),r}function qr(e,t){return{kind:"schema",type:"picklist",reference:qr,expects:e.map(K).join(" | ")||"never",async:!1,options:e,message:t,_run(e,t){return this.options.includes(e.value)?e.typed=!0:G(this,"type",e,t),e}}}function Vr(e){return{kind:"schema",type:"promise",reference:Vr,expects:"Promise",async:!1,message:e,_run(e,t){return e.value instanceof Promise?e.typed=!0:G(this,"type",e,t),e}}}function Hr(e,t,r){return{kind:"schema",type:"record",reference:Hr,expects:"Object",async:!1,key:e,value:t,message:r,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in r)if(J(r,n)){const i=r[n],s=this.key._run({typed:!1,value:n},t);if(s.issues){const o={type:"object",origin:"key",input:r,key:n,value:i};for(const t of s.issues)t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}const o=this.value._run({typed:!1,value:i},t);if(o.issues){const s={type:"object",origin:"value",input:r,key:n,value:i};for(const t of o.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}s.typed&&o.typed||(e.typed=!1),s.typed&&(e.value[s.value]=o.value)}}else G(this,"type",e,t);return e}}}function $r(e,t,r){return{kind:"schema",type:"record",reference:$r,expects:"Object",async:!0,key:e,value:t,message:r,async _run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};const n=await Promise.all(Object.entries(r).filter(([e])=>J(r,e)).map(([e,r])=>Promise.all([e,r,this.key._run({typed:!1,value:e},t),this.value._run({typed:!1,value:r},t)])));for(const[i,s,o,a]of n){if(o.issues){const n={type:"object",origin:"key",input:r,key:i,value:s};for(const t of o.issues)t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}if(a.issues){const n={type:"object",origin:"value",input:r,key:i,value:s};for(const t of a.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=a.issues),t.abortEarly){e.typed=!1;break}}o.typed&&a.typed||(e.typed=!1),o.typed&&(e.value[o.value]=a.value)}}else G(this,"type",e,t);return e}}}function Wr(e,t){return{kind:"schema",type:"set",reference:Wr,expects:"Set",async:!1,value:e,message:t,_run(e,t){const r=e.value;if(r instanceof Set){e.typed=!0,e.value=new Set;for(const n of r){const i=this.value._run({typed:!1,value:n},t);if(i.issues){const s={type:"set",origin:"value",input:r,key:null,value:n};for(const t of i.issues)t.path?t.path.unshift(s):t.path=[s],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.add(i.value)}}else G(this,"type",e,t);return e}}}function Fr(e,t){return{kind:"schema",type:"set",reference:Fr,expects:"Set",async:!0,value:e,message:t,async _run(e,t){const r=e.value;if(r instanceof Set){e.typed=!0,e.value=new Set;const n=await Promise.all([...r].map(async e=>[e,await this.value._run({typed:!1,value:e},t)]));for(const[i,s]of n){if(s.issues){const n={type:"set",origin:"value",input:r,key:null,value:i};for(const t of s.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.add(s.value)}}else G(this,"type",e,t);return e}}}function Kr(e,t){return{kind:"schema",type:"strict_object",reference:Kr,expects:"Object",async:!1,entries:e,message:t,_run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};for(const n in this.entries){const i=r[n],s=this.entries[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"object",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),(void 0!==s.value||n in r)&&(e.value[n]=s.value)}if(!e.issues||!t.abortEarly)for(const n in r)if(!(n in this.entries)){const i=r[n];G(this,"type",e,t,{input:i,expected:"never",path:[{type:"object",origin:"value",input:r,key:n,value:i}]});break}}else G(this,"type",e,t);return e}}}function Gr(e,t){return{kind:"schema",type:"strict_object",reference:Gr,expects:"Object",async:!0,entries:e,message:t,async _run(e,t){const r=e.value;if(r&&"object"==typeof r){e.typed=!0,e.value={};const n=await Promise.all(Object.entries(this.entries).map(async([e,n])=>{const i=r[e];return[e,i,await n._run({typed:!1,value:i},t)]}));for(const[i,s,o]of n){if(o.issues){const n={type:"object",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),(void 0!==o.value||i in r)&&(e.value[i]=o.value)}if(!e.issues||!t.abortEarly)for(const n in r)if(!(n in this.entries)){const i=r[n];G(this,"type",e,t,{input:i,expected:"never",path:[{type:"object",origin:"value",input:r,key:n,value:i}]});break}}else G(this,"type",e,t);return e}}}function Zr(e,t){return{kind:"schema",type:"strict_tuple",reference:Zr,expects:"Array",async:!1,items:e,message:t,_run(t,r){const n=t.value;if(Array.isArray(n)){t.typed=!0,t.value=[];for(let e=0;e<this.items.length;e++){const i=n[e],s=this.items[e]._run({typed:!1,value:i},r);if(s.issues){const o={type:"array",origin:"value",input:n,key:e,value:i};for(const e of s.issues)e.path?e.path.unshift(o):e.path=[o],t.issues?.push(e);if(t.issues||(t.issues=s.issues),r.abortEarly){t.typed=!1;break}}s.typed||(t.typed=!1),t.value.push(s.value)}if((!t.issues||!r.abortEarly)&&this.items.length<n.length){const i=n[e.length];G(this,"type",t,r,{input:i,expected:"never",path:[{type:"array",origin:"value",input:n,key:this.items.length,value:i}]})}}else G(this,"type",t,r);return t}}}function Yr(e,t){return{kind:"schema",type:"strict_tuple",reference:Yr,expects:"Array",async:!0,items:e,message:t,async _run(t,r){const n=t.value;if(Array.isArray(n)){t.typed=!0,t.value=[];const i=await Promise.all(this.items.map(async(e,t)=>{const i=n[t];return[t,i,await e._run({typed:!1,value:i},r)]}));for(const[e,s,o]of i){if(o.issues){const i={type:"array",origin:"value",input:n,key:e,value:s};for(const e of o.issues)e.path?e.path.unshift(i):e.path=[i],t.issues?.push(e);if(t.issues||(t.issues=o.issues),r.abortEarly){t.typed=!1;break}}o.typed||(t.typed=!1),t.value.push(o.value)}if((!t.issues||!r.abortEarly)&&this.items.length<n.length){const i=n[e.length];G(this,"type",t,r,{input:i,expected:"never",path:[{type:"array",origin:"value",input:n,key:this.items.length,value:i}]})}}else G(this,"type",t,r);return t}}}function Jr(e){return{kind:"schema",type:"string",reference:Jr,expects:"string",async:!1,message:e,_run(e,t){return"string"==typeof e.value?e.typed=!0:G(this,"type",e,t),e}}}function Xr(e){return{kind:"schema",type:"symbol",reference:Xr,expects:"symbol",async:!1,message:e,_run(e,t){return"symbol"==typeof e.value?e.typed=!0:G(this,"type",e,t),e}}}function Qr(e,t){return{kind:"schema",type:"tuple",reference:Qr,expects:"Array",async:!1,items:e,message:t,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){const i=r[n],s=this.items[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else G(this,"type",e,t);return e}}}function en(e,t){return{kind:"schema",type:"tuple",reference:en,expects:"Array",async:!0,items:e,message:t,async _run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];const n=await Promise.all(this.items.map(async(e,n)=>{const i=r[n];return[n,i,await e._run({typed:!1,value:i},t)]}));for(const[i,s,o]of n){if(o.issues){const n={type:"array",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}}else G(this,"type",e,t);return e}}}function tn(e,t,r){return{kind:"schema",type:"tuple_with_rest",reference:tn,expects:"Array",async:!1,items:e,rest:t,message:r,_run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let n=0;n<this.items.length;n++){const i=r[n],s=this.items[n]._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}if(!e.issues||!t.abortEarly)for(let n=this.items.length;n<r.length;n++){const i=r[n],s=this.rest._run({typed:!1,value:i},t);if(s.issues){const o={type:"array",origin:"value",input:r,key:n,value:i};for(const t of s.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=s.issues),t.abortEarly){e.typed=!1;break}}s.typed||(e.typed=!1),e.value.push(s.value)}}else G(this,"type",e,t);return e}}}function rn(e,t,r){return{kind:"schema",type:"tuple_with_rest",reference:rn,expects:"Array",async:!0,items:e,rest:t,message:r,async _run(e,t){const r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];const[n,i]=await Promise.all([Promise.all(this.items.map(async(e,n)=>{const i=r[n];return[n,i,await e._run({typed:!1,value:i},t)]})),Promise.all(r.slice(this.items.length).map(async(e,r)=>[r+this.items.length,e,await this.rest._run({typed:!1,value:e},t)]))]);for(const[i,s,o]of n){if(o.issues){const n={type:"array",origin:"value",input:r,key:i,value:s};for(const t of o.issues)t.path?t.path.unshift(n):t.path=[n],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}if(!e.issues||!t.abortEarly)for(const[n,s,o]of i){if(o.issues){const i={type:"array",origin:"value",input:r,key:n,value:s};for(const t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value.push(o.value)}}else G(this,"type",e,t);return e}}}function nn(e){return{kind:"schema",type:"undefined",reference:nn,expects:"undefined",async:!1,message:e,_run(e,t){return void 0===e.value?e.typed=!0:G(this,"type",e,t),e}}}function sn(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function on(e,t){return{kind:"schema",type:"union",reference:on,expects:[...new Set(e.map(e=>e.expects))].join(" | ")||"never",async:!1,options:e,message:t,_run(e,t){let r,n,i;for(const s of this.options){const o=s._run({typed:!1,value:e.value},t);if(o.typed){if(!o.issues){r=o;break}n?n.push(o):n=[o]}else i?i.push(o):i=[o]}if(r)return r;if(n){if(1===n.length)return n[0];G(this,"type",e,t,{issues:sn(n)}),e.typed=!0}else{if(1===i?.length)return i[0];G(this,"type",e,t,{issues:sn(i)})}return e}}}function an(e,t){return{kind:"schema",type:"union",reference:an,expects:[...new Set(e.map(e=>e.expects))].join(" | ")||"never",async:!0,options:e,message:t,async _run(e,t){let r,n,i;for(const s of this.options){const o=await s._run({typed:!1,value:e.value},t);if(o.typed){if(!o.issues){r=o;break}n?n.push(o):n=[o]}else i?i.push(o):i=[o]}if(r)return r;if(n){if(1===n.length)return n[0];G(this,"type",e,t,{issues:sn(n)}),e.typed=!0}else{if(1===i?.length)return i[0];G(this,"type",e,t,{issues:sn(i)})}return e}}}function cn(){return{kind:"schema",type:"unknown",reference:cn,expects:"unknown",async:!1,_run:e=>(e.typed=!0,e)}}function un(e,t,r=new Set){for(const n of t)"variant"===n.type?un(e,n.options,r):r.add(n.entries[e].expects);return r}function ln(e,t,r){let n;return{kind:"schema",type:"variant",reference:ln,expects:"Object",async:!1,key:e,options:t,message:r,_run(e,t){const r=e.value;if(r&&"object"==typeof r){const i=r[this.key];if(this.key in r){let e;for(const n of this.options)if("variant"===n.type||!n.entries[this.key]._run({typed:!1,value:i},t).issues){const i=n._run({typed:!1,value:r},t);if(!i.issues)return i;(!e||!e.typed&&i.typed)&&(e=i)}if(e)return e}n||(n=[...un(this.key,this.options)].join(" | ")||"never"),G(this,"type",e,t,{input:i,expected:n,path:[{type:"object",origin:"value",input:r,key:this.key,value:i}]})}else G(this,"type",e,t);return e}}}function dn(e,t,r){let n;return{kind:"schema",type:"variant",reference:dn,expects:"Object",async:!0,key:e,options:t,message:r,async _run(e,t){const r=e.value;if(r&&"object"==typeof r){const i=r[this.key];if(this.key in r){let e;for(const n of this.options)if("variant"===n.type||!(await n.entries[this.key]._run({typed:!1,value:i},t)).issues){const i=await n._run({typed:!1,value:r},t);if(!i.issues)return i;(!e||!e.typed&&i.typed)&&(e=i)}if(e)return e}n||(n=[...un(this.key,this.options)].join(" | ")||"never"),G(this,"type",e,t,{input:i,expected:n,path:[{type:"object",origin:"value",input:r,key:this.key,value:i}]})}else G(this,"type",e,t);return e}}}function hn(e){return{kind:"schema",type:"void",reference:hn,expects:"void",async:!1,message:e,_run(e,t){return void 0===e.value?e.typed=!0:G(this,"type",e,t),e}}}function fn(e,t){return qr(Object.keys(e.entries),t)}function pn(e,t){const r={...e.entries};for(const e of t)delete r[e];return{...e,entries:r}}function yn(e,t,r){const n=e._run({typed:!1,value:t},N(r));if(n.issues)throw new ne(n.issues);return n.value}async function gn(e,t,r){const n=await e._run({typed:!1,value:t},N(r));if(n.issues)throw new ne(n.issues);return n.value}function mn(e,t){const r=r=>yn(e,r,t);return r.schema=e,r.config=t,r}function bn(e,t){const r=r=>gn(e,r,t);return r.schema=e,r.config=t,r}function wn(e,t){const r={};for(const n in e.entries)r[n]=!t||t.includes(n)?Ur(e.entries[n]):e.entries[n];return{...e,entries:r}}function vn(e,t){const r={};for(const n in e.entries)r[n]=!t||t.includes(n)?zr(e.entries[n]):e.entries[n];return{...e,entries:r}}function En(e,t){const r={};for(const n of t)r[n]=e.entries[n];return{...e,entries:r}}function On(...e){return{...e[0],pipe:e,_run(t,r){for(let n=0;n<e.length;n++){if(t.issues&&("schema"===e[n].kind||"transformation"===e[n].kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=e[n]._run(t,r))}return t}}}function Sn(...e){return{...e[0],pipe:e,async:!0,async _run(t,r){for(let n=0;n<e.length;n++){if(t.issues&&("schema"===e[n].kind||"transformation"===e[n].kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=await e[n]._run(t,r))}return t}}}function _n(e,t,r){const n=Array.isArray(t)?t:void 0,i=Array.isArray(t)?r:t,s={};for(const t in e.entries)s[t]=!n||n.includes(t)?Ir(e.entries[t],i):e.entries[t];return{...e,entries:s}}function kn(e,t,r){const n=Array.isArray(t)?t:void 0,i=Array.isArray(t)?r:t,s={};for(const t in e.entries)s[t]=!n||n.includes(t)?xr(e.entries[t],i):e.entries[t];return{...e,entries:s}}function An(e,t,r){const n=e._run({typed:!1,value:t},N(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}async function In(e,t,r){const n=await e._run({typed:!1,value:t},N(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}function xn(e,t){const r=r=>An(e,r,t);return r.schema=e,r.config=t,r}function Tn(e,t){const r=r=>In(e,r,t);return r.schema=e,r.config=t,r}function Bn(e){return e.wrapped}},9417:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{SerializedTransactionDataV2:()=>v}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9415),l=r(7784);function d(e){return(0,u.union)(Object.entries(e).map(([e,t])=>(0,u.object)({[e]:t})))}const h=d({GasCoin:(0,u.literal)(!0),Input:(0,u.pipe)((0,u.number)(),(0,u.integer)()),Result:(0,u.pipe)((0,u.number)(),(0,u.integer)()),NestedResult:(0,u.tuple)([(0,u.pipe)((0,u.number)(),(0,u.integer)()),(0,u.pipe)((0,u.number)(),(0,u.integer)())])}),f=(0,u.object)({budget:(0,u.nullable)(l.JsonU64),price:(0,u.nullable)(l.JsonU64),owner:(0,u.nullable)(l.IotaAddress),payment:(0,u.nullable)((0,u.array)(l.ObjectRef))}),p=(0,u.object)({package:l.ObjectID,module:(0,u.string)(),function:(0,u.string)(),typeArguments:(0,u.array)((0,u.string)()),arguments:(0,u.array)(h)}),y=(0,u.object)({name:(0,u.string)(),inputs:(0,u.record)((0,u.string)(),(0,u.union)([h,(0,u.array)(h)])),data:(0,u.record)((0,u.string)(),(0,u.unknown)())}),g=d({MoveCall:p,TransferObjects:(0,u.object)({objects:(0,u.array)(h),address:h}),SplitCoins:(0,u.object)({coin:h,amounts:(0,u.array)(h)}),MergeCoins:(0,u.object)({destination:h,sources:(0,u.array)(h)}),Publish:(0,u.object)({modules:(0,u.array)(l.BCSBytes),dependencies:(0,u.array)(l.ObjectID)}),MakeMoveVec:(0,u.object)({type:(0,u.nullable)((0,u.string)()),elements:(0,u.array)(h)}),Upgrade:(0,u.object)({modules:(0,u.array)(l.BCSBytes),dependencies:(0,u.array)(l.ObjectID),package:l.ObjectID,ticket:h}),$Intent:y}),m=d({ImmOrOwnedObject:l.ObjectRef,SharedObject:(0,u.object)({objectId:l.ObjectID,initialSharedVersion:l.JsonU64,mutable:(0,u.boolean)()}),Receiving:l.ObjectRef}),b=d({Object:m,Pure:(0,u.object)({bytes:l.BCSBytes}),UnresolvedPure:(0,u.object)({value:(0,u.unknown)()}),UnresolvedObject:(0,u.object)({objectId:l.ObjectID,version:(0,u.optional)((0,u.nullable)(l.JsonU64)),digest:(0,u.optional)((0,u.nullable)((0,u.string)())),initialSharedVersion:(0,u.optional)((0,u.nullable)(l.JsonU64))})}),w=d({None:(0,u.literal)(!0),Epoch:l.JsonU64}),v=(0,u.object)({version:(0,u.literal)(2),sender:(0,u.nullish)(l.IotaAddress),expiration:(0,u.nullish)(w),gasData:f,inputs:(0,u.array)(b),commands:(0,u.array)(g)})},9423:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{IotaHTTPStatusError:()=>l,IotaHTTPTransportError:()=>c,JsonRpcError:()=>u}),e.exports=(t=o,((e,t,o,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of i(t))s.call(e,o)||void 0===o||r(e,o,{get:()=>t[o],enumerable:!(a=n(t,o))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));const a={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class c extends Error{}class u extends c{constructor(e,t){super(e),this.code=t,this.type=a[t]??"ServerError"}}class l extends c{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}},9511:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{BcsReader:()=>l}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(3810);class l{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)}shift(e){return this.bytePosition+=e,this}read8(){const e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){const e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){const e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){const e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){const e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){const e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){const t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){const e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=(0,u.ulebDecode)(t);return this.shift(n),r}readVec(e){const t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}},9549:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{SUI_ADDRESS_LENGTH:()=>f,isValidSuiAddress:()=>p,isValidSuiObjectId:()=>y,isValidTransactionDigest:()=>h,normalizeStructTag:()=>m,normalizeSuiAddress:()=>b,normalizeSuiObjectId:()=>w,parseStructTag:()=>g}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(9113),l=r(4401);const d=32;function h(e){try{return(0,u.fromBase58)(e).length===d}catch(e){return!1}}const f=32;function p(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(e)&&function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)===f}function y(e){return p(e)}function g(e){const[t,r]=e.split("::"),n=(0,l.isValidNamedPackage)(t),i=e.slice(t.length+r.length+4),s=i.includes("<")?i.slice(0,i.indexOf("<")):i,o=i.includes("<")?(0,u.splitGenericParameters)(i.slice(i.indexOf("<")+1,i.lastIndexOf(">"))).map(e=>function(e){return e.includes("::")?g(e):e}(e.trim())):[];return{address:n?t:b(t),module:r,name:s,typeParams:o}}function m(e){const{address:t,module:r,name:n,typeParams:i}="string"==typeof e?g(e):e;return`${t}::${r}::${n}${i?.length>0?`<${i.map(e=>"string"==typeof e?e:m(e)).join(",")}>`:""}`}function b(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(2*f,"0")}`}function w(e,t=!1){return b(e,t)}},9572:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let s;Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_getWallets=t.getWallets=void 0;const o=new Set,a={};function c(){if(s)return s;if(s=Object.freeze({register:u,get:d,on:h}),"undefined"==typeof window)return s;const e=Object.freeze({register:u});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new p(e))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return s}function u(...e){var t;return(e=e.filter(e=>!o.has(e))).length?(e.forEach(e=>function(e){l=void 0,o.add(e)}(e)),null===(t=a.register)||void 0===t||t.forEach(t=>f(()=>t(...e))),function(){var t;e.forEach(e=>function(e){l=void 0,o.delete(e)}(e)),null===(t=a.unregister)||void 0===t||t.forEach(t=>f(()=>t(...e)))}):()=>{}}let l;function d(){return l||(l=[...o]),l}function h(e,t){var r;return(null===(r=a[e])||void 0===r?void 0:r.push(t))||(a[e]=[t]),function(){var r;a[e]=null===(r=a[e])||void 0===r?void 0:r.filter(e=>t!==e)}}function f(e){try{e()}catch(e){console.error(e)}}t.getWallets=c;class p extends Event{get detail(){return n(this,r,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),i(this,r,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}r=new WeakMap,t.DEPRECATED_getWallets=function(){if(s)return s;if(s=c(),"undefined"==typeof window)return s;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),s;const{register:t}=s,r=(...e)=>e.forEach(e=>f(()=>e({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch(e){return console.error("window.navigator.wallets could not be set"),s}return r(...e),s}},9617:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.walletsAPIs=void 0;const s=r(2413);t.walletsAPIs={connect:e=>i(void 0,void 0,void 0,function*(){const t="string"==typeof e?[e]:e,r=yield(0,s.request)({method:"cos_supportedChainIds",params:void 0});if(!t.every(e=>r.official.includes(e)||r.unofficial.includes(e)))throw new Error("Unsupported chainId is exist");yield(0,s.request)({method:"cos_requestAccount",params:{chainName:t[0]}})}),getAccount:e=>i(void 0,void 0,void 0,function*(){try{const t=yield(0,s.request)({method:"cos_requestAccount",params:{chainName:e}});return{name:t.name,is_ledger:!!t.isLedger,public_key:{type:t.isEthermint?"ethsecp256k1":"secp256k1",value:n.from(t.publicKey,"hex").toString("base64")},address:t.address}}catch(e){throw new Error(e.message||"Unknown Error")}}),signAmino:(e,t,r)=>i(void 0,void 0,void 0,function*(){var n,i;try{const o=yield(0,s.request)({method:"cos_signAmino",params:{chainName:e,doc:t,isEditFee:null===(n=null==r?void 0:r.edit_mode)||void 0===n?void 0:n.fee,isEditMemo:null===(i=null==r?void 0:r.edit_mode)||void 0===i?void 0:i.memo,isCheckBalance:null==r?void 0:r.is_check_balance}});return{signature:o.signature,signed_doc:o.signed_doc}}catch(e){throw new Error(e.message||"Unknown Error")}}),signDirect:(e,t,r)=>i(void 0,void 0,void 0,function*(){var i,o;const a="string"==typeof t.body_bytes?new Uint8Array(n.from(t.body_bytes,"hex")):new Uint8Array(t.body_bytes),c="string"==typeof t.auth_info_bytes?new Uint8Array(n.from(t.auth_info_bytes,"hex")):new Uint8Array(t.auth_info_bytes);try{const n=yield(0,s.request)({method:"cos_signDirect",params:{chainName:e,doc:Object.assign(Object.assign({},t),{body_bytes:a,auth_info_bytes:c}),isEditFee:null===(i=null==r?void 0:r.edit_mode)||void 0===i?void 0:i.fee,isEditMemo:null===(o=null==r?void 0:r.edit_mode)||void 0===o?void 0:o.memo,isCheckBalance:null==r?void 0:r.is_check_balance}});return{signature:n.signature,signed_doc:{auth_info_bytes:n.signed_doc.auth_info_bytes,body_bytes:n.signed_doc.body_bytes}}}catch(e){throw new Error(e.message||"Unknown Error")}}),sendTransaction:(e,t,r)=>i(void 0,void 0,void 0,function*(){var i,o;const a=null!=r?r:2,c=yield(0,s.request)({method:"cos_sendTransaction",params:{chainName:e,mode:a,txBytes:t&&"object"==typeof t?n.from(t).toString("base64"):t}});if(0!==(null===(i=null==c?void 0:c.tx_response)||void 0===i?void 0:i.code))throw"string"==typeof(null===(o=null==c?void 0:c.tx_response)||void 0===o?void 0:o.raw_log)?new Error(c.tx_response.raw_log):new Error("Unknown Error");return c.tx_response.txhash}),signMessage:(e,t,r)=>i(void 0,void 0,void 0,function*(){return{signature:(yield(0,s.request)({method:"cos_signMessage",params:{chainName:e,signer:r,message:t}})).signature}}),verifyMessage:(e,t,r,n,o)=>i(void 0,void 0,void 0,function*(){return yield(0,s.request)({method:"cos_verifyMessage",params:{chainName:e,signer:r,message:t,publicKey:o,signature:n}})}),disconnect:()=>i(void 0,void 0,void 0,function*(){yield(0,s.request)({method:"cos_disconnect",params:void 0})}),addChain:e=>i(void 0,void 0,void 0,function*(){yield(0,s.request)({method:"cos_addChain",params:{addressPrefix:e.address_prefix,baseDenom:e.base_denom,chainId:e.chain_id,chainName:e.chain_name,coinType:e.coin_type,decimals:e.decimals,displayDenom:e.display_denom,gasRate:e.gas_rate,restURL:e.lcd_url,coinGeckoId:e.coingecko_id,cosmWasm:e.cosmwasm,imageURL:e.image_url,type:e.type}})}),getSupportedChainIds:()=>i(void 0,void 0,void 0,function*(){const e=yield(0,s.request)({method:"cos_supportedChainIds",params:void 0});return[...e.official,...e.unofficial]}),on:(e,t)=>{"AccountChanged"===e&&window.addEventListener("cosmostation_keystorechange",t)},off:(e,t)=>{"AccountChanged"===e&&window.removeEventListener("cosmostation_keystorechange",t)}}},9813:function(e,t,r){"use strict";var n=r(8287).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.request=t.solanaRequestApp=void 0;const o=r(1138),a=r(6619),c=r(5104),u=r(963);function l(e){return new Promise((t,r)=>{const n=(0,c.uuidv4)(),i=e=>{var s,o,a;if((null===(s=e.data)||void 0===s?void 0:s.isCosmostation)&&(null===(o=e.data)||void 0===o?void 0:o.messageId)===n){window.removeEventListener("message",i);const{data:n}=e;(null===(a=n.response)||void 0===a?void 0:a.error)?r(n.response.error):t(n.response.result)}};window.addEventListener("message",i),(0,a.sendMessageWebToApp)(e,n)})}t.solanaRequestApp=l,t.request=function({method:e,params:t}){return i(this,void 0,void 0,function*(){const r=`solana_${e}`;if("solana_connect"===r){const e=yield l({method:"solana_connect",params:void 0}),{publicKey:t}=e;return{publicKey:new o.PublicKey(n.from(t,"hex"))}}if("solana_signMessage"===r){const{message:e}=t,i=n.from(e).toString("hex"),s=yield l({method:r,params:{message:i}}),{publicKey:a,signature:c}=s;return{publicKey:new o.PublicKey(n.from(a,"hex")),signature:new Uint8Array(n.from(c,"hex"))}}if("solana_signTransaction"===r||"solana_signAllTransactions"===r){const e=t.map(({tx:e})=>"version"in e?{serializedTx:n.from(e.serialize()).toString("base64")}:{serializedTx:n.from(e.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64")}),i=(yield l({method:r,params:e})).map(e=>(0,u.deserializeTransaction)(e)).map(e=>(0,u.isVersionedTransaction)(e)?{tx:e.serialize()}:{tx:e.serialize({requireAllSignatures:!1,verifySignatures:!1})});if("solana_signTransaction"===r)return i[0];if("solana_signAllTransactions"===r)return i}else{if("solana_signAndSendTransaction"!==r&&"solana_signAndSendAllTransactions"!==r)return yield l({method:r,params:t});{const e=t.map(e=>{var{tx:t}=e,r=s(e,["tx"]);return"version"in t?Object.assign({serializedTx:n.from(t.serialize()).toString("base64")},r):Object.assign({serializedTx:n.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64")},r)}),i=yield l({method:r,params:e});if("solana_signAndSendTransaction"===r)return i;if("solana_signAndSendAllTransactions"===r)return i}}})}},9825:(e,t,r)=>{"use strict";var n,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{extractMutableReference:()=>l,extractReference:()=>d,extractStructTag:()=>h,getIdFromCallArg:()=>f}),e.exports=(n=c,((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))a.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(n=s(t,r))||n.enumerable});return e})(i({},"__esModule",{value:!0}),n));var u=r(4279);function l(e){return"object"==typeof e&&"MutableReference"in e?e.MutableReference:void 0}function d(e){return"object"==typeof e&&"Reference"in e?e.Reference:void 0}function h(e){if("object"==typeof e&&"Struct"in e)return e;const t=d(e),r=l(e);return"object"==typeof t&&"Struct"in t?t:"object"==typeof r&&"Struct"in r?r:void 0}function f(e){return"string"==typeof e?(0,u.normalizeIotaAddress)(e):e.Object?e.Object.ImmOrOwnedObject?(0,u.normalizeIotaAddress)(e.Object.ImmOrOwnedObject.objectId):e.Object.Receiving?(0,u.normalizeIotaAddress)(e.Object.Receiving.objectId):(0,u.normalizeIotaAddress)(e.Object.SharedObject.objectId):e.UnresolvedObject?(0,u.normalizeIotaAddress)(e.UnresolvedObject.objectId):void 0}},9888:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(243),t),i(r(569),t),i(r(5403),t),i(r(4822),t)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=r(4008),t=r(7825),n=r(5936),i=r(6875),s=r(1963),o=r(7710),a=r(4306),c=r(7141),u=r(5590),l=r(5496);(()=>{window.cosmostation={version:"0.4.11",handlerInfos:[],cosmos:n.cosmos,ethereum:t.ethereum,bitcoin:a.bitcoin,tendermint:n.tendermint,providers:{keplr:n.keplr,metamask:t.ethereum},mode:"mobile-web"},window.keplr=n.keplr,window.getOfflineSigner=window.keplr.getOfflineSigner,window.getOfflineSignerOnlyAmino=window.keplr.getOfflineSignerOnlyAmino,window.getOfflineSignerAuto=window.keplr.getOfflineSignerAuto,window.injectedTomo={info:{name:u.COSMOSTATION_WALLET_NAME,logo:u.COSMOSTATION_ENCODED_LOGO_IMAGE},bitcoin:a.bitcoin,cosmos:n.keplr},window.ethereum=window.cosmostation.providers.metamask,window.btcwallet=a.btcwallet;const r=new i.CosmostationWallet;(0,c.registerWallet)(new s.CosmostationIotaWallet),(0,o.registerWallet)(r),(0,o.registerWallet)(new l.CosmostationSolanaWallet),(0,e.registerCosmosWallet)(n.cosmosWallet),(0,t.announceEthereumProvider)()})()})()})();